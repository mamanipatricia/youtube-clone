(function(e){const t=e["en"]=e["en"]||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Create a block quote":"Create a block quote","Create a bulleted list":"Create a bulleted list","Create a code block":"Create a code block","Create a heading level 1":"Create a heading level 1","Create a heading level 2":"Create a heading level 2","Create a heading level 3":"Create a heading level 3","Create a heading level 4":"Create a heading level 4","Create a heading level 5":"Create a heading level 5","Create a heading level 6":"Create a heading level 6","Create a numbered list":"Create a numbered list","Create a table":"Create a table","Create a to-do list":"Create a to-do list","Decrease indent":"Decrease indent","Decrease the indentation":"Decrease the indentation","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase the indentation":"Increase the indentation",Insert:"Insert","Insert a horizontal line":"Insert a horizontal line","Insert a paragraph":"Insert a paragraph","Insert an HTML snippet":"Insert an HTML snippet","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert Mermaid diagram":"Insert Mermaid diagram","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert table of contents":"Insert table of contents","Insert the Mermaid diagram":"Insert the Mermaid diagram",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file browser to insert an image or a file":"Open file browser to insert an image or a file","Open file manager":"Open file manager","Open file manager to insert an image or a file":"Open file manager to insert an image or a file","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Saving changes":"Saving changes","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));
/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof exports==="object")exports["ClassicEditor"]=n();else t["ClassicEditor"]=n()})(self,(()=>(()=>{var __webpack_modules__={6209:()=>{"use strict";var md5;var __WEBPACK_DEFAULT_EXPORT__=md5;(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var o=e.getMinutes();var r=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(n<10?"0"+n:""+n)+" "+(i<10?"0"+i:""+i)+":"+(o<10?"0"+o:""+o)+":"+(r<10?"0"+r:""+r)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":");var n=new Date;n.setTime(0);n.setUTCHours(t[0]);n.setUTCMinutes(t[1]);n.setUTCSeconds(t[2]);return n;case 10:var t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(" ");var i=t[0].split("-");var o=t[1].split(":");return new Date(i[0],i[1]-1,i[2],o[0],o[1],o[2]);default:throw"Invalid date format : "+e}};HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);if(n!=n)return undefined;return n};HxOverrides.substr=function(e,t,n){if(t!=null&&t!=0&&n!=null&&n<0)return"";if(n==null)n=e.length;if(t<0){t=e.length+t;if(t<0)t=0}else if(n<0)n=e.length+n-t;return e.substr(t,n)};HxOverrides.remove=function(e,t){var n=0;var i=e.length;while(n<i){if(e[n]==t){e.splice(n,1);return true}n++}return false};HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e;this.max=t};IntIter.__name__=true;IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=true;Std["is"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,"")};Std["int"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady()};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100)};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance()};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)};haxe.Log.clear=function(){js.Boot.__clear_trace()};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var n=1732584193;var i=-271733879;var o=-1732584194;var r=271733878;var s;var a=0;while(a<t.length){var c=n;var l=i;var d=o;var u=r;s=0;n=this.ff(n,i,o,r,t[a],7,-680876936);r=this.ff(r,n,i,o,t[a+1],12,-389564586);o=this.ff(o,r,n,i,t[a+2],17,606105819);i=this.ff(i,o,r,n,t[a+3],22,-1044525330);n=this.ff(n,i,o,r,t[a+4],7,-176418897);r=this.ff(r,n,i,o,t[a+5],12,1200080426);o=this.ff(o,r,n,i,t[a+6],17,-1473231341);i=this.ff(i,o,r,n,t[a+7],22,-45705983);n=this.ff(n,i,o,r,t[a+8],7,1770035416);r=this.ff(r,n,i,o,t[a+9],12,-1958414417);o=this.ff(o,r,n,i,t[a+10],17,-42063);i=this.ff(i,o,r,n,t[a+11],22,-1990404162);n=this.ff(n,i,o,r,t[a+12],7,1804603682);r=this.ff(r,n,i,o,t[a+13],12,-40341101);o=this.ff(o,r,n,i,t[a+14],17,-1502002290);i=this.ff(i,o,r,n,t[a+15],22,1236535329);n=this.gg(n,i,o,r,t[a+1],5,-165796510);r=this.gg(r,n,i,o,t[a+6],9,-1069501632);o=this.gg(o,r,n,i,t[a+11],14,643717713);i=this.gg(i,o,r,n,t[a],20,-373897302);n=this.gg(n,i,o,r,t[a+5],5,-701558691);r=this.gg(r,n,i,o,t[a+10],9,38016083);o=this.gg(o,r,n,i,t[a+15],14,-660478335);i=this.gg(i,o,r,n,t[a+4],20,-405537848);n=this.gg(n,i,o,r,t[a+9],5,568446438);r=this.gg(r,n,i,o,t[a+14],9,-1019803690);o=this.gg(o,r,n,i,t[a+3],14,-187363961);i=this.gg(i,o,r,n,t[a+8],20,1163531501);n=this.gg(n,i,o,r,t[a+13],5,-1444681467);r=this.gg(r,n,i,o,t[a+2],9,-51403784);o=this.gg(o,r,n,i,t[a+7],14,1735328473);i=this.gg(i,o,r,n,t[a+12],20,-1926607734);n=this.hh(n,i,o,r,t[a+5],4,-378558);r=this.hh(r,n,i,o,t[a+8],11,-2022574463);o=this.hh(o,r,n,i,t[a+11],16,1839030562);i=this.hh(i,o,r,n,t[a+14],23,-35309556);n=this.hh(n,i,o,r,t[a+1],4,-1530992060);r=this.hh(r,n,i,o,t[a+4],11,1272893353);o=this.hh(o,r,n,i,t[a+7],16,-155497632);i=this.hh(i,o,r,n,t[a+10],23,-1094730640);n=this.hh(n,i,o,r,t[a+13],4,681279174);r=this.hh(r,n,i,o,t[a],11,-358537222);o=this.hh(o,r,n,i,t[a+3],16,-722521979);i=this.hh(i,o,r,n,t[a+6],23,76029189);n=this.hh(n,i,o,r,t[a+9],4,-640364487);r=this.hh(r,n,i,o,t[a+12],11,-421815835);o=this.hh(o,r,n,i,t[a+15],16,530742520);i=this.hh(i,o,r,n,t[a+2],23,-995338651);n=this.ii(n,i,o,r,t[a],6,-198630844);r=this.ii(r,n,i,o,t[a+7],10,1126891415);o=this.ii(o,r,n,i,t[a+14],15,-1416354905);i=this.ii(i,o,r,n,t[a+5],21,-57434055);n=this.ii(n,i,o,r,t[a+12],6,1700485571);r=this.ii(r,n,i,o,t[a+3],10,-1894986606);o=this.ii(o,r,n,i,t[a+10],15,-1051523);i=this.ii(i,o,r,n,t[a+1],21,-2054922799);n=this.ii(n,i,o,r,t[a+8],6,1873313359);r=this.ii(r,n,i,o,t[a+15],10,-30611744);o=this.ii(o,r,n,i,t[a+6],15,-1560198380);i=this.ii(i,o,r,n,t[a+13],21,1309151649);n=this.ii(n,i,o,r,t[a+4],6,-145523070);r=this.ii(r,n,i,o,t[a+11],10,-1120210379);o=this.ii(o,r,n,i,t[a+2],15,718787259);i=this.ii(i,o,r,n,t[a+9],21,-343485551);n=this.addme(n,c);i=this.addme(i,l);o=this.addme(o,d);r=this.addme(r,u);a+=16}return this.rhex(n)+this.rhex(i)+this.rhex(o)+this.rhex(r)},ii:function(e,t,n,i,o,r,s){return this.cmn(this.bitXOR(n,this.bitOR(t,~i)),e,t,o,r,s)},hh:function(e,t,n,i,o,r,s){return this.cmn(this.bitXOR(this.bitXOR(t,n),i),e,t,o,r,s)},gg:function(e,t,n,i,o,r,s){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(n,~i)),e,t,o,r,s)},ff:function(e,t,n,i,o,r,s){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(~t,i)),e,t,o,r,s)},cmn:function(e,t,n,i,o,r){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(i,r)),o),n)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var n=new Array;var i=0,o=t*16;while(i<o){var r=i++;n[r]=0}var r=0;while(r<e.length){n[r>>2]|=HxOverrides.cca(e,r)<<(e.length*8+r)%4*8;r++}n[r>>2]|=128<<(e.length*8+r)%4*8;var s=e.length*8;var a=t*16-2;n[a]=s&255;n[a]|=(s>>>8&255)<<8;n[a]|=(s>>>16&255)<<16;n[a]|=(s>>>24&255)<<24;return n},rhex:function(e){var t="";var n="0123456789abcdef";var i=0;while(i<4){var o=i++;t+=n.charAt(e>>o*8+4&15)+n.charAt(e>>o*8&15)}return t},addme:function(e,t){var n=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535},bitAND:function(e,t){var n=e&1&(t&1);var i=e>>>1&t>>>1;return i<<1|n},bitXOR:function(e,t){var n=e&1^t&1;var i=e>>>1^t>>>1;return i<<1|n},bitOR:function(e,t){var n=e&1|t&1;var i=e>>>1|t>>>1;return i<<1|n},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run()}),e)};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var n=new haxe.Timer(t);n.run=function(){n.stop();e()};return n};haxe.Timer.measure=function(e,t){var n=haxe.Timer.stamp();var i=e();haxe.Log.trace(haxe.Timer.stamp()-n+"s",t);return i};haxe.Timer.stamp=function(){return(new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};js.Boot.__trace=function(e,t){var n=t!=null?t.fileName+":"+t.lineNumber+": ":"";n+=js.Boot.__string_rec(e,"");var i;if(typeof document!="undefined"&&(i=document.getElementById("haxe:trace"))!=null)i.innerHTML+=js.Boot.__unhtml(n)+"<br/>";else if(typeof console!="undefined"&&console.log!=null)console.log(n)};js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");if(e!=null)e.innerHTML=""};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return"null";if(t.length>=5)return"<...>";var n=typeof e;if(n=="function"&&(e.__name__||e.__ename__))n="object";switch(n){case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var i=e[0]+"(";t+="\t";var o=2,r=e.length;while(o<r){var s=o++;if(s!=2)i+=","+js.Boot.__string_rec(e[s],t);else i+=js.Boot.__string_rec(e[s],t)}return i+")"}var a=e.length;var s;var i="[";t+="\t";var r=0;while(r<a){var c=r++;i+=(c>0?",":"")+js.Boot.__string_rec(e[c],t)}i+="]";return i}var l;try{l=e.toString}catch(e){return"???"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!="[object Object]")return d}var u=null;var i="{\n";t+="\t";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u=="prototype"||u=="__class__"||u=="__super__"||u=="__interfaces__"||u=="__properties__"){continue}if(i.length!=2)i+=", \n";i+=t+u+" : "+js.Boot.__string_rec(e[u],t)}t=t.substring(1);i+="\n"+t+"}";return i;case"function":return"<function>";case"string":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var n=e.__interfaces__;if(n!=null){var i=0,o=n.length;while(i<o){var r=i++;var s=n[r];if(s==t||js.Boot.__interfLoop(s,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e=="number";case Bool:return e===true||e===false;case String:return typeof e=="string";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;else null;if(t==Enum&&e.__ename__!=null)return true;else null;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw"Cannot cast "+Std.string(e)+" to "+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""))};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e};var $_;function $bind(e,t){var n=function(){return n.method.apply(n.scope,arguments)};n.scope=e;n.method=t;return n}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var n=e.indexOf(t);if(n==-1)return false;e.splice(n,1);return true};else null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=["Date"];var Int={__name__:["Int"]};var Dynamic={__name__:["Dynamic"]};var Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]};var Enum={};var Void={__ename__:["Void"]};if(typeof document!="undefined")js.Lib.document=document;if(typeof window!="undefined"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,n){var i=js.Lib.onerror;if(i==null)return false;return i(e,[t+":"+n])}}com.wiris.js.JsPluginTools.main();delete Array.prototype.__class__})();(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var o=e.getMinutes();var r=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(n<10?"0"+n:""+n)+" "+(i<10?"0"+i:""+i)+":"+(o<10?"0"+o:""+o)+":"+(r<10?"0"+r:""+r)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":");var n=new Date;n.setTime(0);n.setUTCHours(t[0]);n.setUTCMinutes(t[1]);n.setUTCSeconds(t[2]);return n;case 10:var t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(" ");var i=t[0].split("-");var o=t[1].split(":");return new Date(i[0],i[1]-1,i[2],o[0],o[1],o[2]);default:throw"Invalid date format : "+e}};HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);if(n!=n)return undefined;return n};HxOverrides.substr=function(e,t,n){if(t!=null&&t!=0&&n!=null&&n<0)return"";if(n==null)n=e.length;if(t<0){t=e.length+t;if(t<0)t=0}else if(n<0)n=e.length+n-t;return e.substr(t,n)};HxOverrides.remove=function(e,t){var n=0;var i=e.length;while(n<i){if(e[n]==t){e.splice(n,1);return true}n++}return false};HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e;this.max=t};IntIter.__name__=true;IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=true;Std["is"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,"")};Std["int"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady()};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100)};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance()};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)};haxe.Log.clear=function(){js.Boot.__clear_trace()};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var n=1732584193;var i=-271733879;var o=-1732584194;var r=271733878;var s;var a=0;while(a<t.length){var c=n;var l=i;var d=o;var u=r;s=0;n=this.ff(n,i,o,r,t[a],7,-680876936);r=this.ff(r,n,i,o,t[a+1],12,-389564586);o=this.ff(o,r,n,i,t[a+2],17,606105819);i=this.ff(i,o,r,n,t[a+3],22,-1044525330);n=this.ff(n,i,o,r,t[a+4],7,-176418897);r=this.ff(r,n,i,o,t[a+5],12,1200080426);o=this.ff(o,r,n,i,t[a+6],17,-1473231341);i=this.ff(i,o,r,n,t[a+7],22,-45705983);n=this.ff(n,i,o,r,t[a+8],7,1770035416);r=this.ff(r,n,i,o,t[a+9],12,-1958414417);o=this.ff(o,r,n,i,t[a+10],17,-42063);i=this.ff(i,o,r,n,t[a+11],22,-1990404162);n=this.ff(n,i,o,r,t[a+12],7,1804603682);r=this.ff(r,n,i,o,t[a+13],12,-40341101);o=this.ff(o,r,n,i,t[a+14],17,-1502002290);i=this.ff(i,o,r,n,t[a+15],22,1236535329);n=this.gg(n,i,o,r,t[a+1],5,-165796510);r=this.gg(r,n,i,o,t[a+6],9,-1069501632);o=this.gg(o,r,n,i,t[a+11],14,643717713);i=this.gg(i,o,r,n,t[a],20,-373897302);n=this.gg(n,i,o,r,t[a+5],5,-701558691);r=this.gg(r,n,i,o,t[a+10],9,38016083);o=this.gg(o,r,n,i,t[a+15],14,-660478335);i=this.gg(i,o,r,n,t[a+4],20,-405537848);n=this.gg(n,i,o,r,t[a+9],5,568446438);r=this.gg(r,n,i,o,t[a+14],9,-1019803690);o=this.gg(o,r,n,i,t[a+3],14,-187363961);i=this.gg(i,o,r,n,t[a+8],20,1163531501);n=this.gg(n,i,o,r,t[a+13],5,-1444681467);r=this.gg(r,n,i,o,t[a+2],9,-51403784);o=this.gg(o,r,n,i,t[a+7],14,1735328473);i=this.gg(i,o,r,n,t[a+12],20,-1926607734);n=this.hh(n,i,o,r,t[a+5],4,-378558);r=this.hh(r,n,i,o,t[a+8],11,-2022574463);o=this.hh(o,r,n,i,t[a+11],16,1839030562);i=this.hh(i,o,r,n,t[a+14],23,-35309556);n=this.hh(n,i,o,r,t[a+1],4,-1530992060);r=this.hh(r,n,i,o,t[a+4],11,1272893353);o=this.hh(o,r,n,i,t[a+7],16,-155497632);i=this.hh(i,o,r,n,t[a+10],23,-1094730640);n=this.hh(n,i,o,r,t[a+13],4,681279174);r=this.hh(r,n,i,o,t[a],11,-358537222);o=this.hh(o,r,n,i,t[a+3],16,-722521979);i=this.hh(i,o,r,n,t[a+6],23,76029189);n=this.hh(n,i,o,r,t[a+9],4,-640364487);r=this.hh(r,n,i,o,t[a+12],11,-421815835);o=this.hh(o,r,n,i,t[a+15],16,530742520);i=this.hh(i,o,r,n,t[a+2],23,-995338651);n=this.ii(n,i,o,r,t[a],6,-198630844);r=this.ii(r,n,i,o,t[a+7],10,1126891415);o=this.ii(o,r,n,i,t[a+14],15,-1416354905);i=this.ii(i,o,r,n,t[a+5],21,-57434055);n=this.ii(n,i,o,r,t[a+12],6,1700485571);r=this.ii(r,n,i,o,t[a+3],10,-1894986606);o=this.ii(o,r,n,i,t[a+10],15,-1051523);i=this.ii(i,o,r,n,t[a+1],21,-2054922799);n=this.ii(n,i,o,r,t[a+8],6,1873313359);r=this.ii(r,n,i,o,t[a+15],10,-30611744);o=this.ii(o,r,n,i,t[a+6],15,-1560198380);i=this.ii(i,o,r,n,t[a+13],21,1309151649);n=this.ii(n,i,o,r,t[a+4],6,-145523070);r=this.ii(r,n,i,o,t[a+11],10,-1120210379);o=this.ii(o,r,n,i,t[a+2],15,718787259);i=this.ii(i,o,r,n,t[a+9],21,-343485551);n=this.addme(n,c);i=this.addme(i,l);o=this.addme(o,d);r=this.addme(r,u);a+=16}return this.rhex(n)+this.rhex(i)+this.rhex(o)+this.rhex(r)},ii:function(e,t,n,i,o,r,s){return this.cmn(this.bitXOR(n,this.bitOR(t,~i)),e,t,o,r,s)},hh:function(e,t,n,i,o,r,s){return this.cmn(this.bitXOR(this.bitXOR(t,n),i),e,t,o,r,s)},gg:function(e,t,n,i,o,r,s){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(n,~i)),e,t,o,r,s)},ff:function(e,t,n,i,o,r,s){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(~t,i)),e,t,o,r,s)},cmn:function(e,t,n,i,o,r){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(i,r)),o),n)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var n=new Array;var i=0,o=t*16;while(i<o){var r=i++;n[r]=0}var r=0;while(r<e.length){n[r>>2]|=HxOverrides.cca(e,r)<<(e.length*8+r)%4*8;r++}n[r>>2]|=128<<(e.length*8+r)%4*8;var s=e.length*8;var a=t*16-2;n[a]=s&255;n[a]|=(s>>>8&255)<<8;n[a]|=(s>>>16&255)<<16;n[a]|=(s>>>24&255)<<24;return n},rhex:function(e){var t="";var n="0123456789abcdef";var i=0;while(i<4){var o=i++;t+=n.charAt(e>>o*8+4&15)+n.charAt(e>>o*8&15)}return t},addme:function(e,t){var n=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535},bitAND:function(e,t){var n=e&1&(t&1);var i=e>>>1&t>>>1;return i<<1|n},bitXOR:function(e,t){var n=e&1^t&1;var i=e>>>1^t>>>1;return i<<1|n},bitOR:function(e,t){var n=e&1|t&1;var i=e>>>1|t>>>1;return i<<1|n},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run()}),e)};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var n=new haxe.Timer(t);n.run=function(){n.stop();e()};return n};haxe.Timer.measure=function(e,t){var n=haxe.Timer.stamp();var i=e();haxe.Log.trace(haxe.Timer.stamp()-n+"s",t);return i};haxe.Timer.stamp=function(){return(new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};js.Boot.__trace=function(e,t){var n=t!=null?t.fileName+":"+t.lineNumber+": ":"";n+=js.Boot.__string_rec(e,"");var i;if(typeof document!="undefined"&&(i=document.getElementById("haxe:trace"))!=null)i.innerHTML+=js.Boot.__unhtml(n)+"<br/>";else if(typeof console!="undefined"&&console.log!=null)console.log(n)};js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");if(e!=null)e.innerHTML=""};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return"null";if(t.length>=5)return"<...>";var n=typeof e;if(n=="function"&&(e.__name__||e.__ename__))n="object";switch(n){case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var i=e[0]+"(";t+="\t";var o=2,r=e.length;while(o<r){var s=o++;if(s!=2)i+=","+js.Boot.__string_rec(e[s],t);else i+=js.Boot.__string_rec(e[s],t)}return i+")"}var a=e.length;var s;var i="[";t+="\t";var r=0;while(r<a){var c=r++;i+=(c>0?",":"")+js.Boot.__string_rec(e[c],t)}i+="]";return i}var l;try{l=e.toString}catch(e){return"???"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!="[object Object]")return d}var u=null;var i="{\n";t+="\t";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u=="prototype"||u=="__class__"||u=="__super__"||u=="__interfaces__"||u=="__properties__"){continue}if(i.length!=2)i+=", \n";i+=t+u+" : "+js.Boot.__string_rec(e[u],t)}t=t.substring(1);i+="\n"+t+"}";return i;case"function":return"<function>";case"string":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var n=e.__interfaces__;if(n!=null){var i=0,o=n.length;while(i<o){var r=i++;var s=n[r];if(s==t||js.Boot.__interfLoop(s,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e=="number";case Bool:return e===true||e===false;case String:return typeof e=="string";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;else null;if(t==Enum&&e.__ename__!=null)return true;else null;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw"Cannot cast "+Std.string(e)+" to "+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""))};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e};var $_;function $bind(e,t){var n=function(){return n.method.apply(n.scope,arguments)};n.scope=e;n.method=t;return n}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var n=e.indexOf(t);if(n==-1)return false;e.splice(n,1);return true};else null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=["Date"];var Int={__name__:["Int"]};var Dynamic={__name__:["Dynamic"]};var Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]};var Enum={};var Void={__ename__:["Void"]};if(typeof document!="undefined")js.Lib.document=document;if(typeof window!="undefined"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,n){var i=js.Lib.onerror;if(i==null)return false;return i(e,[t+":"+n])}}com.wiris.js.JsPluginTools.main()})();delete Array.prototype.__class__},7209:(e,t,n)=>{"use strict";n.d(t,{GD:()=>z,ZP:()=>V});e=n.hmd(e);let i;const o=typeof TextDecoder!=="undefined"?new TextDecoder("utf-8",{ignoreBOM:true,fatal:true}):{decode:()=>{throw Error("TextDecoder not available")}};if(typeof TextDecoder!=="undefined"){o.decode()}let r=null;function s(){if(r===null||r.byteLength===0){r=new Uint8Array(i.memory.buffer)}return r}function a(e,t){e=e>>>0;return o.decode(s().subarray(e,e+t))}const c=new Array(128).fill(undefined);c.push(undefined,null,true,false);let l=c.length;function d(e){if(l===c.length)c.push(c.length+1);const t=l;l=c[t];c[t]=e;return t}function u(e){return c[e]}let h=0;const f=typeof TextEncoder!=="undefined"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}};const g=typeof f.encodeInto==="function"?function(e,t){return f.encodeInto(e,t)}:function(e,t){const n=f.encode(e);t.set(n);return{read:e.length,written:n.length}};function m(e,t,n){if(n===undefined){const n=f.encode(e);const i=t(n.length)>>>0;s().subarray(i,i+n.length).set(n);h=n.length;return i}let i=e.length;let o=t(i)>>>0;const r=s();let a=0;for(;a<i;a++){const t=e.charCodeAt(a);if(t>127)break;r[o+a]=t}if(a!==i){if(a!==0){e=e.slice(a)}o=n(o,i,i=a+e.length*3)>>>0;const t=s().subarray(o+a,o+i);const r=g(e,t);a+=r.written}h=a;return o}function p(e){return e===undefined||e===null}let b=null;function k(){if(b===null||b.byteLength===0){b=new Int32Array(i.memory.buffer)}return b}function w(e){if(e<132)return;c[e]=l;l=e}function _(e){const t=u(e);w(e);return t}let A=null;function v(){if(A===null||A.byteLength===0){A=new Float64Array(i.memory.buffer)}return A}function C(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null){return`${e}`}if(t=="string"){return`"${e}"`}if(t=="symbol"){const t=e.description;if(t==null){return"Symbol"}else{return`Symbol(${t})`}}if(t=="function"){const t=e.name;if(typeof t=="string"&&t.length>0){return`Function(${t})`}else{return"Function"}}if(Array.isArray(e)){const t=e.length;let n="[";if(t>0){n+=C(e[0])}for(let i=1;i<t;i++){n+=", "+C(e[i])}n+="]";return n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let i;if(n.length>1){i=n[1]}else{return toString.call(e)}if(i=="Object"){try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}}if(e instanceof Error){return`${e.name}: ${e.message}\n${e.stack}`}return i}function y(e,t,n,o){const r={a:e,b:t,cnt:1,dtor:n};const s=(...e)=>{r.cnt++;try{return o(r.a,r.b,...e)}finally{if(--r.cnt===0){i.__wbindgen_export_2.get(r.dtor)(r.a,r.b);r.a=0}}};s.original=r;return s}function x(e,t,n){i.__wbindgen_export_3(e,t,d(n))}function E(e,t,n,o){const r={a:e,b:t,cnt:1,dtor:n};const s=(...e)=>{r.cnt++;const t=r.a;r.a=0;try{return o(t,r.b,...e)}finally{if(--r.cnt===0){i.__wbindgen_export_2.get(r.dtor)(t,r.b)}else{r.a=t}}};s.original=r;return s}function D(e,t){i.__wbindgen_export_4(e,t)}function T(e,t,n){i.__wbindgen_export_5(e,t,d(n))}function M(e,t){try{return e.apply(this,t)}catch(e){i.__wbindgen_export_6(d(e))}}function I(e,t,n,o){i.__wbindgen_export_7(e,t,d(n),d(o))}function S(){i.main_js()}function B(e,t){e=e>>>0;return s().subarray(e/1,e/1+t)}const N=Object.freeze({Error:0,0:"Error",Warn:1,1:"Warn",Info:2,2:"Info",Debug:3,3:"Debug"});class z{static __wrap(e){e=e>>>0;const t=Object.create(z.prototype);t.__wbg_ptr=e;return t}__destroy_into_raw(){const e=this.__wbg_ptr;this.__wbg_ptr=0;return e}free(){const e=this.__destroy_into_raw();i.__wbg_telemeter_free(e)}constructor(e,t,n){try{const a=i.__wbindgen_add_to_stack_pointer(-16);i.telemeter_new(a,d(e),d(t),d(n));var o=k()[a/4+0];var r=k()[a/4+1];var s=k()[a/4+2];if(s){throw _(r)}return z.__wrap(o)}finally{i.__wbindgen_add_to_stack_pointer(16)}}identify(e){const t=m(e,i.__wbindgen_export_0,i.__wbindgen_export_1);const n=h;const o=i.telemeter_identify(this.__wbg_ptr,t,n);return _(o)}track(e,t){const n=m(e,i.__wbindgen_export_0,i.__wbindgen_export_1);const o=h;const r=i.telemeter_track(this.__wbg_ptr,n,o,d(t));return _(r)}log(e,t,n){const o=m(t,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;const s=i.telemeter_log(this.__wbg_ptr,d(e),o,r,d(n));return _(s)}finish(){const e=this.__destroy_into_raw();const t=i.telemeter_finish(e);return _(t)}debug(e){i.telemeter_debug(this.__wbg_ptr,p(e)?16777215:e?1:0)}}async function P(e,t){if(typeof Response==="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming==="function"){try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.headers.get("Content-Type")!="application/wasm"){console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}else{throw t}}}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);if(n instanceof WebAssembly.Instance){return{instance:n,module:e}}else{return n}}}function L(){const t={};t.wbg={};t.wbg.__wbg_instanceof_Response_7ade9a5a066d1a55=function(e){let t;try{t=u(e)instanceof Response}catch{t=false}const n=t;return n};t.wbg.__wbindgen_error_new=function(e,t){const n=new Error(a(e,t));return d(n)};t.wbg.__wbg_mediaDevices_d73aa52f46f8456f=function(){return M((function(e){const t=u(e).mediaDevices;return d(t)}),arguments)};t.wbg.__wbg_enumerateDevices_c11c5b32806ec9eb=function(){return M((function(e){const t=u(e).enumerateDevices();return d(t)}),arguments)};t.wbg.__wbg_length_820c786973abdd8a=function(e){const t=u(e).length;return t};t.wbg.__wbindgen_string_new=function(e,t){const n=a(e,t);return d(n)};t.wbg.__wbg_platform_ec83845e63639660=function(){return M((function(e,t){const n=u(t).platform;const o=m(n,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;k()[e/4+1]=r;k()[e/4+0]=o}),arguments)};t.wbg.__wbg_hardwareConcurrency_a1bce4c6c62192be=function(e){const t=u(e).hardwareConcurrency;return t};t.wbg.__wbg_languages_dc93bfecaa07d346=function(e){const t=u(e).languages;return d(t)};t.wbg.__wbg_screen_60c292006ad45ac7=function(){return M((function(e){const t=u(e).screen;return d(t)}),arguments)};t.wbg.__wbg_width_f1ddfeda3d662ff6=function(){return M((function(e){const t=u(e).width;return t}),arguments)};t.wbg.__wbg_height_b15d9fd828b9976f=function(){return M((function(e){const t=u(e).height;return t}),arguments)};t.wbg.__wbg_pixelDepth_7fe714502fd5f88e=function(){return M((function(e){const t=u(e).pixelDepth;return t}),arguments)};t.wbg.__wbg_maxTouchPoints_dd7b9fa6c901b077=function(e){const t=u(e).maxTouchPoints;return t};t.wbg.__wbg_keys_964fd67be8b2f724=function(e){const t=Object.keys(u(e));return d(t)};t.wbg.__wbg_sort_01cd2d07ffacbc98=function(e){const t=u(e).sort();return d(t)};t.wbg.__wbg_document_508774c021174a52=function(e){const t=u(e).document;return p(t)?0:d(t)};t.wbg.__wbg_visibilityState_4f16e2393cdaa032=function(e){const t=u(e).visibilityState;return d(t)};t.wbg.__wbindgen_string_get=function(e,t){const n=u(t);const o=typeof n==="string"?n:undefined;var r=p(o)?0:m(o,i.__wbindgen_export_0,i.__wbindgen_export_1);var s=h;k()[e/4+1]=s;k()[e/4+0]=r};t.wbg.__wbg_new_2b6fea4ea03b1b95=function(){const e=new Object;return d(e)};t.wbg.__wbg_status_d2b2d0889f7e970f=function(e){const t=u(e).status;return t};t.wbg.__wbg_headers_2de03c88f895093b=function(e){const t=u(e).headers;return d(t)};t.wbg.__wbg_error_a7e23606158b68b9=function(e){console.error(u(e))};t.wbg.__wbg_new0_494c19a27871d56f=function(){const e=new Date;return d(e)};t.wbg.__wbg_getTime_40bd09e020e8bc8c=function(e){const t=u(e).getTime();return t};t.wbg.__wbindgen_object_drop_ref=function(e){_(e)};t.wbg.__wbg_crypto_70a96de3b6b73dac=function(e){const t=u(e).crypto;return d(t)};t.wbg.__wbg_process_dd1577445152112e=function(e){const t=u(e).process;return d(t)};t.wbg.__wbg_versions_58036bec3add9e6f=function(e){const t=u(e).versions;return d(t)};t.wbg.__wbg_node_6a9d28205ed5b0d8=function(e){const t=u(e).node;return d(t)};t.wbg.__wbindgen_is_string=function(e){const t=typeof u(e)==="string";return t};t.wbg.__wbg_require_f05d779769764e82=function(){return M((function(){const t=e.require;return d(t)}),arguments)};t.wbg.__wbg_msCrypto_adbc770ec9eca9c7=function(e){const t=u(e).msCrypto;return d(t)};t.wbg.__wbg_newwithlength_89eeca401d8918c2=function(e){const t=new Uint8Array(e>>>0);return d(t)};t.wbg.__wbindgen_is_object=function(e){const t=u(e);const n=typeof t==="object"&&t!==null;return n};t.wbg.__wbg_get_7303ed2ef026b2f5=function(e,t){const n=u(e)[t>>>0];return d(n)};t.wbg.__wbg_next_ec061e48a0e72a96=function(){return M((function(e){const t=u(e).next();return d(t)}),arguments)};t.wbg.__wbg_done_b6abb27d42b63867=function(e){const t=u(e).done;return t};t.wbg.__wbg_value_2f4ef2036bfad28e=function(e){const t=u(e).value;return d(t)};t.wbg.__wbg_iterator_7c7e58f62eb84700=function(){const e=Symbol.iterator;return d(e)};t.wbg.__wbg_next_f4bc0e96ea67da68=function(e){const t=u(e).next;return d(t)};t.wbg.__wbindgen_is_function=function(e){const t=typeof u(e)==="function";return t};t.wbg.__wbg_call_557a2f2deacc4912=function(){return M((function(e,t){const n=u(e).call(u(t));return d(n)}),arguments)};t.wbg.__wbindgen_object_clone_ref=function(e){const t=u(e);return d(t)};t.wbg.__wbg_self_742dd6eab3e9211e=function(){return M((function(){const e=self.self;return d(e)}),arguments)};t.wbg.__wbg_window_c409e731db53a0e2=function(){return M((function(){const e=window.window;return d(e)}),arguments)};t.wbg.__wbg_globalThis_b70c095388441f2d=function(){return M((function(){const e=globalThis.globalThis;return d(e)}),arguments)};t.wbg.__wbg_global_1c72617491ed7194=function(){return M((function(){const e=n.g.global;return d(e)}),arguments)};t.wbg.__wbindgen_is_undefined=function(e){const t=u(e)===undefined;return t};t.wbg.__wbg_newnoargs_c9e6043b8ad84109=function(e,t){const n=new Function(a(e,t));return d(n)};t.wbg.__wbg_isArray_04e59fb73f78ab5b=function(e){const t=Array.isArray(u(e));return t};t.wbg.__wbg_values_37eb2197bdbdfdd8=function(e){const t=u(e).values();return d(t)};t.wbg.__wbg_call_587b30eea3e09332=function(){return M((function(e,t,n){const i=u(e).call(u(t),u(n));return d(i)}),arguments)};t.wbg.__wbg_isSafeInteger_2088b01008075470=function(e){const t=Number.isSafeInteger(u(e));return t};t.wbg.__wbg_new_2b55e405e4af4986=function(e,t){try{var n={a:e,b:t};var i=(e,t)=>{const i=n.a;n.a=0;try{return I(i,n.b,e,t)}finally{n.a=i}};const o=new Promise(i);return d(o)}finally{n.a=n.b=0}};t.wbg.__wbindgen_memory=function(){const e=i.memory;return d(e)};t.wbg.__wbg_buffer_55ba7a6b1b92e2ac=function(e){const t=u(e).buffer;return d(t)};t.wbg.__wbg_new_09938a7d020f049b=function(e){const t=new Uint8Array(u(e));return d(t)};t.wbg.__wbg_set_3698e3ca519b3c3c=function(e,t,n){u(e).set(u(t),n>>>0)};t.wbg.__wbg_length_0aab7ffd65ad19ed=function(e){const t=u(e).length;return t};t.wbg.__wbg_get_f53c921291c381bd=function(){return M((function(e,t){const n=Reflect.get(u(e),u(t));return d(n)}),arguments)};t.wbg.__wbg_has_40b8c976775c8ead=function(){return M((function(e,t){const n=Reflect.has(u(e),u(t));return n}),arguments)};t.wbg.__wbg_set_07da13cc24b69217=function(){return M((function(e,t,n){const i=Reflect.set(u(e),u(t),u(n));return i}),arguments)};t.wbg.__wbg_stringify_d06ad2addc54d51e=function(){return M((function(e){const t=JSON.stringify(u(e));return d(t)}),arguments)};t.wbg.__wbg_newwithbyteoffsetandlength_88d1d8be5df94b9b=function(e,t,n){const i=new Uint8Array(u(e),t>>>0,n>>>0);return d(i)};t.wbg.__wbg_new_668956ac1089f8cf=function(){return M((function(){const e=new AbortController;return d(e)}),arguments)};t.wbg.__wbg_signal_bcb55e86063f8860=function(e){const t=u(e).signal;return d(t)};t.wbg.__wbg_abort_de75e4ab5136bcee=function(e){u(e).abort()};t.wbg.__wbg_fetch_621998933558ad27=function(e,t){const n=u(e).fetch(u(t));return d(n)};t.wbg.__wbg_fetch_57429b87be3dcc33=function(e){const t=fetch(u(e));return d(t)};t.wbg.__wbg_entries_13e011453776468f=function(e){const t=Object.entries(u(e));return d(t)};t.wbg.__wbindgen_is_null=function(e){const t=u(e)===null;return t};t.wbg.__wbindgen_boolean_get=function(e){const t=u(e);const n=typeof t==="boolean"?t?1:0:2;return n};t.wbg.__wbg_instanceof_Uint8Array_1349640af2da2e88=function(e){let t;try{t=u(e)instanceof Uint8Array}catch{t=false}const n=t;return n};t.wbg.__wbg_instanceof_ArrayBuffer_ef2632aa0d4bfff8=function(e){let t;try{t=u(e)instanceof ArrayBuffer}catch{t=false}const n=t;return n};t.wbg.__wbindgen_number_get=function(e,t){const n=u(t);const i=typeof n==="number"?n:undefined;v()[e/8+1]=p(i)?0:i;k()[e/4+0]=!p(i)};t.wbg.__wbg_get_723f83ba0c34871a=function(e,t){const n=u(e)[_(t)];return d(n)};t.wbg.__wbg_new_87297f22973157c8=function(e,t){const n=new Error(a(e,t));return d(n)};t.wbg.__wbg_String_9aa17d6248d519a5=function(e,t){const n=String(u(t));const o=m(n,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;k()[e/4+1]=r;k()[e/4+0]=o};t.wbg.__wbindgen_cb_drop=function(e){const t=_(e).original;if(t.cnt--==1){t.a=0;return true}const n=false;return n};t.wbg.__wbg_warn_d49ede18a5eba1ca=function(e,t){console.warn(u(e),u(t))};t.wbg.__wbg_readyState_ad4a43cf245ed346=function(e){const t=u(e).readyState;return t};t.wbg.__wbg_warn_9bdd743e9f5fe1e0=function(e){console.warn(u(e))};t.wbg.__wbg_close_b57426e46b2cde05=function(){return M((function(e){u(e).close()}),arguments)};t.wbg.__wbg_new_c70a4fdc1ed8f3bb=function(){return M((function(e,t){const n=new WebSocket(a(e,t));return d(n)}),arguments)};t.wbg.__wbg_setbinaryType_912a58ff49a07245=function(e,t){u(e).binaryType=_(t)};t.wbg.__wbg_log_dc06ec929fc95a20=function(e){console.log(u(e))};t.wbg.__wbg_info_05db236d79f1b785=function(e){console.info(u(e))};t.wbg.__wbg_navigator_957c9b40d49df205=function(e){const t=u(e).navigator;return d(t)};t.wbg.__wbg_addEventListener_d25d1ffe6c69ae96=function(){return M((function(e,t,n,i){u(e).addEventListener(a(t,n),u(i))}),arguments)};t.wbg.__wbg_removeEventListener_7a381df5fdb6037f=function(){return M((function(e,t,n,i){u(e).removeEventListener(a(t,n),u(i))}),arguments)};t.wbg.__wbg_deviceId_75d5e83672cc9b46=function(e,t){const n=u(t).deviceId;const o=m(n,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;k()[e/4+1]=r;k()[e/4+0]=o};t.wbg.__wbg_randomFillSync_e950366c42764a07=function(){return M((function(e,t){u(e).randomFillSync(_(t))}),arguments)};t.wbg.__wbg_subarray_d82be056deb4ad27=function(e,t,n){const i=u(e).subarray(t>>>0,n>>>0);return d(i)};t.wbg.__wbg_getRandomValues_3774744e221a22ad=function(){return M((function(e,t){u(e).getRandomValues(u(t))}),arguments)};t.wbg.__wbindgen_debug_string=function(e,t){const n=C(u(t));const o=m(n,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;k()[e/4+1]=r;k()[e/4+0]=o};t.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))};t.wbg.__wbg_then_835b073a479138e5=function(e,t,n){const i=u(e).then(u(t),u(n));return d(i)};t.wbg.__wbg_resolve_ae38ad63c43ff98b=function(e){const t=Promise.resolve(u(e));return d(t)};t.wbg.__wbg_then_8df675b8bb5d5e3c=function(e,t){const n=u(e).then(u(t));return d(n)};t.wbg.__wbg_send_43a6924260160efb=function(){return M((function(e,t,n){u(e).send(B(t,n))}),arguments)};t.wbg.__wbg_url_59cb32ef6a837521=function(e,t){const n=u(t).url;const o=m(n,i.__wbindgen_export_0,i.__wbindgen_export_1);const r=h;k()[e/4+1]=r;k()[e/4+0]=o};t.wbg.__wbg_new_143b41b4342650bb=function(){return M((function(){const e=new Headers;return d(e)}),arguments)};t.wbg.__wbg_append_fac652007989b765=function(){return M((function(e,t,n,i,o){u(e).append(a(t,n),a(i,o))}),arguments)};t.wbg.__wbg_newwithstrandinit_a4cd16dfaafcf625=function(){return M((function(e,t,n){const i=new Request(a(e,t),u(n));return d(i)}),arguments)};t.wbg.__wbg_instanceof_Window_c5579e140698a9dc=function(e){let t;try{t=u(e)instanceof Window}catch{t=false}const n=t;return n};t.wbg.__wbindgen_closure_wrapper1516=function(e,t,n){const i=y(e,t,74,x);return d(i)};t.wbg.__wbindgen_closure_wrapper1743=function(e,t,n){const i=E(e,t,74,D);return d(i)};t.wbg.__wbindgen_closure_wrapper1899=function(e,t,n){const i=E(e,t,93,T);return d(i)};return t}function O(e,t){}function R(e,t){i=e.exports;F.__wbindgen_wasm_module=t;A=null;b=null;r=null;i.__wbindgen_start();return i}function j(e){if(i!==undefined)return i;const t=L();O(t);if(!(e instanceof WebAssembly.Module)){e=new WebAssembly.Module(e)}const n=new WebAssembly.Instance(e,t);return R(n,e)}async function F(e){if(i!==undefined)return i;if(typeof e==="undefined"){e=new URL(n(7992),n.b)}const t=L();if(typeof e==="string"||typeof Request==="function"&&e instanceof Request||typeof URL==="function"&&e instanceof URL){e=fetch(e)}O(t);const{instance:o,module:r}=await P(await e,t);return R(o,r)}const V=F},8168:(e,t,n)=>{const i=n(8874);const o={};for(const e of Object.keys(i)){o[i[e]]=e}const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=r;for(const e of Object.keys(r)){if(!("channels"in r[e])){throw new Error("missing channels property: "+e)}if(!("labels"in r[e])){throw new Error("missing channel labels property: "+e)}if(r[e].labels.length!==r[e].channels){throw new Error("channel and label counts mismatch: "+e)}const{channels:t,labels:n}=r[e];delete r[e].channels;delete r[e].labels;Object.defineProperty(r[e],"channels",{value:t});Object.defineProperty(r[e],"labels",{value:n})}r.rgb.hsl=function(e){const t=e[0]/255;const n=e[1]/255;const i=e[2]/255;const o=Math.min(t,n,i);const r=Math.max(t,n,i);const s=r-o;let a;let c;if(r===o){a=0}else if(t===r){a=(n-i)/s}else if(n===r){a=2+(i-t)/s}else if(i===r){a=4+(t-n)/s}a=Math.min(a*60,360);if(a<0){a+=360}const l=(o+r)/2;if(r===o){c=0}else if(l<=.5){c=s/(r+o)}else{c=s/(2-r-o)}return[a,c*100,l*100]};r.rgb.hsv=function(e){let t;let n;let i;let o;let r;const s=e[0]/255;const a=e[1]/255;const c=e[2]/255;const l=Math.max(s,a,c);const d=l-Math.min(s,a,c);const u=function(e){return(l-e)/6/d+1/2};if(d===0){o=0;r=0}else{r=d/l;t=u(s);n=u(a);i=u(c);if(s===l){o=i-n}else if(a===l){o=1/3+t-i}else if(c===l){o=2/3+n-t}if(o<0){o+=1}else if(o>1){o-=1}}return[o*360,r*100,l*100]};r.rgb.hwb=function(e){const t=e[0];const n=e[1];let i=e[2];const o=r.rgb.hsl(e)[0];const s=1/255*Math.min(t,Math.min(n,i));i=1-1/255*Math.max(t,Math.max(n,i));return[o,s*100,i*100]};r.rgb.cmyk=function(e){const t=e[0]/255;const n=e[1]/255;const i=e[2]/255;const o=Math.min(1-t,1-n,1-i);const r=(1-t-o)/(1-o)||0;const s=(1-n-o)/(1-o)||0;const a=(1-i-o)/(1-o)||0;return[r*100,s*100,a*100,o*100]};function s(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}r.rgb.keyword=function(e){const t=o[e];if(t){return t}let n=Infinity;let r;for(const t of Object.keys(i)){const o=i[t];const a=s(e,o);if(a<n){n=a;r=t}}return r};r.keyword.rgb=function(e){return i[e]};r.rgb.xyz=function(e){let t=e[0]/255;let n=e[1]/255;let i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const o=t*.4124+n*.3576+i*.1805;const r=t*.2126+n*.7152+i*.0722;const s=t*.0193+n*.1192+i*.9505;return[o*100,r*100,s*100]};r.rgb.lab=function(e){const t=r.rgb.xyz(e);let n=t[0];let i=t[1];let o=t[2];n/=95.047;i/=100;o/=108.883;n=n>.008856?n**(1/3):7.787*n+16/116;i=i>.008856?i**(1/3):7.787*i+16/116;o=o>.008856?o**(1/3):7.787*o+16/116;const s=116*i-16;const a=500*(n-i);const c=200*(i-o);return[s,a,c]};r.hsl.rgb=function(e){const t=e[0]/360;const n=e[1]/100;const i=e[2]/100;let o;let r;let s;if(n===0){s=i*255;return[s,s,s]}if(i<.5){o=i*(1+n)}else{o=i+n-i*n}const a=2*i-o;const c=[0,0,0];for(let e=0;e<3;e++){r=t+1/3*-(e-1);if(r<0){r++}if(r>1){r--}if(6*r<1){s=a+(o-a)*6*r}else if(2*r<1){s=o}else if(3*r<2){s=a+(o-a)*(2/3-r)*6}else{s=a}c[e]=s*255}return c};r.hsl.hsv=function(e){const t=e[0];let n=e[1]/100;let i=e[2]/100;let o=n;const r=Math.max(i,.01);i*=2;n*=i<=1?i:2-i;o*=r<=1?r:2-r;const s=(i+n)/2;const a=i===0?2*o/(r+o):2*n/(i+n);return[t,a*100,s*100]};r.hsv.rgb=function(e){const t=e[0]/60;const n=e[1]/100;let i=e[2]/100;const o=Math.floor(t)%6;const r=t-Math.floor(t);const s=255*i*(1-n);const a=255*i*(1-n*r);const c=255*i*(1-n*(1-r));i*=255;switch(o){case 0:return[i,c,s];case 1:return[a,i,s];case 2:return[s,i,c];case 3:return[s,a,i];case 4:return[c,s,i];case 5:return[i,s,a]}};r.hsv.hsl=function(e){const t=e[0];const n=e[1]/100;const i=e[2]/100;const o=Math.max(i,.01);let r;let s;s=(2-n)*i;const a=(2-n)*o;r=n*o;r/=a<=1?a:2-a;r=r||0;s/=2;return[t,r*100,s*100]};r.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100;let i=e[2]/100;const o=n+i;let r;if(o>1){n/=o;i/=o}const s=Math.floor(6*t);const a=1-i;r=6*t-s;if((s&1)!==0){r=1-r}const c=n+r*(a-n);let l;let d;let u;switch(s){default:case 6:case 0:l=a;d=c;u=n;break;case 1:l=c;d=a;u=n;break;case 2:l=n;d=a;u=c;break;case 3:l=n;d=c;u=a;break;case 4:l=c;d=n;u=a;break;case 5:l=a;d=n;u=c;break}return[l*255,d*255,u*255]};r.cmyk.rgb=function(e){const t=e[0]/100;const n=e[1]/100;const i=e[2]/100;const o=e[3]/100;const r=1-Math.min(1,t*(1-o)+o);const s=1-Math.min(1,n*(1-o)+o);const a=1-Math.min(1,i*(1-o)+o);return[r*255,s*255,a*255]};r.xyz.rgb=function(e){const t=e[0]/100;const n=e[1]/100;const i=e[2]/100;let o;let r;let s;o=t*3.2406+n*-1.5372+i*-.4986;r=t*-.9689+n*1.8758+i*.0415;s=t*.0557+n*-.204+i*1.057;o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92;r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92;s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92;o=Math.min(Math.max(0,o),1);r=Math.min(Math.max(0,r),1);s=Math.min(Math.max(0,s),1);return[o*255,r*255,s*255]};r.xyz.lab=function(e){let t=e[0];let n=e[1];let i=e[2];t/=95.047;n/=100;i/=108.883;t=t>.008856?t**(1/3):7.787*t+16/116;n=n>.008856?n**(1/3):7.787*n+16/116;i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*n-16;const r=500*(t-n);const s=200*(n-i);return[o,r,s]};r.lab.xyz=function(e){const t=e[0];const n=e[1];const i=e[2];let o;let r;let s;r=(t+16)/116;o=n/500+r;s=r-i/200;const a=r**3;const c=o**3;const l=s**3;r=a>.008856?a:(r-16/116)/7.787;o=c>.008856?c:(o-16/116)/7.787;s=l>.008856?l:(s-16/116)/7.787;o*=95.047;r*=100;s*=108.883;return[o,r,s]};r.lab.lch=function(e){const t=e[0];const n=e[1];const i=e[2];let o;const r=Math.atan2(i,n);o=r*360/2/Math.PI;if(o<0){o+=360}const s=Math.sqrt(n*n+i*i);return[t,s,o]};r.lch.lab=function(e){const t=e[0];const n=e[1];const i=e[2];const o=i/360*2*Math.PI;const r=n*Math.cos(o);const s=n*Math.sin(o);return[t,r,s]};r.rgb.ansi16=function(e,t=null){const[n,i,o]=e;let s=t===null?r.rgb.hsv(e)[2]:t;s=Math.round(s/50);if(s===0){return 30}let a=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(n/255));if(s===2){a+=60}return a};r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])};r.rgb.ansi256=function(e){const t=e[0];const n=e[1];const i=e[2];if(t===n&&n===i){if(t<8){return 16}if(t>248){return 231}return Math.round((t-8)/247*24)+232}const o=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5);return o};r.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7){if(e>50){t+=3.5}t=t/10.5*255;return[t,t,t]}const n=(~~(e>50)+1)*.5;const i=(t&1)*n*255;const o=(t>>1&1)*n*255;const r=(t>>2&1)*n*255;return[i,o,r]};r.ansi256.rgb=function(e){if(e>=232){const t=(e-232)*10+8;return[t,t,t]}e-=16;let t;const n=Math.floor(e/36)/5*255;const i=Math.floor((t=e%36)/6)/5*255;const o=t%6/5*255;return[n,i,o]};r.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255);const n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n};r.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t){return[0,0,0]}let n=t[0];if(t[0].length===3){n=n.split("").map((e=>e+e)).join("")}const i=parseInt(n,16);const o=i>>16&255;const r=i>>8&255;const s=i&255;return[o,r,s]};r.rgb.hcg=function(e){const t=e[0]/255;const n=e[1]/255;const i=e[2]/255;const o=Math.max(Math.max(t,n),i);const r=Math.min(Math.min(t,n),i);const s=o-r;let a;let c;if(s<1){a=r/(1-s)}else{a=0}if(s<=0){c=0}else if(o===t){c=(n-i)/s%6}else if(o===n){c=2+(i-t)/s}else{c=4+(t-n)/s}c/=6;c%=1;return[c*360,s*100,a*100]};r.hsl.hcg=function(e){const t=e[1]/100;const n=e[2]/100;const i=n<.5?2*t*n:2*t*(1-n);let o=0;if(i<1){o=(n-.5*i)/(1-i)}return[e[0],i*100,o*100]};r.hsv.hcg=function(e){const t=e[1]/100;const n=e[2]/100;const i=t*n;let o=0;if(i<1){o=(n-i)/(1-i)}return[e[0],i*100,o*100]};r.hcg.rgb=function(e){const t=e[0]/360;const n=e[1]/100;const i=e[2]/100;if(n===0){return[i*255,i*255,i*255]}const o=[0,0,0];const r=t%1*6;const s=r%1;const a=1-s;let c=0;switch(Math.floor(r)){case 0:o[0]=1;o[1]=s;o[2]=0;break;case 1:o[0]=a;o[1]=1;o[2]=0;break;case 2:o[0]=0;o[1]=1;o[2]=s;break;case 3:o[0]=0;o[1]=a;o[2]=1;break;case 4:o[0]=s;o[1]=0;o[2]=1;break;default:o[0]=1;o[1]=0;o[2]=a}c=(1-n)*i;return[(n*o[0]+c)*255,(n*o[1]+c)*255,(n*o[2]+c)*255]};r.hcg.hsv=function(e){const t=e[1]/100;const n=e[2]/100;const i=t+n*(1-t);let o=0;if(i>0){o=t/i}return[e[0],o*100,i*100]};r.hcg.hsl=function(e){const t=e[1]/100;const n=e[2]/100;const i=n*(1-t)+.5*t;let o=0;if(i>0&&i<.5){o=t/(2*i)}else if(i>=.5&&i<1){o=t/(2*(1-i))}return[e[0],o*100,i*100]};r.hcg.hwb=function(e){const t=e[1]/100;const n=e[2]/100;const i=t+n*(1-t);return[e[0],(i-t)*100,(1-i)*100]};r.hwb.hcg=function(e){const t=e[1]/100;const n=e[2]/100;const i=1-n;const o=i-t;let r=0;if(o<1){r=(i-o)/(1-o)}return[e[0],o*100,r*100]};r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};r.gray.hsl=function(e){return[0,0,e[0]]};r.gray.hsv=r.gray.hsl;r.gray.hwb=function(e){return[0,100,e[0]]};r.gray.cmyk=function(e){return[0,0,0,e[0]]};r.gray.lab=function(e){return[e[0],0,0]};r.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255;const n=(t<<16)+(t<<8)+t;const i=n.toString(16).toUpperCase();return"000000".substring(i.length)+i};r.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}},2085:(e,t,n)=>{const i=n(8168);const o=n(4111);const r={};const s=Object.keys(i);function a(e){const t=function(...t){const n=t[0];if(n===undefined||n===null){return n}if(n.length>1){t=n}return e(t)};if("conversion"in e){t.conversion=e.conversion}return t}function c(e){const t=function(...t){const n=t[0];if(n===undefined||n===null){return n}if(n.length>1){t=n}const i=e(t);if(typeof i==="object"){for(let e=i.length,t=0;t<e;t++){i[t]=Math.round(i[t])}}return i};if("conversion"in e){t.conversion=e.conversion}return t}s.forEach((e=>{r[e]={};Object.defineProperty(r[e],"channels",{value:i[e].channels});Object.defineProperty(r[e],"labels",{value:i[e].labels});const t=o(e);const n=Object.keys(t);n.forEach((n=>{const i=t[n];r[e][n]=c(i);r[e][n].raw=a(i)}))}));e.exports=r},4111:(e,t,n)=>{const i=n(8168);function o(){const e={};const t=Object.keys(i);for(let n=t.length,i=0;i<n;i++){e[t[i]]={distance:-1,parent:null}}return e}function r(e){const t=o();const n=[e];t[e].distance=0;while(n.length){const e=n.pop();const o=Object.keys(i[e]);for(let i=o.length,r=0;r<i;r++){const i=o[r];const s=t[i];if(s.distance===-1){s.distance=t[e].distance+1;s.parent=e;n.unshift(i)}}}return t}function s(e,t){return function(n){return t(e(n))}}function a(e,t){const n=[t[e].parent,e];let o=i[t[e].parent][e];let r=t[e].parent;while(t[r].parent){n.unshift(t[r].parent);o=s(i[t[r].parent][r],o);r=t[r].parent}o.conversion=n;return o}e.exports=function(e){const t=r(e);const n={};const i=Object.keys(t);for(let e=i.length,o=0;o<e;o++){const e=i[o];const r=t[e];if(r.parent===null){continue}n[e]=a(e,t)}return n}},8874:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const c=a},390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n}\n'],sourceRoot:""}]);const c=a},3638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},8894:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const c=a},4401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const c=a},3230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const c=a},9048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},8662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const c=a},9292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert__panel {\n\tpadding: var(--ck-spacing-large);\n}\n\n.ck.ck-image-insert__ck-finder-button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin: var(--ck-spacing-standard) auto;\n\tborder: 1px solid hsl(0, 0%, 80%);\n\tborder-radius: var(--ck-border-radius);\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/7986 */\n.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {\n\tpadding: 0;\n\tmargin: 0;\n\tborder: none;\n}\n"],sourceRoot:""}]);const c=a},5150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert-form {\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n}\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-image-insert-form__action-row {\n\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const c=a},1043:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const c=a},4622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const c=a},9899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const c=a},9825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const c=a},5870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const c=a},6831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const c=a},9465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},4827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},3858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const c=a},9989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const c=a},5777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const c=a},952:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read–only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},3525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},7583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-mention-background:rgba(153,0,48,.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-mention/mention.css"],names:[],mappings:"AAKA,MACC,+CAAwD,CACxD,+BACD,CAEA,qBACC,6CAA8C,CAC9C,kCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-mention-background: hsla(341, 100%, 30%, 0.1);\n\t--ck-color-mention-text: hsl(341, 100%, 30%);\n}\n\n.ck-content .mention {\n\tbackground: var(--ck-color-mention-background);\n\tcolor: var(--ck-color-mention-text);\n}\n"],sourceRoot:""}]);const c=a},6391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{flex-shrink:0;overflow:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-mention/theme/mentionui.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,gBACC,4CAA6C,CAM7C,iBAAkB,CAJlB,eAAgB,CAMhB,2BAQD,CAJC,+BAEC,aAAc,CADd,eAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-mention-list-max-height: 300px;\n}\n\n.ck.ck-mentions {\n\tmax-height: var(--ck-mention-list-max-height);\n\n\toverflow-y: auto;\n\n\t/* Prevent unnecessary horizontal scrollbar in Safari\n\thttps://github.com/ckeditor/ckeditor5-mention/issues/41 */\n\toverflow-x: hidden;\n\n\toverscroll-behavior: contain;\n\n\t/* Prevent unnecessary vertical scrollbar in Safari\n\thttps://github.com/ckeditor/ckeditor5-mention/issues/41 */\n\t& > .ck-list__item {\n\t\toverflow: hidden;\n\t\tflex-shrink: 0;\n\t}\n}\n"],sourceRoot:""}]);const c=a},651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-slash-command-button-width:250px;--ck-slash-command-description-width:200px}.ck.ck-button.ck-slash-command-button{display:flex;justify-content:flex-start;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base));width:var(--ck-slash-command-button-width)}.ck.ck-button.ck-slash-command-button .ck.ck-icon{background-color:var(--ck-color-base-background);border-radius:2px;box-sizing:initial;color:var(--ck-color-base-text);flex-shrink:0;margin-left:0;padding:5px}[dir=ltr] .ck.ck-button.ck-slash-command-button .ck.ck-icon{margin:0 var(--ck-spacing-small) 0 0}[dir=rtl] .ck.ck-button.ck-slash-command-button .ck.ck-icon{margin:0 0 0 var(--ck-spacing-small)}.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part{display:flex;flex-direction:column}[dir=ltr] .ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part{margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part{margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part>span{line-height:1.2em}.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part>.ck-button__label,.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part>.ck-slash-command-button__description{overflow:hidden;text-overflow:ellipsis;width:var(--ck-slash-command-description-width)}.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part>.ck-button__label{font-weight:700}.ck.ck-button.ck-slash-command-button>.ck-slash-command-button__text-part>.ck-slash-command-button__description{font-size:var(--ck-font-size-small);opacity:.75}.ck.ck-button.ck-slash-command-button.ck-on>.ck-slash-command-button__text-part>span{color:var(--ck-color-list-button-on-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-slash-command/theme/slashcommand.css"],names:[],mappings:"AAOA,MACC,qCAAsC,CACtC,0CACD,CAEA,sCACC,YAAa,CACb,0BAA2B,CAE3B,oEAAyE,CADzE,0CAyDD,CAtDC,kDAKC,gDAAiD,CACjD,iBAAkB,CAClB,kBAAmB,CAHnB,+BAAgC,CAHhC,aAAc,CACd,aAAc,CACd,WAaD,CAhBA,4DAUE,oCAMF,CAhBA,4DAcE,oCAEF,CAEA,0EACC,YAAa,CACb,qBA6BD,CA/BA,oFAKE,mCA0BF,CA/BA,oFASE,oCAsBF,CAnBC,+EACC,iBACD,CAEA,4MAGC,eAAgB,CAChB,sBAAuB,CAFvB,+CAGD,CAEA,4FACC,eACD,CAEA,gHACC,mCAAoC,CACpC,WACD,CAGD,qFACC,yCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-slash-command-button-width: 250px;\n\t--ck-slash-command-description-width: 200px;\n}\n\n.ck.ck-button.ck-slash-command-button {\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\twidth: var(--ck-slash-command-button-width);\n\tpadding: calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t& .ck.ck-icon {\n\t\tflex-shrink: 0;\n\t\tmargin-left: 0;\n\t\tpadding: 5px;\n\t\tcolor: var(--ck-color-base-text);\n\t\tbackground-color: var(--ck-color-base-background);\n\t\tborder-radius: 2px;\n\t\tbox-sizing: initial;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin: 0 var(--ck-spacing-small) 0 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin: 0 0 0 var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t& > .ck-slash-command-button__text-part {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t& > span {\n\t\t\tline-height: 1.2em;\n\t\t}\n\n\t\t& > .ck-button__label,\n\t\t& > .ck-slash-command-button__description {\n\t\t\twidth: var(--ck-slash-command-description-width);\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t& > .ck-button__label {\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t& > .ck-slash-command-button__description {\n\t\t\tfont-size: var(--ck-font-size-small);\n\t\t\topacity: 0.75;\n\t\t}\n\t}\n\n\t&.ck-on > .ck-slash-command-button__text-part > span {\n\t\tcolor: var(--ck-color-list-button-on-text);\n\t}\n}\n'],sourceRoot:""}]);const c=a},8085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const c=a},4104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const c=a},728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\n\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\n\toverflow-wrap: break-word;\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-table-column-resizer-hover);\n\topacity: 0.25;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot:""}]);const c=a},4777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const c=a},5593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const c=a},4499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const c=a},9681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating–point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const c=a},4923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const c=a},2191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAMD,CAJC,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot:""}]);const c=a},3488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},6875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},66:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},5075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const c=a},4547:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},5523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const c=a},1174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},6985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},2751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const c=a},8111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},1162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},8245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},1757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const c=a},3553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},3609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},1590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const c=a},6706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const c=a},5571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const c=a},9948:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const c=a},6150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-modal) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const c=a},6507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const c=a},2263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const c=a},5137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const c=a},7546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(4015);var o=n.n(i);var r=n(3645);var s=n.n(r);var a=s()(o());a.push([e.id,".wrs_modal_overlay{background:rgba(0,0,0,.8);bottom:0;font-family:arial,sans-serif;left:0;opacity:.65;pointer-events:auto;position:fixed;right:0;top:0;z-index:999998}.wrs_modal_overlay.wrs_modal_android,.wrs_modal_overlay.wrs_modal_ios{display:none;visibility:hidden}.wrs_modal_overlay.wrs_modal_ios.moodle{position:fixed}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack{background:transparent;display:none}.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized{background:rgba(0,0,0,.8)}.wrs_modal_overlay.wrs_modal_desktop.wrs_closed,.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized{background:transparent;display:none}.wrs_modal_title{color:#fff;padding:5px 0 5px 10px;text-align:left;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_modal_close_button{background-repeat:no-repeat}.wrs_modal_close_button,.wrs_modal_minimize_button{color:#fff;cursor:pointer;float:right;margin:10px 7px 0 0;padding:5px 10px 5px 0}.wrs_modal_minimize_button{top:inherit}.wrs_modal_stack_button{color:#fff;cursor:pointer;float:right;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_stack_button.wrs_minimized,.wrs_modal_stack_button.wrs_stack{margin:0;padding:0;visibility:hidden}.wrs_modal_maximize_button{color:#fff;cursor:pointer;float:right;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_maximize_button.wrs_maximized{margin:0;padding:0;visibility:hidden}.wrs_modal_title_bar{background-color:#778e9a;display:block}.wrs_modal_dialogContainer{background:#fafafa;border:none;z-index:999999}.wrs_modal_dialogContainer.wrs_modal_desktop{font-size:14px}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized{position:fixed}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized{margin:0 10px 0 0;position:fixed;top:inherit}.wrs_modal_dialogContainer.wrs_closed{display:none;opacity:0;visibility:hidden}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack{bottom:0;box-shadow:0 2px 8px rgba(0,0,0,.5);position:fixed;right:0}.wrs_modal_dialogContainer.wrs_drag,.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag{box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_modal_android{height:99%;width:99%}.wrs_modal_dialogContainer.wrs_modal_android,.wrs_modal_dialogContainer.wrs_modal_ios{margin:auto;overflow:hidden;position:fixed;right:50%!important;top:50%;transform:translate(50%,-50%)}.wrs_modal_dialogContainer.wrs_modal_ios{height:100%;width:100%}.wrs_content_container.wrs_minimized{display:none}.wrs_content_container.wrs_modal_android{display:flex;flex-direction:column;flex-grow:1;height:0;width:100%}.wrs_content_container.wrs_modal_android>div:first-child,.wrs_content_container.wrs_modal_desktop>div:first-child,.wrs_content_container.wrs_modal_ios>div:first-child{flex-grow:1}.wrs_modal_wrapper.wrs_modal_android{display:flex;flex-direction:column;height:100%;margin:auto;width:100%}.wrs_content_container.wrs_modal_desktop,.wrs_content_container.wrs_modal_ios{display:flex;flex-direction:column;flex-grow:1;width:100%}.wrs_content_container.wrs_modal_ios{height:0}.wrs_modal_wrapper.wrs_modal_ios{display:flex;flex-direction:column;height:100%;margin:auto;width:100%}.wrs_virtual_keyboard{height:100%;left:50%;top:0;transform:translate(-50%);width:100%}@media (orientation:portrait){.wrs_modal_dialogContainer.wrs_modal_mobile{border-width:0;height:100vmin;margin:auto;width:100vmin}.wrs_modal_wrapper.wrs_modal_mobile{height:100vmin;margin:auto;width:100vmin}}@media (orientation:landscape){.wrs_modal_dialogContainer.wrs_modal_mobile{border-width:0;height:100vmin;margin:auto;width:100vmin}.wrs_modal_wrapper.wrs_modal_mobile{height:100vmin;margin:auto;width:100vmin}}.wrs_modal_dialogContainer.wrs_modal_badStock,.wrs_modal_wrapper.wrs_modal_badStock{border-width:0;height:280px;margin:0 auto;width:100%}.wrs_noselect{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_bottom_right_resizer{bottom:8px;color:#778e9a;cursor:se-resize;height:10px;position:absolute;right:4px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:10px}.wrs_bottom_left_resizer{color:#778e9a;cursor:se-resize;height:15px;left:0;position:absolute;top:0;width:15px}.wrs_modal_controls{height:42px;line-height:normal;margin:3px 0;overflow:hidden}.wrs_modal_links{display:inline;float:right;font-family:arial,sans-serif;margin:10px auto 0;padding:6px;text-align:right}.wrs_modal_links>a{color:#778e9a;font-size:16px;text-decoration:none}.wrs_modal_button_cancel,.wrs_modal_button_cancel:active,.wrs_modal_button_cancel:focus,.wrs_modal_button_cancel:hover,.wrs_modal_button_cancel:visited{background-color:#ddd;border:1px solid #778e9a;border-radius:3px;cursor:pointer;font-family:arial,sans-serif;font-size:14px;height:32px;margin:10px auto 0 5px;min-width:80px;padding:6px 8px}.wrs_modal_button_accept,.wrs_modal_button_accept:active,.wrs_modal_button_accept:focus,.wrs_modal_button_accept:hover,.wrs_modal_button_accept:visited{background:#778e9a;border:1px solid #778e9a;border-radius:3px;color:#fff;cursor:pointer;font-family:arial,sans-serif;font-size:14px;height:32px;margin:10px 5px 0 auto;min-width:80px;padding:6px 8px}.wrs_editor_vertical_bar{background:none;cursor:pointer;float:right;height:20px;width:20px}.wrs_modal_buttons_container{display:inline;float:left}.wrs_modal_buttons_container.wrs_modalAndroid{padding-left:6px}.wrs_modal_buttons_container.wrs_modalDesktop{padding-left:0}.wrs_modal_buttons_container>button{background-image:none;line-height:normal}.wrs_modal_wrapper{display:flex;flex-direction:column;margin:6px}.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized{display:none}@media only screen and (max-device-width:480px) and (orientation:portrait){#wrs_modal_wrapper{width:140%}}.wrs_popupmessage_overlay_envolture{display:none;width:100%}.wrs_popupmessage_overlay{background-color:rgba(0,0,0,.5);bottom:0;cursor:pointer;height:100%;left:0;position:absolute;right:0;top:0;width:100%;z-index:4}.wrs_popupmessage_panel{background:#fff;border-radius:2px;color:#2e2e2e;font-family:sans-serif;font-size:15px;left:50%;max-height:75%;max-width:500px;overflow:auto;padding:20px;position:absolute;text-align:left;top:50%;transform:translate(-50%,-50%);width:75%;z-index:5}.wrs_popupmessage_button_area{margin:10px 0 0}.wrs_panelContainer *{border:0}.wrs_button_cancel,.wrs_button_cancel:active,.wrs_button_cancel:focus,.wrs_button_cancel:hover,.wrs_button_cancel:visited{background-color:#ddd;background-image:none;border:1px solid #778e9a;border-radius:3px;cursor:pointer;font-family:arial,sans-serif;font-size:14px;height:32px;margin:10px auto 0 5px;min-width:80px;padding:6px 8px}.wrs_button_accept,.wrs_button_accept:active,.wrs_button_accept:focus,.wrs_button_accept:hover,.wrs_button_accept:visited{background:#778e9a;border:1px solid #778e9a;border-radius:3px;color:#fff;cursor:pointer;font-family:arial,sans-serif;font-size:14px;height:32px;margin:10px 5px 0 auto;min-width:80px;padding:6px 8px}.wrs_editor button{box-shadow:none}.wrs_editor .wrs_header button{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active{display:block}.wrs_toolbar tr:focus,.wrs_toolbar tr:hover{background:none}.wrs_modal_rtl .wrs_modal_button_cancel{margin-left:0;margin-right:5px}.wrs_modal_rtl .wrs_modal_button_accept{margin-left:5px;margin-right:0}.wrs_modal_rtl .wrs_button_cancel{margin-left:0;margin-right:5px}.wrs_modal_rtl .wrs_button_accept{margin-left:5px;margin-right:0}.wrs_modal_offline{background-color:#000;background-color:rgba(0,0,0,.4);display:none;height:100%;left:0;margin:auto;overflow:auto;padding-top:150px;position:fixed;top:0;width:100%;z-index:2}.wrs_modal_content_offline{background:#fff7ed;border-radius:6px;height:100px;margin:auto;padding:16px;position:relative;width:517px}.wrs_modal_offline_close{bottom:75%;color:#c2410c;font-family:Inter;font-size:24px;font-style:normal;font-weight:700;font-weight:400;left:95.7%;position:absolute;right:2.08%;top:7.6%}.wrs_modal_offline_warn{background-repeat:no-repeat;bottom:75%;color:#fb923c;font-size:24px;left:2.08%;position:absolute;right:94%;top:11.6%}.wrs_modal_offline_text_container{bottom:2%;left:6.8%;position:absolute;right:6.08%;top:10.4%}.wrs_modal_offline_text{font-weight:400}.wrs_modal_offline_text,.wrs_modal_offline_text_warn{color:#c2410c;font-family:Inter;font-size:14px;font-style:normal;line-height:20px}.wrs_modal_offline_text_warn{font-weight:700;height:25px}.wrs_modal_offline_close:focus,.wrs_modal_offline_close:hover{color:#000;cursor:pointer;text-decoration:none}","",{version:3,sources:["webpack://./node_modules/@wiris/mathtype-html-integration-devkit/styles/styles.css"],names:[],mappings:"AAAA,mBAOE,yBAA8B,CAD9B,QAAS,CAJT,4BAA8B,CAG9B,MAAO,CAIP,WAAa,CACb,mBAAoB,CATpB,cAAe,CAGf,OAAQ,CADR,KAAM,CAKN,cAGF,CAOA,sEAEE,YAAa,CADb,iBAEF,CAEA,wCACE,cACF,CAEA,+CACE,sBAA4B,CAC5B,YACF,CAEA,mDACE,yBACF,CAOA,mGACE,sBAA4B,CAC5B,YACF,CAEA,iBACE,UAAW,CACX,sBAAuB,CAKvB,eAAgB,CAJhB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAEF,CAEA,wBAME,2BACF,CAEA,mDANE,UAAW,CADX,cAAe,CADf,WAAY,CAIZ,mBAAoB,CADpB,sBAYF,CAPA,2BAKE,WAEF,CAEA,wBAGE,UAAW,CADX,cAAe,CADf,WAAY,CAGZ,mBAAoB,CACpB,sBAAuB,CACvB,WACF,CAQA,wEAEE,QAAS,CACT,SAAU,CAFV,iBAGF,CAEA,2BAGE,UAAW,CADX,cAAe,CADf,WAAY,CAGZ,mBAAoB,CACpB,sBAAuB,CACvB,WACF,CAEA,yCAEE,QAAS,CACT,SAAU,CAFV,iBAGF,CAEA,qBAEE,wBAAyB,CADzB,aAEF,CAEA,2BAEE,kBAAmB,CADnB,WAAY,CAEZ,cACF,CAEA,6CACE,cACF,CAEA,2DACE,cACF,CAEA,2DAIE,iBAAkB,CAHlB,cAAe,CACf,WAGF,CAEA,sCAEE,YAAa,CACb,SAAU,CAFV,iBAGF,CAKA,uDAEE,QAAS,CAET,mCAAwC,CAHxC,cAAe,CAEf,OAEF,CAMA,0FACE,mCACF,CAEA,6CAIE,UAAW,CADX,SAMF,CAEA,sFAVE,WAAY,CAIZ,eAAgB,CAHhB,cAAe,CAMf,mBAAqB,CADrB,OAAQ,CADR,6BAcF,CATA,yCAIE,WAAY,CADZ,UAMF,CAKA,qCACE,YACF,CAMA,yCAIE,YAAa,CACb,qBAAsB,CAFtB,WAAY,CADZ,QAAU,CADV,UAKF,CAUA,uKACE,WACF,CAEA,qCAEE,YAAa,CACb,qBAAsB,CACtB,WAAY,CAHZ,WAAY,CAIZ,UACF,CASA,8EAJE,YAAa,CACb,qBAAsB,CAFtB,WAAY,CADZ,UAYF,CANA,qCAEE,QAIF,CAEA,iCAEE,YAAa,CACb,qBAAsB,CACtB,WAAY,CAHZ,WAAY,CAIZ,UACF,CAEA,sBACE,WAAY,CAGZ,QAAS,CADT,KAAM,CAEN,yBAA8B,CAH9B,UAIF,CAEA,8BACE,4CAIE,cAAe,CAFf,cAAe,CACf,WAAY,CAFZ,aAIF,CAEA,oCAEE,cAAe,CACf,WAAY,CAFZ,aAGF,CACF,CAEA,+BACE,4CAIE,cAAe,CAFf,cAAe,CACf,WAAY,CAFZ,aAIF,CAEA,oCAEE,cAAe,CACf,WAAY,CAFZ,aAGF,CACF,CASA,oFAIE,cAAe,CAFf,YAAa,CACb,aAAc,CAFd,UAIF,CAEA,cACE,qBAAsB,CACtB,uBAAwB,CACxB,wBAAyB,CACzB,oBAAqB,CACrB,gBACF,CAEA,0BAME,UAAW,CAHX,aAAc,CAId,gBAAiB,CALjB,WAAY,CAEZ,iBAAkB,CAClB,SAAU,CAGV,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAiB,CAVjB,UAWF,CAEA,yBAGE,aAAc,CAId,gBAAiB,CALjB,WAAY,CAGZ,MAAO,CADP,iBAAkB,CAElB,KAAM,CALN,UAOF,CAEA,oBACE,WAAY,CAGZ,kBAAmB,CAFnB,YAAa,CACb,eAEF,CAEA,iBAKE,cAAe,CACf,WAAY,CAHZ,4BAA8B,CAD9B,kBAAgB,CAEhB,WAAY,CAGZ,gBACF,CAEA,mBAEE,aAAc,CACd,cAAe,CAFf,oBAGF,CAEA,wJAeE,qBAAsB,CAPtB,wBAAyB,CADzB,iBAAkB,CAMlB,cAAe,CACf,4BAA8B,CAR9B,cAAe,CAUf,WAAY,CAJZ,sBAAgB,CAPhB,cAAe,CAIf,eAQF,CAEA,wJAcE,kBAAmB,CANnB,wBAAyB,CADzB,iBAAkB,CAMlB,UAAW,CAEX,cAAe,CACf,4BAA8B,CAV9B,cAAe,CAWf,WAAY,CALZ,sBAAgB,CAPhB,cAAe,CAIf,eASF,CAEA,yBAGE,eAAgB,CAEhB,cAAe,CAHf,WAAY,CADZ,WAAY,CAGZ,UAEF,CAEA,6BACE,cAAe,CACf,UACF,CAEA,8CACE,gBACF,CAEA,8CACE,cACF,CAEA,oCAEE,qBAAsB,CADtB,kBAEF,CAEA,mBAEE,YAAa,CACb,qBAAsB,CAFtB,UAGF,CAEA,mDACE,YACF,CAEA,2EACE,mBACE,UACF,CACF,CAEA,oCACE,YAAa,CACb,UACF,CAEA,0BAQE,+BAAoC,CADpC,QAAS,CAGT,cAAe,CAPf,WAAY,CAEZ,MAAO,CAJP,iBAAkB,CAKlB,OAAQ,CAFR,KAAM,CAFN,UAAW,CAOX,SAEF,CAEA,wBAKE,eAAiB,CAGjB,iBAAkB,CAKlB,aAAc,CAHd,sBAAuB,CACvB,cAAe,CATf,QAAS,CAaT,cAAe,CATf,eAAgB,CAUhB,aAAc,CAPd,YAAa,CALb,iBAAkB,CAQlB,eAAgB,CAXhB,OAAQ,CAER,8BAAgC,CAIhC,SAAU,CAOV,SAGF,CAEA,8BACE,eACF,CAEA,sBACE,QACF,CAEA,0HAeE,qBAAsB,CACtB,qBAAsB,CARtB,wBAAyB,CADzB,iBAAkB,CAMlB,cAAe,CACf,4BAA8B,CAR9B,cAAe,CAWf,WAAY,CALZ,sBAAgB,CAPhB,cAAe,CAIf,eASF,CAEA,0HAcE,kBAAmB,CANnB,wBAAyB,CADzB,iBAAkB,CAMlB,UAAW,CAEX,cAAe,CACf,4BAA8B,CAV9B,cAAe,CAWf,WAAY,CALZ,sBAAgB,CAPhB,cAAe,CAIf,eASF,CAEA,mBACE,eACF,CAEA,+BACE,kBAAmB,CACnB,2BAA4B,CAC5B,4BACF,CAEA,kEACE,aACF,CAOA,4CACE,eACF,CAGA,wCAEE,aAAc,CADd,gBAEF,CAEA,wCAEE,eAAgB,CADhB,cAEF,CAEA,kCAEE,aAAc,CADd,gBAEF,CAEA,kCAEE,eAAgB,CADhB,cAEF,CAGA,mBAUE,qBAA4B,CAC5B,+BAAiC,CAVjC,YAAa,CAOb,WAAY,CAHZ,MAAO,CAOP,WAAY,CAHZ,aAAc,CALd,iBAAkB,CAFlB,cAAe,CAIf,KAAM,CACN,UAAW,CAJX,SAUF,CAGA,2BAGE,kBAAmB,CACnB,iBAAkB,CAElB,YAAa,CALb,WAAY,CACZ,YAAa,CAKb,iBAAkB,CAFlB,WAGF,CAGA,yBAOE,UAAW,CANX,aAAc,CAOd,iBAAoB,CANpB,cAAe,CAOf,iBAAkB,CANlB,eAAiB,CAOjB,eAAgB,CANhB,UAAW,CAOX,iBAAkB,CANlB,WAAY,CACZ,QAMF,CAGA,wBAQE,2BAA4B,CAH5B,UAAW,CAEX,aAAc,CADd,cAAe,CAJf,UAAW,CADX,iBAAkB,CAElB,SAAU,CACV,SAKF,CAEA,kCAKE,SAAU,CAHV,SAAU,CADV,iBAAkB,CAElB,WAAY,CACZ,SAEF,CAEA,wBAGE,eAIF,CAEA,qDAHE,aAAc,CALd,iBAAoB,CAGpB,cAAe,CAFf,iBAAkB,CAGlB,gBAYF,CARA,6BAME,eAAiB,CALjB,WAOF,CAEA,8DAEE,UAAW,CAEX,cAAe,CADf,oBAEF",sourcesContent:[".wrs_modal_overlay {\n  position: fixed;\n  font-family: arial, sans-serif;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 999998;\n  opacity: 0.65;\n  pointer-events: auto;\n}\n\n.wrs_modal_overlay.wrs_modal_ios {\n  visibility: hidden;\n  display: none;\n}\n\n.wrs_modal_overlay.wrs_modal_android {\n  visibility: hidden;\n  display: none;\n}\n\n.wrs_modal_overlay.wrs_modal_ios.moodle {\n  position: fixed;\n}\n\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack {\n  background: rgba(0, 0, 0, 0);\n  display: none;\n}\n\n.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized {\n  background: rgba(0, 0, 0, 0.8);\n}\n\n.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized {\n  background: rgba(0, 0, 0, 0);\n  display: none;\n}\n\n.wrs_modal_overlay.wrs_modal_desktop.wrs_closed {\n  background: rgba(0, 0, 0, 0);\n  display: none;\n}\n\n.wrs_modal_title {\n  color: #fff;\n  padding: 5px 0 5px 10px;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-align: left;\n}\n\n.wrs_modal_close_button {\n  float: right;\n  cursor: pointer;\n  color: #fff;\n  padding: 5px 10px 5px 0;\n  margin: 10px 7px 0 0;\n  background-repeat: no-repeat;\n}\n\n.wrs_modal_minimize_button {\n  float: right;\n  cursor: pointer;\n  color: #fff;\n  padding: 5px 10px 5px 0;\n  top: inherit;\n  margin: 10px 7px 0 0;\n}\n\n.wrs_modal_stack_button {\n  float: right;\n  cursor: pointer;\n  color: #fff;\n  margin: 10px 7px 0 0;\n  padding: 5px 10px 5px 0;\n  top: inherit;\n}\n\n.wrs_modal_stack_button.wrs_stack {\n  visibility: hidden;\n  margin: 0;\n  padding: 0;\n}\n\n.wrs_modal_stack_button.wrs_minimized {\n  visibility: hidden;\n  margin: 0;\n  padding: 0;\n}\n\n.wrs_modal_maximize_button {\n  float: right;\n  cursor: pointer;\n  color: #fff;\n  margin: 10px 7px 0 0;\n  padding: 5px 10px 5px 0;\n  top: inherit;\n}\n\n.wrs_modal_maximize_button.wrs_maximized {\n  visibility: hidden;\n  margin: 0;\n  padding: 0;\n}\n\n.wrs_modal_title_bar {\n  display: block;\n  background-color: #778e9a;\n}\n\n.wrs_modal_dialogContainer {\n  border: none;\n  background: #fafafa;\n  z-index: 999999;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_desktop {\n  font-size: 14px;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized {\n  position: fixed;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized {\n  position: fixed;\n  top: inherit;\n  margin: 0;\n  margin-right: 10px;\n}\n\n.wrs_modal_dialogContainer.wrs_closed {\n  visibility: hidden;\n  display: none;\n  opacity: 0;\n}\n\n/* Class that exists but hasn't got css properties defined\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized.wrs_drag {} */\n\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\n}\n\n.wrs_modal_dialogContainer.wrs_drag {\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag {\n  box-shadow: rgba(0, 0, 0, 0.5) 0 2px 8px;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_android {\n  margin: auto;\n  position: fixed;\n  width: 99%;\n  height: 99%;\n  overflow: hidden;\n  transform: translate(50%, -50%);\n  top: 50%;\n  right: 50% !important;\n}\n\n.wrs_modal_dialogContainer.wrs_modal_ios {\n  margin: auto;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  transform: translate(50%, -50%);\n  top: 50%;\n  right: 50% !important;\n}\n\n/* Class that exists but hasn't got css properties defined\n.wrs_content_container.wrs_maximized {} */\n\n.wrs_content_container.wrs_minimized {\n  display: none;\n}\n\n/* .wrs_editor {\n    flex-grow: 1;\n} */\n\n.wrs_content_container.wrs_modal_android {\n  width: 100%;\n  height: 0%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.wrs_content_container.wrs_modal_android > div:first-child {\n  flex-grow: 1;\n}\n\n.wrs_content_container.wrs_modal_ios > div:first-child {\n  flex-grow: 1;\n}\n\n.wrs_content_container.wrs_modal_desktop > div:first-child {\n  flex-grow: 1;\n}\n\n.wrs_modal_wrapper.wrs_modal_android {\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n}\n\n.wrs_content_container.wrs_modal_desktop {\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.wrs_content_container.wrs_modal_ios {\n  width: 100%;\n  height: 0%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.wrs_modal_wrapper.wrs_modal_ios {\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n}\n\n.wrs_virtual_keyboard {\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 50%;\n  transform: translate(-50%, 0%);\n}\n\n@media all and (orientation: portrait) {\n  .wrs_modal_dialogContainer.wrs_modal_mobile {\n    width: 100vmin;\n    height: 100vmin;\n    margin: auto;\n    border-width: 0;\n  }\n\n  .wrs_modal_wrapper.wrs_modal_mobile {\n    width: 100vmin;\n    height: 100vmin;\n    margin: auto;\n  }\n}\n\n@media all and (orientation: landscape) {\n  .wrs_modal_dialogContainer.wrs_modal_mobile {\n    width: 100vmin;\n    height: 100vmin;\n    margin: auto;\n    border-width: 0;\n  }\n\n  .wrs_modal_wrapper.wrs_modal_mobile {\n    width: 100vmin;\n    height: 100vmin;\n    margin: auto;\n  }\n}\n\n.wrs_modal_dialogContainer.wrs_modal_badStock {\n  width: 100%;\n  height: 280px;\n  margin: 0 auto;\n  border-width: 0;\n}\n\n.wrs_modal_wrapper.wrs_modal_badStock {\n  width: 100%;\n  height: 280px;\n  margin: 0 auto;\n  border-width: 0;\n}\n\n.wrs_noselect {\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.wrs_bottom_right_resizer {\n  width: 10px;\n  height: 10px;\n  color: #778e9a;\n  position: absolute;\n  right: 4px;\n  bottom: 8px;\n  cursor: se-resize;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.wrs_bottom_left_resizer {\n  width: 15px;\n  height: 15px;\n  color: #778e9a;\n  position: absolute;\n  left: 0;\n  top: 0;\n  cursor: se-resize;\n}\n\n.wrs_modal_controls {\n  height: 42px;\n  margin: 3px 0;\n  overflow: hidden;\n  line-height: normal;\n}\n\n.wrs_modal_links {\n  margin: 10px auto;\n  margin-bottom: 0;\n  font-family: arial, sans-serif;\n  padding: 6px;\n  display: inline;\n  float: right;\n  text-align: right;\n}\n\n.wrs_modal_links > a {\n  text-decoration: none;\n  color: #778e9a;\n  font-size: 16px;\n}\n\n.wrs_modal_button_cancel,\n.wrs_modal_button_cancel:hover,\n.wrs_modal_button_cancel:visited,\n.wrs_modal_button_cancel:active,\n.wrs_modal_button_cancel:focus {\n  min-width: 80px;\n  font-size: 14px;\n  border-radius: 3px;\n  border: 1px solid #778e9a;\n  padding: 6px 8px;\n  margin: 10px auto;\n  margin-left: 5px;\n  margin-bottom: 0;\n  cursor: pointer;\n  font-family: arial, sans-serif;\n  background-color: #ddd;\n  height: 32px;\n}\n\n.wrs_modal_button_accept,\n.wrs_modal_button_accept:hover,\n.wrs_modal_button_accept:visited,\n.wrs_modal_button_accept:active,\n.wrs_modal_button_accept:focus {\n  min-width: 80px;\n  font-size: 14px;\n  border-radius: 3px;\n  border: 1px solid #778e9a;\n  padding: 6px 8px;\n  margin: 10px auto;\n  margin-right: 5px;\n  margin-bottom: 0;\n  color: #fff;\n  background: #778e9a;\n  cursor: pointer;\n  font-family: arial, sans-serif;\n  height: 32px;\n}\n\n.wrs_editor_vertical_bar {\n  height: 20px;\n  float: right;\n  background: none;\n  width: 20px;\n  cursor: pointer;\n}\n\n.wrs_modal_buttons_container {\n  display: inline;\n  float: left;\n}\n\n.wrs_modal_buttons_container.wrs_modalAndroid {\n  padding-left: 6px;\n}\n\n.wrs_modal_buttons_container.wrs_modalDesktop {\n  padding-left: 0;\n}\n\n.wrs_modal_buttons_container > button {\n  line-height: normal;\n  background-image: none;\n}\n\n.wrs_modal_wrapper {\n  margin: 6px;\n  display: flex;\n  flex-direction: column;\n}\n\n.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized {\n  display: none;\n}\n\n@media only screen and (max-device-width: 480px) and (orientation: portrait) {\n  #wrs_modal_wrapper {\n    width: 140%;\n  }\n}\n\n.wrs_popupmessage_overlay_envolture {\n  display: none;\n  width: 100%;\n}\n\n.wrs_popupmessage_overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 4;\n  cursor: pointer;\n}\n\n.wrs_popupmessage_panel {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  background: white;\n  max-width: 500px;\n  width: 75%;\n  border-radius: 2px;\n  padding: 20px;\n  font-family: sans-serif;\n  font-size: 15px;\n  text-align: left;\n  color: #2e2e2e;\n  z-index: 5;\n  max-height: 75%;\n  overflow: auto;\n}\n\n.wrs_popupmessage_button_area {\n  margin: 10px 0 0 0;\n}\n\n.wrs_panelContainer * {\n  border: 0;\n}\n\n.wrs_button_cancel,\n.wrs_button_cancel:hover,\n.wrs_button_cancel:visited,\n.wrs_button_cancel:active,\n.wrs_button_cancel:focus {\n  min-width: 80px;\n  font-size: 14px;\n  border-radius: 3px;\n  border: 1px solid #778e9a;\n  padding: 6px 8px;\n  margin: 10px auto;\n  margin-left: 5px;\n  margin-bottom: 0;\n  cursor: pointer;\n  font-family: arial, sans-serif;\n  background-color: #ddd;\n  background-image: none;\n  height: 32px;\n}\n\n.wrs_button_accept,\n.wrs_button_accept:hover,\n.wrs_button_accept:visited,\n.wrs_button_accept:active,\n.wrs_button_accept:focus {\n  min-width: 80px;\n  font-size: 14px;\n  border-radius: 3px;\n  border: 1px solid #778e9a;\n  padding: 6px 8px;\n  margin: 10px auto;\n  margin-right: 5px;\n  margin-bottom: 0;\n  color: #fff;\n  background: #778e9a;\n  cursor: pointer;\n  font-family: arial, sans-serif;\n  height: 32px;\n}\n\n.wrs_editor button {\n  box-shadow: none;\n}\n\n.wrs_editor .wrs_header button {\n  border-bottom: none;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active {\n  display: block;\n}\n\n/* Fix selection in drupal style */\n.wrs_toolbar tr:focus {\n  background: none;\n}\n\n.wrs_toolbar tr:hover {\n  background: none;\n}\n\n/* End of fix drupal */\n.wrs_modal_rtl .wrs_modal_button_cancel {\n  margin-right: 5px;\n  margin-left: 0;\n}\n\n.wrs_modal_rtl .wrs_modal_button_accept {\n  margin-right: 0;\n  margin-left: 5px;\n}\n\n.wrs_modal_rtl .wrs_button_cancel {\n  margin-right: 5px;\n  margin-left: 0;\n}\n\n.wrs_modal_rtl .wrs_button_accept {\n  margin-right: 0;\n  margin-left: 5px;\n}\n\n/* The Offline Modal (background) */\n.wrs_modal_offline {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 2; /* Sit on top */\n  padding-top: 150px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  margin: auto;\n}\n\n/* Modal Content */\n.wrs_modal_content_offline {\n  margin: auto;\n  padding: 16px;\n  background: #FFF7ED;\n  border-radius: 6px;\n  width: 517px;\n  height: 100px;\n  position: relative;\n}\n\n/* The Close Button */\n.wrs_modal_offline_close {\n  color: #C2410C;\n  font-size: 24px;\n  font-weight: bold;\n  left: 95.7%;\n  right: 2.08%;\n  top: 7.6%;\n  bottom: 75%;\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 400;\n  position: absolute;\n}\n\n/* The Warn Icon */\n.wrs_modal_offline_warn {\n  position: absolute;\n  left: 2.08%;\n  right: 94%;\n  top: 11.6%;\n  bottom: 75%;\n  font-size: 24px;\n  color: #FB923C;\n  background-repeat: no-repeat;\n}\n\n.wrs_modal_offline_text_container {\n  position: absolute;\n  left: 6.8%;\n  right: 6.08%;\n  top: 10.4%;\n  bottom: 2%;\n}\n\n.wrs_modal_offline_text {\n  font-family: 'Inter';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  color: #C2410C;\n}\n\n.wrs_modal_offline_text_warn {\n  height: 25px;\n  font-family: 'Inter';\n  font-style: normal;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: bold;\n  color: #C2410C;\n}\n\n.wrs_modal_offline_close:hover,\n.wrs_modal_offline_close:focus {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n}"],sourceRoot:""}]);const c=a},3645:e=>{"use strict";e.exports=function(e){var t=[];t.toString=function t(){return this.map((function(t){var n=e(t);if(t[2]){return"@media ".concat(t[2]," {").concat(n,"}")}return n})).join("")};t.i=function(e,n,i){if(typeof e==="string"){e=[[null,e,""]]}var o={};if(i){for(var r=0;r<this.length;r++){var s=this[r][0];if(s!=null){o[s]=true}}}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);if(i&&o[c[0]]){continue}if(n){if(!c[2]){c[2]=n}else{c[2]="".concat(n," and ").concat(c[2])}}t.push(c)}};return t}},4015:e=>{"use strict";function t(e,t){return s(e)||r(e,t)||i(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++){i[n]=e[n]}return i}function r(e,t){var n=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(n==null)return;var i=[];var o=true;var r=false;var s,a;try{for(n=n.call(e);!(o=(s=n.next()).done);o=true){i.push(s.value);if(t&&i.length===t)break}}catch(e){r=true;a=e}finally{try{if(!o&&n["return"]!=null)n["return"]()}finally{if(r)throw a}}return i}function s(e){if(Array.isArray(e))return e}e.exports=function e(n){var i=t(n,4),o=i[1],r=i[3];if(!r){return o}if(typeof btoa==="function"){var s=btoa(unescape(encodeURIComponent(JSON.stringify(r))));var a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s);var c="/*# ".concat(a," */");var l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([c]).join("\n")}return[o].join("\n")}},7856:function(e){
/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */
(function(t,n){true?e.exports=n():0})(this,(function(){"use strict";function e(t){"@babel/helpers - typeof";return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){t=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return t(e,n)}function n(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function i(e,o,r){if(n()){i=Reflect.construct}else{i=function e(n,i,o){var r=[null];r.push.apply(r,i);var s=Function.bind.apply(n,r);var a=new s;if(o)t(a,o.prototype);return a}}return i.apply(null,arguments)}function o(e){return r(e)||s(e)||a(e)||l()}function r(e){if(Array.isArray(e))return c(e)}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=Object.hasOwnProperty,u=Object.setPrototypeOf,h=Object.isFrozen,f=Object.getPrototypeOf,g=Object.getOwnPropertyDescriptor;var m=Object.freeze,p=Object.seal,b=Object.create;var k=typeof Reflect!=="undefined"&&Reflect,w=k.apply,_=k.construct;if(!w){w=function e(t,n,i){return t.apply(n,i)}}if(!m){m=function e(t){return t}}if(!p){p=function e(t){return t}}if(!_){_=function e(t,n){return i(t,o(n))}}var A=B(Array.prototype.forEach);var v=B(Array.prototype.pop);var C=B(Array.prototype.push);var y=B(String.prototype.toLowerCase);var x=B(String.prototype.toString);var E=B(String.prototype.match);var D=B(String.prototype.replace);var T=B(String.prototype.indexOf);var M=B(String.prototype.trim);var I=B(RegExp.prototype.test);var S=N(TypeError);function B(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}return w(e,t,i)}}function N(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}return _(e,n)}}function z(e,t,n){n=n?n:y;if(u){u(e,null)}var i=t.length;while(i--){var o=t[i];if(typeof o==="string"){var r=n(o);if(r!==o){if(!h(t)){t[i]=r}o=r}}e[o]=true}return e}function P(e){var t=b(null);var n;for(n in e){if(w(d,e,[n])===true){t[n]=e[n]}}return t}function L(e,t){while(e!==null){var n=g(e,t);if(n){if(n.get){return B(n.get)}if(typeof n.value==="function"){return B(n.value)}}e=f(e)}function i(e){console.warn("fallback value for",e);return null}return i}var O=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);var R=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);var j=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);var F=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);var V=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]);var H=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);var U=m(["#text"]);var W=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]);var $=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);var q=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);var G=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var Y=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm);var K=p(/<%[\w\W]*|[\w\W]*%>/gm);var Z=p(/\${[\w\W]*}/gm);var Q=p(/^data-[\-\w.\u00B7-\uFFFF]/);var J=p(/^aria-[\-\w]+$/);var X=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);var ee=p(/^(?:\w+script|data):/i);var te=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);var ne=p(/^html$/i);var ie=function e(){return typeof window==="undefined"?null:window};var oe=function t(n,i){if(e(n)!=="object"||typeof n.createPolicy!=="function"){return null}var o=null;var r="data-tt-policy-suffix";if(i.currentScript&&i.currentScript.hasAttribute(r)){o=i.currentScript.getAttribute(r)}var s="dompurify"+(o?"#"+o:"");try{return n.createPolicy(s,{createHTML:function e(t){return t},createScriptURL:function e(t){return t}})}catch(e){console.warn("TrustedTypes policy "+s+" could not be created.");return null}};function re(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:ie();var n=function e(t){return re(t)};n.version="2.4.5";n.removed=[];if(!t||!t.document||t.document.nodeType!==9){n.isSupported=false;return n}var i=t.document;var r=t.document;var s=t.DocumentFragment,a=t.HTMLTemplateElement,c=t.Node,l=t.Element,d=t.NodeFilter,u=t.NamedNodeMap,h=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,f=t.HTMLFormElement,g=t.DOMParser,p=t.trustedTypes;var b=l.prototype;var k=L(b,"cloneNode");var w=L(b,"nextSibling");var _=L(b,"childNodes");var B=L(b,"parentNode");if(typeof a==="function"){var N=r.createElement("template");if(N.content&&N.content.ownerDocument){r=N.content.ownerDocument}}var se=oe(p,i);var ae=se?se.createHTML(""):"";var ce=r,le=ce.implementation,de=ce.createNodeIterator,ue=ce.createDocumentFragment,he=ce.getElementsByTagName;var fe=i.importNode;var ge={};try{ge=P(r).documentMode?r.documentMode:{}}catch(e){}var me={};n.isSupported=typeof B==="function"&&le&&typeof le.createHTMLDocument!=="undefined"&&ge!==9;var pe=Y,be=K,ke=Z,we=Q,_e=J,Ae=ee,ve=te;var Ce=X;var ye=null;var xe=z({},[].concat(o(O),o(R),o(j),o(V),o(U)));var Ee=null;var De=z({},[].concat(o(W),o($),o(q),o(G)));var Te=Object.seal(Object.create(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));var Me=null;var Ie=null;var Se=true;var Be=true;var Ne=false;var ze=true;var Pe=false;var Le=false;var Oe=false;var Re=false;var je=false;var Fe=false;var Ve=false;var He=true;var Ue=false;var We="user-content-";var $e=true;var qe=false;var Ge={};var Ye=null;var Ke=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);var Ze=null;var Qe=z({},["audio","video","img","source","image","track"]);var Je=null;var Xe=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);var et="http://www.w3.org/1998/Math/MathML";var tt="http://www.w3.org/2000/svg";var nt="http://www.w3.org/1999/xhtml";var it=nt;var ot=false;var rt=null;var st=z({},[et,tt,nt],x);var at;var ct=["application/xhtml+xml","text/html"];var lt="text/html";var dt;var ut=null;var ht=r.createElement("form");var ft=function e(t){return t instanceof RegExp||t instanceof Function};var gt=function t(n){if(ut&&ut===n){return}if(!n||e(n)!=="object"){n={}}n=P(n);at=ct.indexOf(n.PARSER_MEDIA_TYPE)===-1?at=lt:at=n.PARSER_MEDIA_TYPE;dt=at==="application/xhtml+xml"?x:y;ye="ALLOWED_TAGS"in n?z({},n.ALLOWED_TAGS,dt):xe;Ee="ALLOWED_ATTR"in n?z({},n.ALLOWED_ATTR,dt):De;rt="ALLOWED_NAMESPACES"in n?z({},n.ALLOWED_NAMESPACES,x):st;Je="ADD_URI_SAFE_ATTR"in n?z(P(Xe),n.ADD_URI_SAFE_ATTR,dt):Xe;Ze="ADD_DATA_URI_TAGS"in n?z(P(Qe),n.ADD_DATA_URI_TAGS,dt):Qe;Ye="FORBID_CONTENTS"in n?z({},n.FORBID_CONTENTS,dt):Ke;Me="FORBID_TAGS"in n?z({},n.FORBID_TAGS,dt):{};Ie="FORBID_ATTR"in n?z({},n.FORBID_ATTR,dt):{};Ge="USE_PROFILES"in n?n.USE_PROFILES:false;Se=n.ALLOW_ARIA_ATTR!==false;Be=n.ALLOW_DATA_ATTR!==false;Ne=n.ALLOW_UNKNOWN_PROTOCOLS||false;ze=n.ALLOW_SELF_CLOSE_IN_ATTR!==false;Pe=n.SAFE_FOR_TEMPLATES||false;Le=n.WHOLE_DOCUMENT||false;je=n.RETURN_DOM||false;Fe=n.RETURN_DOM_FRAGMENT||false;Ve=n.RETURN_TRUSTED_TYPE||false;Re=n.FORCE_BODY||false;He=n.SANITIZE_DOM!==false;Ue=n.SANITIZE_NAMED_PROPS||false;$e=n.KEEP_CONTENT!==false;qe=n.IN_PLACE||false;Ce=n.ALLOWED_URI_REGEXP||Ce;it=n.NAMESPACE||nt;Te=n.CUSTOM_ELEMENT_HANDLING||{};if(n.CUSTOM_ELEMENT_HANDLING&&ft(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){Te.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(n.CUSTOM_ELEMENT_HANDLING&&ft(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){Te.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){Te.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}if(Pe){Be=false}if(Fe){je=true}if(Ge){ye=z({},o(U));Ee=[];if(Ge.html===true){z(ye,O);z(Ee,W)}if(Ge.svg===true){z(ye,R);z(Ee,$);z(Ee,G)}if(Ge.svgFilters===true){z(ye,j);z(Ee,$);z(Ee,G)}if(Ge.mathMl===true){z(ye,V);z(Ee,q);z(Ee,G)}}if(n.ADD_TAGS){if(ye===xe){ye=P(ye)}z(ye,n.ADD_TAGS,dt)}if(n.ADD_ATTR){if(Ee===De){Ee=P(Ee)}z(Ee,n.ADD_ATTR,dt)}if(n.ADD_URI_SAFE_ATTR){z(Je,n.ADD_URI_SAFE_ATTR,dt)}if(n.FORBID_CONTENTS){if(Ye===Ke){Ye=P(Ye)}z(Ye,n.FORBID_CONTENTS,dt)}if($e){ye["#text"]=true}if(Le){z(ye,["html","head","body"])}if(ye.table){z(ye,["tbody"]);delete Me.tbody}if(m){m(n)}ut=n};var mt=z({},["mi","mo","mn","ms","mtext"]);var pt=z({},["foreignobject","desc","title","annotation-xml"]);var bt=z({},["title","style","font","a","script"]);var kt=z({},R);z(kt,j);z(kt,F);var wt=z({},V);z(wt,H);var _t=function e(t){var n=B(t);if(!n||!n.tagName){n={namespaceURI:it,tagName:"template"}}var i=y(t.tagName);var o=y(n.tagName);if(!rt[t.namespaceURI]){return false}if(t.namespaceURI===tt){if(n.namespaceURI===nt){return i==="svg"}if(n.namespaceURI===et){return i==="svg"&&(o==="annotation-xml"||mt[o])}return Boolean(kt[i])}if(t.namespaceURI===et){if(n.namespaceURI===nt){return i==="math"}if(n.namespaceURI===tt){return i==="math"&&pt[o]}return Boolean(wt[i])}if(t.namespaceURI===nt){if(n.namespaceURI===tt&&!pt[o]){return false}if(n.namespaceURI===et&&!mt[o]){return false}return!wt[i]&&(bt[i]||!kt[i])}if(at==="application/xhtml+xml"&&rt[t.namespaceURI]){return true}return false};var At=function e(t){C(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ae}catch(e){t.remove()}}};var vt=function e(t,i){try{C(n.removed,{attribute:i.getAttributeNode(t),from:i})}catch(e){C(n.removed,{attribute:null,from:i})}i.removeAttribute(t);if(t==="is"&&!Ee[t]){if(je||Fe){try{At(i)}catch(e){}}else{try{i.setAttribute(t,"")}catch(e){}}}};var Ct=function e(t){var n;var i;if(Re){t="<remove></remove>"+t}else{var o=E(t,/^[\r\n\t ]+/);i=o&&o[0]}if(at==="application/xhtml+xml"&&it===nt){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}var s=se?se.createHTML(t):t;if(it===nt){try{n=(new g).parseFromString(s,at)}catch(e){}}if(!n||!n.documentElement){n=le.createDocument(it,"template",null);try{n.documentElement.innerHTML=ot?ae:s}catch(e){}}var a=n.body||n.documentElement;if(t&&i){a.insertBefore(r.createTextNode(i),a.childNodes[0]||null)}if(it===nt){return he.call(n,Le?"html":"body")[0]}return Le?n.documentElement:a};var yt=function e(t){return de.call(t.ownerDocument||t,t,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,false)};var xt=function e(t){return t instanceof f&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof h)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function"||typeof t.hasChildNodes!=="function")};var Et=function t(n){return e(c)==="object"?n instanceof c:n&&e(n)==="object"&&typeof n.nodeType==="number"&&typeof n.nodeName==="string"};var Dt=function e(t,i,o){if(!me[t]){return}A(me[t],(function(e){e.call(n,i,o,ut)}))};var Tt=function e(t){var i;Dt("beforeSanitizeElements",t,null);if(xt(t)){At(t);return true}if(I(/[\u0080-\uFFFF]/,t.nodeName)){At(t);return true}var o=dt(t.nodeName);Dt("uponSanitizeElement",t,{tagName:o,allowedTags:ye});if(t.hasChildNodes()&&!Et(t.firstElementChild)&&(!Et(t.content)||!Et(t.content.firstElementChild))&&I(/<[/\w]/g,t.innerHTML)&&I(/<[/\w]/g,t.textContent)){At(t);return true}if(o==="select"&&I(/<template/i,t.innerHTML)){At(t);return true}if(!ye[o]||Me[o]){if(!Me[o]&&It(o)){if(Te.tagNameCheck instanceof RegExp&&I(Te.tagNameCheck,o))return false;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(o))return false}if($e&&!Ye[o]){var r=B(t)||t.parentNode;var s=_(t)||t.childNodes;if(s&&r){var a=s.length;for(var c=a-1;c>=0;--c){r.insertBefore(k(s[c],true),w(t))}}}At(t);return true}if(t instanceof l&&!_t(t)){At(t);return true}if((o==="noscript"||o==="noembed")&&I(/<\/no(script|embed)/i,t.innerHTML)){At(t);return true}if(Pe&&t.nodeType===3){i=t.textContent;i=D(i,pe," ");i=D(i,be," ");i=D(i,ke," ");if(t.textContent!==i){C(n.removed,{element:t.cloneNode()});t.textContent=i}}Dt("afterSanitizeElements",t,null);return false};var Mt=function e(t,n,i){if(He&&(n==="id"||n==="name")&&(i in r||i in ht)){return false}if(Be&&!Ie[n]&&I(we,n));else if(Se&&I(_e,n));else if(!Ee[n]||Ie[n]){if(It(t)&&(Te.tagNameCheck instanceof RegExp&&I(Te.tagNameCheck,t)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(t))&&(Te.attributeNameCheck instanceof RegExp&&I(Te.attributeNameCheck,n)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(n))||n==="is"&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&I(Te.tagNameCheck,i)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(i)));else{return false}}else if(Je[n]);else if(I(Ce,D(i,ve,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&T(i,"data:")===0&&Ze[t]);else if(Ne&&!I(Ae,D(i,ve,"")));else if(!i);else{return false}return true};var It=function e(t){return t.indexOf("-")>0};var St=function t(i){var o;var r;var s;var a;Dt("beforeSanitizeAttributes",i,null);var c=i.attributes;if(!c){return}var l={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:Ee};a=c.length;while(a--){o=c[a];var d=o,u=d.name,h=d.namespaceURI;r=u==="value"?o.value:M(o.value);s=dt(u);l.attrName=s;l.attrValue=r;l.keepAttr=true;l.forceKeepAttr=undefined;Dt("uponSanitizeAttribute",i,l);r=l.attrValue;if(l.forceKeepAttr){continue}vt(u,i);if(!l.keepAttr){continue}if(!ze&&I(/\/>/i,r)){vt(u,i);continue}if(Pe){r=D(r,pe," ");r=D(r,be," ");r=D(r,ke," ")}var f=dt(i.nodeName);if(!Mt(f,s,r)){continue}if(Ue&&(s==="id"||s==="name")){vt(u,i);r=We+r}if(se&&e(p)==="object"&&typeof p.getAttributeType==="function"){if(h);else{switch(p.getAttributeType(f,s)){case"TrustedHTML":r=se.createHTML(r);break;case"TrustedScriptURL":r=se.createScriptURL(r);break}}}try{if(h){i.setAttributeNS(h,u,r)}else{i.setAttribute(u,r)}v(n.removed)}catch(e){}}Dt("afterSanitizeAttributes",i,null)};var Bt=function e(t){var n;var i=yt(t);Dt("beforeSanitizeShadowDOM",t,null);while(n=i.nextNode()){Dt("uponSanitizeShadowNode",n,null);if(Tt(n)){continue}if(n.content instanceof s){e(n.content)}St(n)}Dt("afterSanitizeShadowDOM",t,null)};n.sanitize=function(o){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a;var l;var d;var u;var h;ot=!o;if(ot){o="\x3c!--\x3e"}if(typeof o!=="string"&&!Et(o)){if(typeof o.toString!=="function"){throw S("toString is not a function")}else{o=o.toString();if(typeof o!=="string"){throw S("dirty is not a string, aborting")}}}if(!n.isSupported){if(e(t.toStaticHTML)==="object"||typeof t.toStaticHTML==="function"){if(typeof o==="string"){return t.toStaticHTML(o)}if(Et(o)){return t.toStaticHTML(o.outerHTML)}}return o}if(!Oe){gt(r)}n.removed=[];if(typeof o==="string"){qe=false}if(qe){if(o.nodeName){var f=dt(o.nodeName);if(!ye[f]||Me[f]){throw S("root node is forbidden and cannot be sanitized in-place")}}}else if(o instanceof c){a=Ct("\x3c!----\x3e");l=a.ownerDocument.importNode(o,true);if(l.nodeType===1&&l.nodeName==="BODY"){a=l}else if(l.nodeName==="HTML"){a=l}else{a.appendChild(l)}}else{if(!je&&!Pe&&!Le&&o.indexOf("<")===-1){return se&&Ve?se.createHTML(o):o}a=Ct(o);if(!a){return je?null:Ve?ae:""}}if(a&&Re){At(a.firstChild)}var g=yt(qe?o:a);while(d=g.nextNode()){if(d.nodeType===3&&d===u){continue}if(Tt(d)){continue}if(d.content instanceof s){Bt(d.content)}St(d);u=d}u=null;if(qe){return o}if(je){if(Fe){h=ue.call(a.ownerDocument);while(a.firstChild){h.appendChild(a.firstChild)}}else{h=a}if(Ee.shadowroot||Ee.shadowrootmod){h=fe.call(i,h,true)}return h}var m=Le?a.outerHTML:a.innerHTML;if(Le&&ye["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&I(ne,a.ownerDocument.doctype.name)){m="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+m}if(Pe){m=D(m,pe," ");m=D(m,be," ");m=D(m,ke," ")}return se&&Ve?se.createHTML(m):m};n.setConfig=function(e){gt(e);Oe=true};n.clearConfig=function(){ut=null;Oe=false};n.isValidAttribute=function(e,t,n){if(!ut){gt({})}var i=dt(e);var o=dt(t);return Mt(i,o,n)};n.addHook=function(e,t){if(typeof t!=="function"){return}me[e]=me[e]||[];C(me[e],t)};n.removeHook=function(e){if(me[e]){return v(me[e])}};n.removeHooks=function(e){if(me[e]){me[e]=[]}};n.removeAllHooks=function(){me={}};return n}var se=re();return se}))},3379:(e,t,n)=>{"use strict";var i=function e(){var t;return function e(){if(typeof t==="undefined"){t=Boolean(window&&document&&document.all&&!window.atob)}return t}}();var o=function e(){var t={};return function e(n){if(typeof t[n]==="undefined"){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement){try{i=i.contentDocument.head}catch(e){i=null}}t[n]=i}return t[n]}}();var r=[];function s(e){var t=-1;for(var n=0;n<r.length;n++){if(r[n].identifier===e){t=n;break}}return t}function a(e,t){var n={};var i=[];for(var o=0;o<e.length;o++){var a=e[o];var c=t.base?a[0]+t.base:a[0];var l=n[c]||0;var d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d);var h={css:a[1],media:a[2],sourceMap:a[3]};if(u!==-1){r[u].references++;r[u].updater(h)}else{r.push({identifier:d,updater:m(h,t),references:1})}i.push(d)}return i}function c(e){var t=document.createElement("style");var i=e.attributes||{};if(typeof i.nonce==="undefined"){var r=true?n.nc:0;if(r){i.nonce=r}}Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])}));if(typeof e.insert==="function"){e.insert(t)}else{var s=o(e.insert||"head");if(!s){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}s.appendChild(t)}return t}function l(e){if(e.parentNode===null){return false}e.parentNode.removeChild(e)}var d=function e(){var t=[];return function e(n,i){t[n]=i;return t.filter(Boolean).join("\n")}}();function u(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet){e.styleSheet.cssText=d(t,o)}else{var r=document.createTextNode(o);var s=e.childNodes;if(s[t]){e.removeChild(s[t])}if(s.length){e.insertBefore(r,s[t])}else{e.appendChild(r)}}}function h(e,t,n){var i=n.css;var o=n.media;var r=n.sourceMap;if(o){e.setAttribute("media",o)}else{e.removeAttribute("media")}if(r&&typeof btoa!=="undefined"){i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")}if(e.styleSheet){e.styleSheet.cssText=i}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(i))}}var f=null;var g=0;function m(e,t){var n;var i;var o;if(t.singleton){var r=g++;n=f||(f=c(t));i=u.bind(null,n,r,false);o=u.bind(null,n,r,true)}else{n=c(t);i=h.bind(null,n,t);o=function e(){l(n)}}i(e);return function t(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap){return}i(e=n)}else{o()}}}e.exports=function(e,t){t=t||{};if(!t.singleton&&typeof t.singleton!=="boolean"){t.singleton=i()}e=e||[];var n=a(e,t);return function e(i){i=i||[];if(Object.prototype.toString.call(i)!=="[object Array]"){return}for(var o=0;o<n.length;o++){var c=n[o];var l=s(c);r[l].references--}var d=a(i,t);for(var u=0;u<n.length;u++){var h=n[u];var f=s(h);if(r[f].references===0){r[f].updater();r.splice(f,1)}}n=d}}},7992:(e,t,n)=>{"use strict";e.exports=n.p+"a6e6731d81a6e02dacdf.wasm"},1576:()=>{}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var n=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__);n.loaded=true;return n.exports}__webpack_require__.m=__webpack_modules__;(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var n in t){if(__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}}})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.hmd=e=>{e=Object.create(e);if(!e.children)e.children=[];Object.defineProperty(e,"exports",{enumerable:true,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e}})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{var e;if(__webpack_require__.g.importScripts)e=__webpack_require__.g.location+"";var t=__webpack_require__.g.document;if(!e&&t){if(t.currentScript)e=t.currentScript.src;if(!e){var n=t.getElementsByTagName("script");if(n.length){var i=n.length-1;while(i>-1&&!e)e=n[i--].src}}}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");__webpack_require__.p=e})();(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={179:0}})();(()=>{__webpack_require__.nc=undefined})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>KG});function e({emitter:e,activator:t,callback:n,contextElements:i}){e.listenTo(document,"mousedown",((e,o)=>{if(!t()){return}const r=typeof o.composedPath=="function"?o.composedPath():[];const s=typeof i=="function"?i():i;for(const e of s){if(e.contains(o.target)||r.includes(e)){return}}n()}))}function t(e){class t extends e{disableCssTransitions(){this._isCssTransitionsDisabled=true}enableCssTransitions(){this._isCssTransitionsDisabled=false}constructor(...e){super(...e);this.set("_isCssTransitionsDisabled",false);this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return t}function n({view:e}){e.listenTo(e.element,"submit",((t,n)=>{n.preventDefault();e.fire("submit")}),{useCapture:true})}function i({keystrokeHandler:e,focusTracker:t,gridItems:n,numberOfColumns:i,uiLanguageDirection:o}){const r=typeof i==="number"?()=>i:i;e.set("arrowright",s(((e,t)=>o==="rtl"?c(e,t.length):a(e,t.length))));e.set("arrowleft",s(((e,t)=>o==="rtl"?a(e,t.length):c(e,t.length))));e.set("arrowup",s(((e,t)=>{let n=e-r();if(n<0){n=e+r()*Math.floor(t.length/r());if(n>t.length-1){n-=r()}}return n})));e.set("arrowdown",s(((e,t)=>{let n=e+r();if(n>t.length-1){n=e%r()}return n})));function s(e){return i=>{const o=n.find((e=>e.element===t.focusedElement));const r=n.getIndex(o);const s=e(r,n);n.get(s).focus();i.stopPropagation();i.preventDefault()}}function a(e,t){if(e===t-1){return 0}else{return e+1}}function c(e,t){if(e===0){return t-1}else{return e-1}}}function o(){try{return navigator.userAgent.toLowerCase()}catch(e){return""}}const r=o();const s={isMac:c(r),isWindows:l(r),isGecko:d(r),isSafari:u(r),isiOS:h(r),isAndroid:f(r),isBlink:g(r),features:{isRegExpUnicodePropertySupported:m()}};const a=s;function c(e){return e.indexOf("macintosh")>-1}function l(e){return e.indexOf("windows")>-1}function d(e){return!!e.match(/gecko\/\d+/)}function u(e){return e.indexOf(" applewebkit/")>-1&&e.indexOf("chrome")===-1}function h(e){return!!e.match(/iphone|ipad/i)||c(e)&&navigator.maxTouchPoints>0}function f(e){return e.indexOf("android")>-1}function g(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function m(){let e=false;try{e="ć".search(new RegExp("[\\p{L}]","u"))===0}catch(e){}return e}function p(e,t,n,i){n=n||function(e,t){return e===t};const o=Array.isArray(e)?e:Array.prototype.slice.call(e);const r=Array.isArray(t)?t:Array.prototype.slice.call(t);const s=b(o,r,n);const a=i?A(s,r.length):_(r,s);return a}function b(e,t,n){const i=k(e,t,n);if(i===-1){return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}}const o=w(e,i);const r=w(t,i);const s=k(o,r,n);const a=e.length-s;const c=t.length-s;return{firstIndex:i,lastIndexOld:a,lastIndexNew:c}}function k(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++){if(e[i]===undefined||t[i]===undefined||!n(e[i],t[i])){return i}}return-1}function w(e,t){return e.slice(t).reverse()}function _(e,t){const n=[];const{firstIndex:i,lastIndexOld:o,lastIndexNew:r}=t;if(r-i>0){n.push({index:i,type:"insert",values:e.slice(i,r)})}if(o-i>0){n.push({index:i+(r-i),type:"delete",howMany:o-i})}return n}function A(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:o}=e;if(n===-1){return Array(t).fill("equal")}let r=[];if(n>0){r=r.concat(Array(n).fill("equal"))}if(o-n>0){r=r.concat(Array(o-n).fill("insert"))}if(i-n>0){r=r.concat(Array(i-n).fill("delete"))}if(o<t){r=r.concat(Array(t-o).fill("equal"))}return r}function v(e,t,n){n=n||function(e,t){return e===t};const i=e.length;const o=t.length;if(i>200||o>200||i+o>300){return v.fastDiff(e,t,n,true)}let r,s;if(o<i){const n=e;e=t;t=n;r="delete";s="insert"}else{r="insert";s="delete"}const a=e.length;const c=t.length;const l=c-a;const d={};const u={};function h(i){const o=(u[i-1]!==undefined?u[i-1]:-1)+1;const l=u[i+1]!==undefined?u[i+1]:-1;const h=o>l?-1:1;if(d[i+h]){d[i]=d[i+h].slice(0)}if(!d[i]){d[i]=[]}d[i].push(o>l?r:s);let f=Math.max(o,l);let g=f-i;while(g<a&&f<c&&n(e[g],t[f])){g++;f++;d[i].push("equal")}return f}let f=0;let g;do{for(g=-f;g<l;g++){u[g]=h(g)}for(g=l+f;g>l;g--){u[g]=h(g)}u[l]=h(l);f++}while(u[l]!==c);return d[l].slice(1)}v.fastDiff=p;function C(){return function e(){e.called=true}}const y=C;class x{constructor(e,t){this.source=e;this.name=t;this.path=[];this.stop=y();this.off=y()}}const E=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function D(){const e=Math.random()*4294967296>>>0;const t=Math.random()*4294967296>>>0;const n=Math.random()*4294967296>>>0;const i=Math.random()*4294967296>>>0;return"e"+E[e>>0&255]+E[e>>8&255]+E[e>>16&255]+E[e>>24&255]+E[t>>0&255]+E[t>>8&255]+E[t>>16&255]+E[t>>24&255]+E[n>>0&255]+E[n>>8&255]+E[n>>16&255]+E[n>>24&255]+E[i>>0&255]+E[i>>8&255]+E[i>>16&255]+E[i>>24&255]}const T={get(e="normal"){if(typeof e!="number"){return this[e]||this.normal}else{return e}},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};const I=T;function S(e,t){const n=I.get(t.priority);for(let i=0;i<e.length;i++){if(I.get(e[i].priority)<n){e.splice(i,0,t);return}}e.push(t)}const B="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class N extends Error{constructor(e,t,n){super(O(e,n));this.name="CKEditorError";this.context=t;this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError")){throw e}const n=new N(e.message,t);n.stack=e.stack;throw n}}function z(e,t){console.warn(...R(e,t))}function P(e,t){console.error(...R(e,t))}function L(e){return`\nRead more: ${B}#error-${e}`}function O(e,t){const n=new WeakSet;const i=(e,t)=>{if(typeof t==="object"&&t!==null){if(n.has(t)){return`[object ${t.constructor.name}]`}n.add(t)}return t};const o=t?` ${JSON.stringify(t,i)}`:"";const r=L(e);return e+o+r}function R(e,t){const n=L(e);return t?[e,t,n]:[e,n]}const j="38.1.0";const F=null&&j;const V=new Date(2023,5,28);const H=typeof window==="object"?window:__webpack_require__.g;if(H.CKEDITOR_VERSION){throw new N("ckeditor-duplicated-modules",null)}else{H.CKEDITOR_VERSION=j}const U=Symbol("listeningTo");const W=Symbol("emitterId");const $=Symbol("delegations");const q=G(Object);function G(e){if(!e){return q}class t extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let i=false;const o=(e,...n)=>{if(!i){i=true;e.off();t.call(this,e,...n)}};this.listenTo(this,e,o,n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,i={}){let o,r;if(!this[U]){this[U]={}}const s=this[U];if(!Z(e)){K(e)}const a=Z(e);if(!(o=s[a])){o=s[a]={emitter:e,callbacks:{}}}if(!(r=o.callbacks[t])){r=o.callbacks[t]=[]}r.push(n);ie(this,e,t,n,i)}stopListening(e,t,n){const i=this[U];let o=e&&Z(e);const r=i&&o?i[o]:undefined;const s=r&&t?r.callbacks[t]:undefined;if(!i||e&&!r||t&&!s){return}if(n){oe(this,e,t,n);const i=s.indexOf(n);if(i!==-1){if(s.length===1){delete r.callbacks[t]}else{oe(this,e,t,n)}}}else if(s){while(n=s.pop()){oe(this,e,t,n)}delete r.callbacks[t]}else if(r){for(t in r.callbacks){this.stopListening(e,t)}delete i[o]}else{for(o in i){this.stopListening(i[o].emitter)}delete this[U]}}fire(e,...t){try{const n=e instanceof x?e:new x(this,e);const i=n.name;let o=te(this,i);n.path.push(this);if(o){const e=[n,...t];o=Array.from(o);for(let t=0;t<o.length;t++){o[t].callback.apply(this,e);if(n.off.called){delete n.off.called;this._removeEventListener(i,o[t].callback)}if(n.stop.called){break}}}const r=this[$];if(r){const e=r.get(i);const o=r.get("*");if(e){ne(e,n,t)}if(o){ne(o,n,t)}}return n.return}catch(e){N.rethrowUnexpectedError(e,this)}}delegate(...e){return{to:(t,n)=>{if(!this[$]){this[$]=new Map}e.forEach((e=>{const i=this[$].get(e);if(!i){this[$].set(e,new Map([[t,n]]))}else{i.set(t,n)}}))}}}stopDelegating(e,t){if(!this[$]){return}if(!e){this[$].clear()}else if(!t){this[$].delete(e)}else{const n=this[$].get(e);if(n){n.delete(t)}}}_addEventListener(e,t,n){X(this,e);const i=ee(this,e);const o=I.get(n.priority);const r={callback:t,priority:o};for(const e of i){S(e,r)}}_removeEventListener(e,t){const n=ee(this,e);for(const e of n){for(let n=0;n<e.length;n++){if(e[n].callback==t){e.splice(n,1);n--}}}}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{G[e]=q.prototype[e]}));function Y(e,t){const n=e[U];if(n&&n[t]){return n[t].emitter}return null}function K(e,t){if(!e[W]){e[W]=t||D()}}function Z(e){return e[W]}function Q(e){if(!e._events){Object.defineProperty(e,"_events",{value:{}})}return e._events}function J(){return{callbacks:[],childEvents:[]}}function X(e,t){const n=Q(e);if(n[t]){return}let i=t;let o=null;const r=[];while(i!==""){if(n[i]){break}n[i]=J();r.push(n[i]);if(o){n[i].childEvents.push(o)}o=i;i=i.substr(0,i.lastIndexOf(":"))}if(i!==""){for(const e of r){e.callbacks=n[i].callbacks.slice()}n[i].childEvents.push(o)}}function ee(e,t){const n=Q(e)[t];if(!n){return[]}let i=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const o=ee(e,n.childEvents[t]);i=i.concat(o)}return i}function te(e,t){let n;if(!e._events||!(n=e._events[t])||!n.callbacks.length){if(t.indexOf(":")>-1){return te(e,t.substr(0,t.lastIndexOf(":")))}else{return null}}return n.callbacks}function ne(e,t,n){for(let[i,o]of e){if(!o){o=t.name}else if(typeof o=="function"){o=o(t.name)}const e=new x(t.source,o);e.path=[...t.path];i.fire(e,...n)}}function ie(e,t,n,i,o){if(t._addEventListener){t._addEventListener(n,i,o)}else{e._addEventListener.call(t,n,i,o)}}function oe(e,t,n,i){if(t._removeEventListener){t._removeEventListener(n,i)}else{e._removeEventListener.call(t,n,i)}}function re(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}const se=re;const ae=Symbol("observableProperties");const ce=Symbol("boundObservables");const le=Symbol("boundProperties");const de=Symbol("decoratedMethods");const ue=Symbol("decoratedOriginal");const he=fe(G());function fe(e){if(!e){return he}class t extends e{set(e,t){if(se(e)){Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);return}ge(this);const n=this[ae];if(e in this&&!n.has(e)){throw new N("observable-set-cannot-override",this)}Object.defineProperty(this,e,{enumerable:true,configurable:true,get(){return n.get(e)},set(t){const i=n.get(e);let o=this.fire(`set:${e}`,e,t,i);if(o===undefined){o=t}if(i!==o||!n.has(e)){n.set(e,o);this.fire(`change:${e}`,e,o,i)}}});this[e]=t}bind(...e){if(!e.length||!ke(e)){throw new N("observable-bind-wrong-properties",this)}if(new Set(e).size!==e.length){throw new N("observable-bind-duplicate-properties",this)}ge(this);const t=this[le];e.forEach((e=>{if(t.has(e)){throw new N("observable-bind-rebind",this)}}));const n=new Map;e.forEach((e=>{const i={property:e,to:[]};t.set(e,i);n.set(e,i)}));return{to:me,toMany:pe,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[ae]){return}const t=this[le];const n=this[ce];if(e.length){if(!ke(e)){throw new N("observable-unbind-wrong-properties",this)}e.forEach((e=>{const i=t.get(e);if(!i){return}i.to.forEach((([e,t])=>{const o=n.get(e);const r=o[t];r.delete(i);if(!r.size){delete o[t]}if(!Object.keys(o).length){n.delete(e);this.stopListening(e,"change")}}));t.delete(e)}))}else{n.forEach(((e,t)=>{this.stopListening(t,"change")}));n.clear();t.clear()}}decorate(e){ge(this);const t=this[e];if(!t){throw new N("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e})}this.on(e,((e,n)=>{e.return=t.apply(this,n)}));this[e]=function(...t){return this.fire(e,t)};this[e][ue]=t;if(!this[de]){this[de]=[]}this[de].push(e)}stopListening(e,t,n){if(!e&&this[de]){for(const e of this[de]){this[e]=this[e][ue]}delete this[de]}super.stopListening(e,t,n)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{fe[e]=he.prototype[e]}));function ge(e){if(e[ae]){return}Object.defineProperty(e,ae,{value:new Map});Object.defineProperty(e,ce,{value:new Map});Object.defineProperty(e,le,{value:new Map})}function me(...e){const t=we(...e);const n=Array.from(this._bindings.keys());const i=n.length;if(!t.callback&&t.to.length>1){throw new N("observable-bind-to-no-callback",this)}if(i>1&&t.callback){throw new N("observable-bind-to-extra-callback",this)}t.to.forEach((e=>{if(e.properties.length&&e.properties.length!==i){throw new N("observable-bind-to-properties-length",this)}if(!e.properties.length){e.properties=this._bindProperties}}));this._to=t.to;if(t.callback){this._bindings.get(n[0]).callback=t.callback}Ce(this._observable,this._to);Ae(this);this._bindProperties.forEach((e=>{ve(this._observable,e)}))}function pe(e,t,n){if(this._bindings.size>1){throw new N("observable-bind-to-many-not-one-binding",this)}this.to(...be(e,t),n)}function be(e,t){const n=e.map((e=>[e,t]));return Array.prototype.concat.apply([],n)}function ke(e){return e.every((e=>typeof e=="string"))}function we(...e){if(!e.length){throw new N("observable-bind-to-parse-error",null)}const t={to:[]};let n;if(typeof e[e.length-1]=="function"){t.callback=e.pop()}e.forEach((e=>{if(typeof e=="string"){n.properties.push(e)}else if(typeof e=="object"){n={observable:e,properties:[]};t.to.push(n)}else{throw new N("observable-bind-to-parse-error",null)}}));return t}function _e(e,t,n,i){const o=e[ce];const r=o.get(n);const s=r||{};if(!s[i]){s[i]=new Set}s[i].add(t);if(!r){o.set(n,s)}}function Ae(e){let t;e._bindings.forEach(((n,i)=>{e._to.forEach((o=>{t=o.properties[n.callback?0:e._bindProperties.indexOf(i)];n.to.push([o.observable,t]);_e(e._observable,n,o.observable,t)}))}))}function ve(e,t){const n=e[le];const i=n.get(t);let o;if(i.callback){o=i.callback.apply(e,i.to.map((e=>e[0][e[1]])))}else{o=i.to[0];o=o[0][o[1]]}if(Object.prototype.hasOwnProperty.call(e,t)){e[t]=o}else{e.set(t,o)}}function Ce(e,t){t.forEach((t=>{const n=e[ce];let i;if(!n.get(t.observable)){e.listenTo(t.observable,"change",((o,r)=>{i=n.get(t.observable)[r];if(i){i.forEach((t=>{ve(e,t.property)}))}}))}}))}class ye{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t});e.style.display="none";if(t){e.parentNode.insertBefore(t,e.nextSibling)}}restore(){this._replacedElements.forEach((({element:e,newElement:t})=>{e.style.display="";if(t){t.remove()}}));this._replacedElements=[]}}function xe(e){let t=0;for(const n of e){t++}return t}function Ee(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){if(e[i]!=t[i]){return i}}if(e.length==t.length){return"same"}else if(e.length<t.length){return"prefix"}else{return"extension"}}function De(e){return!!(e&&e[Symbol.iterator])}var Te=typeof global=="object"&&global&&global.Object===Object&&global;const Me=Te;var Ie=typeof self=="object"&&self&&self.Object===Object&&self;var Se=Me||Ie||Function("return this")();const Be=Se;var Ne=Be.Symbol;const ze=Ne;var Pe=Object.prototype;var Le=Pe.hasOwnProperty;var Oe=Pe.toString;var Re=ze?ze.toStringTag:undefined;function je(e){var t=Le.call(e,Re),n=e[Re];try{e[Re]=undefined;var i=true}catch(e){}var o=Oe.call(e);if(i){if(t){e[Re]=n}else{delete e[Re]}}return o}const Fe=je;var Ve=Object.prototype;var He=Ve.toString;function Ue(e){return He.call(e)}const We=Ue;var $e="[object Null]",qe="[object Undefined]";var Ge=ze?ze.toStringTag:undefined;function Ye(e){if(e==null){return e===undefined?qe:$e}return Ge&&Ge in Object(e)?Fe(e):We(e)}const Ke=Ye;var Ze=Array.isArray;const Qe=Ze;function Je(e){return e!=null&&typeof e=="object"}const Xe=Je;var et="[object String]";function tt(e){return typeof e=="string"||!Qe(e)&&Xe(e)&&Ke(e)==et}const nt=tt;function it(e,t,n={},i=[]){const o=n&&n.xmlns;const r=o?e.createElementNS(o,t):e.createElement(t);for(const e in n){r.setAttribute(e,n[e])}if(nt(i)||!De(i)){i=[i]}for(let t of i){if(nt(t)){t=e.createTextNode(t)}r.appendChild(t)}return r}function ot(e,t){return function(n){return e(t(n))}}const rt=ot;var st=rt(Object.getPrototypeOf,Object);const at=st;var ct="[object Object]";var lt=Function.prototype,dt=Object.prototype;var ut=lt.toString;var ht=dt.hasOwnProperty;var ft=ut.call(Object);function gt(e){if(!Xe(e)||Ke(e)!=ct){return false}var t=at(e);if(t===null){return true}var n=ht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ut.call(n)==ft}const mt=gt;function pt(){this.__data__=[];this.size=0}const bt=pt;function kt(e,t){return e===t||e!==e&&t!==t}const wt=kt;function _t(e,t){var n=e.length;while(n--){if(wt(e[n][0],t)){return n}}return-1}const At=_t;var vt=Array.prototype;var Ct=vt.splice;function yt(e){var t=this.__data__,n=At(t,e);if(n<0){return false}var i=t.length-1;if(n==i){t.pop()}else{Ct.call(t,n,1)}--this.size;return true}const xt=yt;function Et(e){var t=this.__data__,n=At(t,e);return n<0?undefined:t[n][1]}const Dt=Et;function Tt(e){return At(this.__data__,e)>-1}const Mt=Tt;function It(e,t){var n=this.__data__,i=At(n,e);if(i<0){++this.size;n.push([e,t])}else{n[i][1]=t}return this}const St=It;function Bt(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}Bt.prototype.clear=bt;Bt.prototype["delete"]=xt;Bt.prototype.get=Dt;Bt.prototype.has=Mt;Bt.prototype.set=St;const Nt=Bt;function zt(){this.__data__=new Nt;this.size=0}const Pt=zt;function Lt(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}const Ot=Lt;function Rt(e){return this.__data__.get(e)}const jt=Rt;function Ft(e){return this.__data__.has(e)}const Vt=Ft;var Ht="[object AsyncFunction]",Ut="[object Function]",Wt="[object GeneratorFunction]",$t="[object Proxy]";function qt(e){if(!se(e)){return false}var t=Ke(e);return t==Ut||t==Wt||t==Ht||t==$t}const Gt=qt;var Yt=Be["__core-js_shared__"];const Kt=Yt;var Zt=function(){var e=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qt(e){return!!Zt&&Zt in e}const Jt=Qt;var Xt=Function.prototype;var en=Xt.toString;function tn(e){if(e!=null){try{return en.call(e)}catch(e){}try{return e+""}catch(e){}}return""}const nn=tn;var on=/[\\^$.*+?()[\]{}|]/g;var rn=/^\[object .+?Constructor\]$/;var sn=Function.prototype,an=Object.prototype;var cn=sn.toString;var ln=an.hasOwnProperty;var dn=RegExp("^"+cn.call(ln).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function un(e){if(!se(e)||Jt(e)){return false}var t=Gt(e)?dn:rn;return t.test(nn(e))}const hn=un;function fn(e,t){return e==null?undefined:e[t]}const gn=fn;function mn(e,t){var n=gn(e,t);return hn(n)?n:undefined}const pn=mn;var bn=pn(Be,"Map");const kn=bn;var wn=pn(Object,"create");const _n=wn;function An(){this.__data__=_n?_n(null):{};this.size=0}const vn=An;function Cn(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}const yn=Cn;var xn="__lodash_hash_undefined__";var En=Object.prototype;var Dn=En.hasOwnProperty;function Tn(e){var t=this.__data__;if(_n){var n=t[e];return n===xn?undefined:n}return Dn.call(t,e)?t[e]:undefined}const Mn=Tn;var In=Object.prototype;var Sn=In.hasOwnProperty;function Bn(e){var t=this.__data__;return _n?t[e]!==undefined:Sn.call(t,e)}const Nn=Bn;var zn="__lodash_hash_undefined__";function Pn(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=_n&&t===undefined?zn:t;return this}const Ln=Pn;function On(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}On.prototype.clear=vn;On.prototype["delete"]=yn;On.prototype.get=Mn;On.prototype.has=Nn;On.prototype.set=Ln;const Rn=On;function jn(){this.size=0;this.__data__={hash:new Rn,map:new(kn||Nt),string:new Rn}}const Fn=jn;function Vn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}const Hn=Vn;function Un(e,t){var n=e.__data__;return Hn(t)?n[typeof t=="string"?"string":"hash"]:n.map}const Wn=Un;function $n(e){var t=Wn(this,e)["delete"](e);this.size-=t?1:0;return t}const qn=$n;function Gn(e){return Wn(this,e).get(e)}const Yn=Gn;function Kn(e){return Wn(this,e).has(e)}const Zn=Kn;function Qn(e,t){var n=Wn(this,e),i=n.size;n.set(e,t);this.size+=n.size==i?0:1;return this}const Jn=Qn;function Xn(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}Xn.prototype.clear=Fn;Xn.prototype["delete"]=qn;Xn.prototype.get=Yn;Xn.prototype.has=Zn;Xn.prototype.set=Jn;const ei=Xn;var ti=200;function ni(e,t){var n=this.__data__;if(n instanceof Nt){var i=n.__data__;if(!kn||i.length<ti-1){i.push([e,t]);this.size=++n.size;return this}n=this.__data__=new ei(i)}n.set(e,t);this.size=n.size;return this}const ii=ni;function oi(e){var t=this.__data__=new Nt(e);this.size=t.size}oi.prototype.clear=Pt;oi.prototype["delete"]=Ot;oi.prototype.get=jt;oi.prototype.has=Vt;oi.prototype.set=ii;const ri=oi;function si(e,t){var n=-1,i=e==null?0:e.length;while(++n<i){if(t(e[n],n,e)===false){break}}return e}const ai=si;var ci=function(){try{var e=pn(Object,"defineProperty");e({},"",{});return e}catch(e){}}();const li=ci;function di(e,t,n){if(t=="__proto__"&&li){li(e,t,{configurable:true,enumerable:true,value:n,writable:true})}else{e[t]=n}}const ui=di;var hi=Object.prototype;var fi=hi.hasOwnProperty;function gi(e,t,n){var i=e[t];if(!(fi.call(e,t)&&wt(i,n))||n===undefined&&!(t in e)){ui(e,t,n)}}const mi=gi;function pi(e,t,n,i){var o=!n;n||(n={});var r=-1,s=t.length;while(++r<s){var a=t[r];var c=i?i(n[a],e[a],a,n,e):undefined;if(c===undefined){c=e[a]}if(o){ui(n,a,c)}else{mi(n,a,c)}}return n}const bi=pi;function ki(e,t){var n=-1,i=Array(e);while(++n<e){i[n]=t(n)}return i}const wi=ki;var _i="[object Arguments]";function Ai(e){return Xe(e)&&Ke(e)==_i}const vi=Ai;var Ci=Object.prototype;var yi=Ci.hasOwnProperty;var xi=Ci.propertyIsEnumerable;var Ei=vi(function(){return arguments}())?vi:function(e){return Xe(e)&&yi.call(e,"callee")&&!xi.call(e,"callee")};const Di=Ei;function Ti(){return false}const Mi=Ti;var Ii=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Si=Ii&&typeof module=="object"&&module&&!module.nodeType&&module;var Bi=Si&&Si.exports===Ii;var Ni=Bi?Be.Buffer:undefined;var zi=Ni?Ni.isBuffer:undefined;var Pi=zi||Mi;const Li=Pi;var Oi=9007199254740991;var Ri=/^(?:0|[1-9]\d*)$/;function ji(e,t){var n=typeof e;t=t==null?Oi:t;return!!t&&(n=="number"||n!="symbol"&&Ri.test(e))&&(e>-1&&e%1==0&&e<t)}const Fi=ji;var Vi=9007199254740991;function Hi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vi}const Ui=Hi;var Wi="[object Arguments]",$i="[object Array]",qi="[object Boolean]",Gi="[object Date]",Yi="[object Error]",Ki="[object Function]",Zi="[object Map]",Qi="[object Number]",Ji="[object Object]",Xi="[object RegExp]",eo="[object Set]",to="[object String]",no="[object WeakMap]";var io="[object ArrayBuffer]",oo="[object DataView]",ro="[object Float32Array]",so="[object Float64Array]",ao="[object Int8Array]",co="[object Int16Array]",lo="[object Int32Array]",uo="[object Uint8Array]",ho="[object Uint8ClampedArray]",fo="[object Uint16Array]",go="[object Uint32Array]";var mo={};mo[ro]=mo[so]=mo[ao]=mo[co]=mo[lo]=mo[uo]=mo[ho]=mo[fo]=mo[go]=true;mo[Wi]=mo[$i]=mo[io]=mo[qi]=mo[oo]=mo[Gi]=mo[Yi]=mo[Ki]=mo[Zi]=mo[Qi]=mo[Ji]=mo[Xi]=mo[eo]=mo[to]=mo[no]=false;function po(e){return Xe(e)&&Ui(e.length)&&!!mo[Ke(e)]}const bo=po;function ko(e){return function(t){return e(t)}}const wo=ko;var _o=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Ao=_o&&typeof module=="object"&&module&&!module.nodeType&&module;var vo=Ao&&Ao.exports===_o;var Co=vo&&Me.process;var yo=function(){try{var e=Ao&&Ao.require&&Ao.require("util").types;if(e){return e}return Co&&Co.binding&&Co.binding("util")}catch(e){}}();const xo=yo;var Eo=xo&&xo.isTypedArray;var Do=Eo?wo(Eo):bo;const To=Do;var Mo=Object.prototype;var Io=Mo.hasOwnProperty;function So(e,t){var n=Qe(e),i=!n&&Di(e),o=!n&&!i&&Li(e),r=!n&&!i&&!o&&To(e),s=n||i||o||r,a=s?wi(e.length,String):[],c=a.length;for(var l in e){if((t||Io.call(e,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Fi(l,c)))){a.push(l)}}return a}const Bo=So;var No=Object.prototype;function zo(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||No;return e===n}const Po=zo;var Lo=rt(Object.keys,Object);const Oo=Lo;var Ro=Object.prototype;var jo=Ro.hasOwnProperty;function Fo(e){if(!Po(e)){return Oo(e)}var t=[];for(var n in Object(e)){if(jo.call(e,n)&&n!="constructor"){t.push(n)}}return t}const Vo=Fo;function Ho(e){return e!=null&&Ui(e.length)&&!Gt(e)}const Uo=Ho;function Wo(e){return Uo(e)?Bo(e):Vo(e)}const $o=Wo;function qo(e,t){return e&&bi(t,$o(t),e)}const Go=qo;function Yo(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}const Ko=Yo;var Zo=Object.prototype;var Qo=Zo.hasOwnProperty;function Jo(e){if(!se(e)){return Ko(e)}var t=Po(e),n=[];for(var i in e){if(!(i=="constructor"&&(t||!Qo.call(e,i)))){n.push(i)}}return n}const Xo=Jo;function er(e){return Uo(e)?Bo(e,true):Xo(e)}const tr=er;function nr(e,t){return e&&bi(t,tr(t),e)}const ir=nr;var or=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var rr=or&&typeof module=="object"&&module&&!module.nodeType&&module;var sr=rr&&rr.exports===or;var ar=sr?Be.Buffer:undefined,cr=ar?ar.allocUnsafe:undefined;function lr(e,t){if(t){return e.slice()}var n=e.length,i=cr?cr(n):new e.constructor(n);e.copy(i);return i}const dr=lr;function ur(e,t){var n=-1,i=e.length;t||(t=Array(i));while(++n<i){t[n]=e[n]}return t}const hr=ur;function fr(e,t){var n=-1,i=e==null?0:e.length,o=0,r=[];while(++n<i){var s=e[n];if(t(s,n,e)){r[o++]=s}}return r}const gr=fr;function mr(){return[]}const pr=mr;var br=Object.prototype;var kr=br.propertyIsEnumerable;var wr=Object.getOwnPropertySymbols;var _r=!wr?pr:function(e){if(e==null){return[]}e=Object(e);return gr(wr(e),(function(t){return kr.call(e,t)}))};const Ar=_r;function vr(e,t){return bi(e,Ar(e),t)}const Cr=vr;function yr(e,t){var n=-1,i=t.length,o=e.length;while(++n<i){e[o+n]=t[n]}return e}const xr=yr;var Er=Object.getOwnPropertySymbols;var Dr=!Er?pr:function(e){var t=[];while(e){xr(t,Ar(e));e=at(e)}return t};const Tr=Dr;function Mr(e,t){return bi(e,Tr(e),t)}const Ir=Mr;function Sr(e,t,n){var i=t(e);return Qe(e)?i:xr(i,n(e))}const Br=Sr;function Nr(e){return Br(e,$o,Ar)}const zr=Nr;function Pr(e){return Br(e,tr,Tr)}const Lr=Pr;var Or=pn(Be,"DataView");const Rr=Or;var jr=pn(Be,"Promise");const Fr=jr;var Vr=pn(Be,"Set");const Hr=Vr;var Ur=pn(Be,"WeakMap");const Wr=Ur;var $r="[object Map]",qr="[object Object]",Gr="[object Promise]",Yr="[object Set]",Kr="[object WeakMap]";var Zr="[object DataView]";var Qr=nn(Rr),Jr=nn(kn),Xr=nn(Fr),es=nn(Hr),ts=nn(Wr);var ns=Ke;if(Rr&&ns(new Rr(new ArrayBuffer(1)))!=Zr||kn&&ns(new kn)!=$r||Fr&&ns(Fr.resolve())!=Gr||Hr&&ns(new Hr)!=Yr||Wr&&ns(new Wr)!=Kr){ns=function(e){var t=Ke(e),n=t==qr?e.constructor:undefined,i=n?nn(n):"";if(i){switch(i){case Qr:return Zr;case Jr:return $r;case Xr:return Gr;case es:return Yr;case ts:return Kr}}return t}}const is=ns;var os=Object.prototype;var rs=os.hasOwnProperty;function ss(e){var t=e.length,n=new e.constructor(t);if(t&&typeof e[0]=="string"&&rs.call(e,"index")){n.index=e.index;n.input=e.input}return n}const as=ss;var cs=Be.Uint8Array;const ls=cs;function ds(e){var t=new e.constructor(e.byteLength);new ls(t).set(new ls(e));return t}const us=ds;function hs(e,t){var n=t?us(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}const fs=hs;var gs=/\w*$/;function ms(e){var t=new e.constructor(e.source,gs.exec(e));t.lastIndex=e.lastIndex;return t}const ps=ms;var bs=ze?ze.prototype:undefined,ks=bs?bs.valueOf:undefined;function ws(e){return ks?Object(ks.call(e)):{}}const _s=ws;function As(e,t){var n=t?us(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}const vs=As;var Cs="[object Boolean]",ys="[object Date]",xs="[object Map]",Es="[object Number]",Ds="[object RegExp]",Ts="[object Set]",Ms="[object String]",Is="[object Symbol]";var Ss="[object ArrayBuffer]",Bs="[object DataView]",Ns="[object Float32Array]",zs="[object Float64Array]",Ps="[object Int8Array]",Ls="[object Int16Array]",Os="[object Int32Array]",Rs="[object Uint8Array]",js="[object Uint8ClampedArray]",Fs="[object Uint16Array]",Vs="[object Uint32Array]";function Hs(e,t,n){var i=e.constructor;switch(t){case Ss:return us(e);case Cs:case ys:return new i(+e);case Bs:return fs(e,n);case Ns:case zs:case Ps:case Ls:case Os:case Rs:case js:case Fs:case Vs:return vs(e,n);case xs:return new i;case Es:case Ms:return new i(e);case Ds:return ps(e);case Ts:return new i;case Is:return _s(e)}}const Us=Hs;var Ws=Object.create;var $s=function(){function e(){}return function(t){if(!se(t)){return{}}if(Ws){return Ws(t)}e.prototype=t;var n=new e;e.prototype=undefined;return n}}();const qs=$s;function Gs(e){return typeof e.constructor=="function"&&!Po(e)?qs(at(e)):{}}const Ys=Gs;var Ks="[object Map]";function Zs(e){return Xe(e)&&is(e)==Ks}const Qs=Zs;var Js=xo&&xo.isMap;var Xs=Js?wo(Js):Qs;const ea=Xs;var ta="[object Set]";function na(e){return Xe(e)&&is(e)==ta}const ia=na;var oa=xo&&xo.isSet;var ra=oa?wo(oa):ia;const sa=ra;var aa=1,ca=2,la=4;var da="[object Arguments]",ua="[object Array]",ha="[object Boolean]",fa="[object Date]",ga="[object Error]",ma="[object Function]",pa="[object GeneratorFunction]",ba="[object Map]",ka="[object Number]",wa="[object Object]",_a="[object RegExp]",Aa="[object Set]",va="[object String]",Ca="[object Symbol]",ya="[object WeakMap]";var xa="[object ArrayBuffer]",Ea="[object DataView]",Da="[object Float32Array]",Ta="[object Float64Array]",Ma="[object Int8Array]",Ia="[object Int16Array]",Sa="[object Int32Array]",Ba="[object Uint8Array]",Na="[object Uint8ClampedArray]",za="[object Uint16Array]",Pa="[object Uint32Array]";var La={};La[da]=La[ua]=La[xa]=La[Ea]=La[ha]=La[fa]=La[Da]=La[Ta]=La[Ma]=La[Ia]=La[Sa]=La[ba]=La[ka]=La[wa]=La[_a]=La[Aa]=La[va]=La[Ca]=La[Ba]=La[Na]=La[za]=La[Pa]=true;La[ga]=La[ma]=La[ya]=false;function Oa(e,t,n,i,o,r){var s,a=t&aa,c=t&ca,l=t&la;if(n){s=o?n(e,i,o,r):n(e)}if(s!==undefined){return s}if(!se(e)){return e}var d=Qe(e);if(d){s=as(e);if(!a){return hr(e,s)}}else{var u=is(e),h=u==ma||u==pa;if(Li(e)){return dr(e,a)}if(u==wa||u==da||h&&!o){s=c||h?{}:Ys(e);if(!a){return c?Ir(e,ir(s,e)):Cr(e,Go(s,e))}}else{if(!La[u]){return o?e:{}}s=Us(e,u,a)}}r||(r=new ri);var f=r.get(e);if(f){return f}r.set(e,s);if(sa(e)){e.forEach((function(i){s.add(Oa(i,t,n,i,e,r))}))}else if(ea(e)){e.forEach((function(i,o){s.set(o,Oa(i,t,n,o,e,r))}))}var g=l?c?Lr:zr:c?tr:$o;var m=d?undefined:g(e);ai(m||e,(function(i,o){if(m){o=i;i=e[o]}mi(s,o,Oa(i,t,n,o,e,r))}));return s}const Ra=Oa;var ja=1,Fa=4;function Va(e,t){t=typeof t=="function"?t:undefined;return Ra(e,ja|Fa,t)}const Ha=Va;function Ua(e){return Xe(e)&&e.nodeType===1&&!mt(e)}const Wa=Ua;class $a{constructor(e,t){this._config={};if(t){this.define(qa(t))}if(e){this._setObjectToTarget(this._config,e)}}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){const n=true;this._setToTarget(this._config,e,t,n)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config)){yield e}}_setToTarget(e,t,n,i=false){if(mt(t)){this._setObjectToTarget(e,t,i);return}const o=t.split(".");t=o.pop();for(const t of o){if(!mt(e[t])){e[t]={}}e=e[t]}if(mt(n)){if(!mt(e[t])){e[t]={}}e=e[t];this._setObjectToTarget(e,n,i);return}if(i&&typeof e[t]!="undefined"){return}e[t]=n}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const t of n){if(!mt(e[t])){e=null;break}e=e[t]}return e?qa(e[t]):undefined}_setObjectToTarget(e,t,n){Object.keys(t).forEach((i=>{this._setToTarget(e,i,t[i],n)}))}}function qa(e){return Ha(e,Ga)}function Ga(e){return Wa(e)?e:undefined}function Ya(e){if(e){if(e.defaultView){return e instanceof e.defaultView.Document}else if(e.ownerDocument&&e.ownerDocument.defaultView){return e instanceof e.ownerDocument.defaultView.Node}}return false}function Ka(e){const t=Object.prototype.toString.apply(e);if(t=="[object Window]"){return true}if(t=="[object global]"){return true}return false}const Za=Qa(G());function Qa(e){if(!e){return Za}class t extends e{listenTo(e,t,n,i={}){if(Ya(e)||Ka(e)){const o={capture:!!i.useCapture,passive:!!i.usePassive};const r=this._getProxyEmitter(e,o)||new Ja(e,o);this.listenTo(r,t,n,i)}else{super.listenTo(e,t,n,i)}}stopListening(e,t,n){if(Ya(e)||Ka(e)){const i=this._getAllProxyEmitters(e);for(const e of i){this.stopListening(e,t,n)}}else{super.stopListening(e,t,n)}}_getProxyEmitter(e,t){return Y(this,ec(e,t))}_getAllProxyEmitters(e){return[{capture:false,passive:false},{capture:false,passive:true},{capture:true,passive:false},{capture:true,passive:true}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{Qa[e]=Za.prototype[e]}));class Ja extends(G()){constructor(e,t){super();K(this,ec(e,t));this._domNode=e;this._options=t}attach(e){if(this._domListeners&&this._domListeners[e]){return}const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options);if(!this._domListeners){this._domListeners={}}this._domListeners[e]=t}detach(e){let t;if(this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)){this._domListeners[e].removeListener()}}_addEventListener(e,t,n){this.attach(e);G().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){G().prototype._removeEventListener.call(this,e,t);this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options);delete this._domListeners[e]};return t}}function Xa(e){return e["data-ck-expando"]||(e["data-ck-expando"]=D())}function ec(e,t){let n=Xa(e);for(const e of Object.keys(t).sort()){if(t[e]){n+="-"+e}}return n}let tc;try{tc={window,document}}catch(SW){tc={window:{},document:{}}}const nc=tc;function ic(e){let t=e.parentElement;if(!t){return null}while(t.tagName!="BODY"){const e=t.style.overflowY||nc.window.getComputedStyle(t).overflowY;if(e==="auto"||e==="scroll"){break}t=t.parentElement;if(!t){return null}}return t}function oc(e){const t=[];let n=e;while(n&&n.nodeType!=Node.DOCUMENT_NODE){t.unshift(n);n=n.parentNode}return t}function rc(e){if(e instanceof HTMLTextAreaElement){return e.value}return e.innerHTML}function sc(e){return Object.prototype.toString.call(e)=="[object Text]"}function ac(e){return Object.prototype.toString.apply(e)=="[object Range]"}function cc(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const lc=["top","right","bottom","left","width","height"];class dc{constructor(e){const t=ac(e);Object.defineProperty(this,"_source",{value:e._source||e,writable:true,enumerable:false});if(fc(e)||t){if(t){const t=dc.getDomRangeRects(e);uc(this,dc.getBoundingRect(t))}else{uc(this,e.getBoundingClientRect())}}else if(Ka(e)){const{innerWidth:t,innerHeight:n}=e;uc(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else{uc(this,e)}}clone(){return new dc(this)}moveTo(e,t){this.top=t;this.right=e+this.width;this.bottom=t+this.height;this.left=e;return this}moveBy(e,t){this.top+=t;this.right+=e;this.left+=e;this.bottom+=t;return this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};t.width=t.right-t.left;t.height=t.bottom-t.top;if(t.width<0||t.height<0){return null}else{return new dc(t)}}getIntersectionArea(e){const t=this.getIntersection(e);if(t){return t.getArea()}else{return 0}}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(hc(e)){return t}let n=e;let i=e.parentNode||e.commonAncestorContainer;let o;while(i&&!hc(i)){if(n instanceof HTMLElement&&gc(n)==="absolute"){o=n}if(o&&(gc(i)!=="relative"||mc(i)==="visible")){n=i;i=i.parentNode;continue}const e=new dc(i);const r=t.getIntersection(e);if(r){if(r.getArea()<t.getArea()){t=r}}else{return null}n=i;i=i.parentNode}return t}isEqual(e){for(const t of lc){if(this[t]!==e[t]){return false}}return true}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(Ka(e)){t=e.innerWidth-e.document.documentElement.clientWidth;n=e.innerHeight-e.document.documentElement.clientHeight;i=e.getComputedStyle(e.document.documentElement).direction}else{const o=cc(e);t=e.offsetWidth-e.clientWidth-o.left-o.right;n=e.offsetHeight-e.clientHeight-o.top-o.bottom;i=e.ownerDocument.defaultView.getComputedStyle(e).direction;this.left+=o.left;this.top+=o.top;this.right-=o.right;this.bottom-=o.bottom;this.width=this.right-this.left;this.height=this.bottom-this.top}this.width-=t;if(i==="ltr"){this.right-=t}else{this.left+=t}this.height-=n;this.bottom-=n;return this}static getDomRangeRects(e){const t=[];const n=Array.from(e.getClientRects());if(n.length){for(const e of n){t.push(new dc(e))}}else{let n=e.startContainer;if(sc(n)){n=n.parentNode}const i=new dc(n.getBoundingClientRect());i.right=i.left;i.width=0;t.push(i)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of e){n++;t.left=Math.min(t.left,i.left);t.top=Math.min(t.top,i.top);t.right=Math.max(t.right,i.right);t.bottom=Math.max(t.bottom,i.bottom)}if(n==0){return null}t.width=t.right-t.left;t.height=t.bottom-t.top;return new dc(t)}}function uc(e,t){for(const n of lc){e[n]=t[n]}}function hc(e){if(!fc(e)){return false}return e===e.ownerDocument.body}function fc(e){return e!==null&&typeof e==="object"&&e.nodeType===1&&typeof e.getBoundingClientRect==="function"}function gc(e){return e.ownerDocument.defaultView.getComputedStyle(e).position}function mc(e){return e.ownerDocument.defaultView.getComputedStyle(e).overflow}class pc{constructor(e,t){if(!pc._observerInstance){pc._createObserver()}this._element=e;this._callback=t;pc._addElementCallback(e,t);pc._observerInstance.observe(e)}get element(){return this._element}destroy(){pc._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){if(!pc._elementCallbacks){pc._elementCallbacks=new Map}let n=pc._elementCallbacks.get(e);if(!n){n=new Set;pc._elementCallbacks.set(e,n)}n.add(t)}static _deleteElementCallback(e,t){const n=pc._getElementCallbacks(e);if(n){n.delete(t);if(!n.size){pc._elementCallbacks.delete(e);pc._observerInstance.unobserve(e)}}if(pc._elementCallbacks&&!pc._elementCallbacks.size){pc._observerInstance=null;pc._elementCallbacks=null}}static _getElementCallbacks(e){if(!pc._elementCallbacks){return null}return pc._elementCallbacks.get(e)}static _createObserver(){pc._observerInstance=new nc.window.ResizeObserver((e=>{for(const t of e){const e=pc._getElementCallbacks(t.target);if(e){for(const n of e){n(t)}}}}))}}pc._observerInstance=null;pc._elementCallbacks=null;function bc(e,t){if(e instanceof HTMLTextAreaElement){e.value=t}e.innerHTML=t}function kc(e){return t=>t+e}function wc(e){let t=0;while(e.previousSibling){e=e.previousSibling;t++}return t}function _c(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Ac(e){return e&&e.nodeType===Node.COMMENT_NODE}function vc(e){try{nc.document.createAttribute(e)}catch(e){return false}return true}function Cc(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}function yc(e){if(!e||!e.parentNode){return null}if(e.offsetParent===nc.document.body){return null}return e.offsetParent}function xc({element:e,target:t,positions:n,limiter:i,fitInViewport:o,viewportOffsetConfig:r}){if(Gt(t)){t=t()}if(Gt(i)){i=i()}const s=yc(e);const a=new dc(e);const c=new dc(t);let l;const d=o&&Ec(r)||null;const u={targetRect:c,elementRect:a,positionedElementAncestor:s,viewportRect:d};if(!i&&!o){l=new Ic(n[0],u)}else{const e=i&&new dc(i).getVisible();Object.assign(u,{limiterRect:e,viewportRect:d});l=Dc(n,u)||new Ic(n[0],u)}return l}function Ec(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new dc(nc.window);t.top+=e.top;t.height-=e.top;t.bottom-=e.bottom;t.height-=e.bottom;return t}function Dc(e,t){const{elementRect:n}=t;const i=n.getArea();const o=e.map((e=>new Ic(e,t))).filter((e=>!!e.name));let r=0;let s=null;for(const e of o){const{limiterIntersectionArea:t,viewportIntersectionArea:n}=e;if(t===i){return e}const o=n**2+t**2;if(o>r){r=o;s=e}}return s}function Tc(e,t){const n=Mc(new dc(t));const i=cc(t);let o=0;let r=0;o-=n.left;r-=n.top;o+=t.scrollLeft;r+=t.scrollTop;o-=i.left;r-=i.top;e.moveBy(o,r)}function Mc(e){const{scrollX:t,scrollY:n}=nc.window;return e.clone().moveBy(t,n)}class Ic{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect);if(!n){return}const{left:i,top:o,name:r,config:s}=n;this.name=r;this.config=s;this._positioningFunctionCorrdinates={left:i,top:o};this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(t){const n=e.getIntersection(t);if(n){return n.getIntersectionArea(this._rect)}}else{return e.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;if(e){return e.getIntersectionArea(this._rect)}return 0}get _rect(){if(this._cachedRect){return this._cachedRect}this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top);return this._cachedRect}get _absoluteRect(){if(this._cachedAbsoluteRect){return this._cachedAbsoluteRect}this._cachedAbsoluteRect=Mc(this._rect);if(this._options.positionedElementAncestor){Tc(this._cachedAbsoluteRect,this._options.positionedElementAncestor)}return this._cachedAbsoluteRect}}function Sc(e){const t=e.parentNode;if(t){t.removeChild(e)}}function Bc({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:i,forceScroll:o}){const r=Fc(e);let s=r;let a=null;t=Uc(t);while(s){let c;if(s==r){c=Vc(e)}else{c=Vc(a)}Pc({parent:c,getRect:()=>Hc(e,s),alignToTop:i,ancestorOffset:n,forceScroll:o});const l=Hc(e,s);zc({window:s,rect:l,viewportOffset:t,alignToTop:i,forceScroll:o});if(s.parent!=s){a=s.frameElement;s=s.parent;if(!a){return}}else{s=null}}}function Nc(e,t){const n=Vc(e);Pc({parent:n,getRect:()=>new Rect(e),ancestorOffset:t})}function zc({window:e,rect:t,alignToTop:n,forceScroll:i,viewportOffset:o}){const r=t.clone().moveBy(0,o.bottom);const s=t.clone().moveBy(0,-o.top);const a=new dc(e).excludeScrollbarsAndBorders();const c=[s,r];const l=n&&i;const d=c.every((e=>a.contains(e)));let{scrollX:u,scrollY:h}=e;const f=u;const g=h;if(l){h-=a.top-t.top+o.top}else if(!d){if(Oc(s,a)){h-=a.top-t.top+o.top}else if(Lc(r,a)){if(n){h+=t.top-a.top-o.top}else{h+=t.bottom-a.bottom+o.bottom}}}if(!d){if(Rc(t,a)){u-=a.left-t.left+o.left}else if(jc(t,a)){u+=t.right-a.right+o.right}}if(u!=f||h!==g){e.scrollTo(u,h)}}function Pc({parent:e,getRect:t,alignToTop:n,forceScroll:i,ancestorOffset:o=0}){const r=Fc(e);const s=n&&i;let a,c,l;while(e!=r.document.body){c=t();a=new dc(e).excludeScrollbarsAndBorders();l=a.contains(c);if(s){e.scrollTop-=a.top-c.top+o}else if(!l){if(Oc(c,a)){e.scrollTop-=a.top-c.top+o}else if(Lc(c,a)){if(n){e.scrollTop+=c.top-a.top-o}else{e.scrollTop+=c.bottom-a.bottom+o}}}if(!l){if(Rc(c,a)){e.scrollLeft-=a.left-c.left+o}else if(jc(c,a)){e.scrollLeft+=c.right-a.right+o}}e=e.parentNode}}function Lc(e,t){return e.bottom>t.bottom}function Oc(e,t){return e.top<t.top}function Rc(e,t){return e.left<t.left}function jc(e,t){return e.right>t.right}function Fc(e){if(ac(e)){return e.startContainer.ownerDocument.defaultView}else{return e.ownerDocument.defaultView}}function Vc(e){if(ac(e)){let t=e.commonAncestorContainer;if(sc(t)){t=t.parentNode}return t}else{return e.parentNode}}function Hc(e,t){const n=Fc(e);const i=new dc(e);if(n===t){return i}else{let e=n;while(e!=t){const t=e.frameElement;const n=new dc(t).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top);e=e.parent}}return i}function Uc(e){if(typeof e==="number"){return{top:e,bottom:e,left:e,right:e}}return e}const Wc={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"};const $c={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"};const qc=tl();const Gc=Object.fromEntries(Object.entries(qc).map((([e,t])=>[t,e.charAt(0).toUpperCase()+e.slice(1)])));function Yc(e){let t;if(typeof e=="string"){t=qc[e.toLowerCase()];if(!t){throw new N("keyboard-unknown-key",null,{key:e})}}else{t=e.keyCode+(e.altKey?qc.alt:0)+(e.ctrlKey?qc.ctrl:0)+(e.shiftKey?qc.shift:0)+(e.metaKey?qc.cmd:0)}return t}function Kc(e){if(typeof e=="string"){e=nl(e)}return e.map((e=>typeof e=="string"?Xc(e):e)).reduce(((e,t)=>t+e),0)}function Zc(e){let t=Kc(e);const n=Object.entries(a.isMac?Wc:$c);const i=n.reduce(((e,[n,i])=>{if((t&qc[n])!=0){t&=~qc[n];e+=i}return e}),"");return i+(t?Gc[t]:"")}function Qc(e){return e==qc.arrowright||e==qc.arrowleft||e==qc.arrowup||e==qc.arrowdown}function Jc(e,t){const n=t==="ltr";switch(e){case qc.arrowleft:return n?"left":"right";case qc.arrowright:return n?"right":"left";case qc.arrowup:return"up";case qc.arrowdown:return"down"}}function Xc(e){if(e.endsWith("!")){return Yc(e.slice(0,-1))}const t=Yc(e);return a.isMac&&t==qc.ctrl?qc.cmd:t}function el(e,t){const n=Jc(e,t);return n==="down"||n==="right"}function tl(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++){e[t-48]=t}for(let t=112;t<=123;t++){e["f"+(t-111)]=t}for(const t of"`-=[];',./\\"){e[t]=t.charCodeAt(0)}return e}function nl(e){return e.split("+").map((e=>e.trim()))}function il(e){return Array.isArray(e)?e:[e]}if(!nc.window.CKEDITOR_TRANSLATIONS){nc.window.CKEDITOR_TRANSLATIONS={}}function ol(e,t,n){if(!global.window.CKEDITOR_TRANSLATIONS[e]){global.window.CKEDITOR_TRANSLATIONS[e]={}}const i=global.window.CKEDITOR_TRANSLATIONS[e];i.dictionary=i.dictionary||{};i.getPluralForm=n||i.getPluralForm;Object.assign(i.dictionary,t)}function rl(e,t,n=1){if(typeof n!=="number"){throw new N("translation-service-quantity-not-a-number",null,{quantity:n})}const i=cl();if(i===1){e=Object.keys(nc.window.CKEDITOR_TRANSLATIONS)[0]}const o=t.id||t.string;if(i===0||!al(e,o)){if(n!==1){return t.plural}return t.string}const r=nc.window.CKEDITOR_TRANSLATIONS[e].dictionary;const s=nc.window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(e=>e===1?0:1);const a=r[o];if(typeof a==="string"){return a}const c=Number(s(n));return a[c]}function sl(){global.window.CKEDITOR_TRANSLATIONS={}}function al(e,t){return!!nc.window.CKEDITOR_TRANSLATIONS[e]&&!!nc.window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}function cl(){return Object.keys(nc.window.CKEDITOR_TRANSLATIONS).length}const ll=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function dl(e){return ll.includes(e)?"rtl":"ltr"}class ul{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e;this.contentLanguage=t||this.uiLanguage;this.uiLanguageDirection=dl(this.uiLanguage);this.contentLanguageDirection=dl(this.contentLanguage);this.t=(e,t)=>this._t(e,t)}get language(){console.warn("locale-deprecated-language-property: "+"The Locale#language property has been deprecated and will be removed in the near future. "+"Please use #uiLanguage and #contentLanguage properties instead.");return this.uiLanguage}_t(e,t=[]){t=il(t);if(typeof e==="string"){e={string:e}}const n=!!e.plural;const i=n?t[0]:1;const o=rl(this.uiLanguage,e,i);return hl(o,t)}}function hl(e,t){return e.replace(/%(\d+)/g,((e,n)=>n<t.length?t[n]:e))}class fl extends(G()){constructor(e={},t={}){super();const n=De(e);if(!n){t=e}this._items=[];this._itemMap=new Map;this._idProperty=t.idProperty||"id";this._bindToExternalToInternalMap=new WeakMap;this._bindToInternalToExternalMap=new WeakMap;this._skippedIndexesFromExternal=[];if(n){for(const t of e){this._items.push(t);this._itemMap.set(this._getItemIdBeforeAdding(t),t)}}}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===undefined){t=this._items.length}else if(t>this._items.length||t<0){throw new N("collection-add-item-invalid-index",this)}let n=0;for(const i of e){const e=this._getItemIdBeforeAdding(i);const o=t+n;this._items.splice(o,0,i);this._itemMap.set(e,i);this.fire("add",i,o);n++}this.fire("change",{added:e,removed:[],index:t});return this}get(e){let t;if(typeof e=="string"){t=this._itemMap.get(e)}else if(typeof e=="number"){t=this._items[e]}else{throw new N("collection-get-invalid-arg",this)}return t||null}has(e){if(typeof e=="string"){return this._itemMap.has(e)}else{const t=this._idProperty;const n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;if(typeof e=="string"){t=this._itemMap.get(e)}else{t=e}return t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);this.fire("change",{added:[],removed:[t],index:n});return t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){if(this._bindToCollection){this.stopListening(this._bindToCollection);this._bindToCollection=null}const e=Array.from(this._items);while(this.length){this._remove(0)}this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection){throw new N("collection-bind-to-rebind",this)}this._bindToCollection=e;return{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{if(typeof e=="function"){this._setUpBindToBinding(e)}else{this._setUpBindToBinding((t=>t[e]))}}}}_setUpBindToBinding(e){const t=this._bindToCollection;const n=(n,i,o)=>{const r=t._bindToCollection==this;const s=t._bindToInternalToExternalMap.get(i);if(r&&s){this._bindToExternalToInternalMap.set(i,s);this._bindToInternalToExternalMap.set(s,i)}else{const n=e(i);if(!n){this._skippedIndexesFromExternal.push(o);return}let r=o;for(const e of this._skippedIndexesFromExternal){if(o>e){r--}}for(const e of t._skippedIndexesFromExternal){if(r>=e){r++}}this._bindToExternalToInternalMap.set(i,n);this._bindToInternalToExternalMap.set(n,i);this.add(n,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++){if(r<=t._skippedIndexesFromExternal[e]){t._skippedIndexesFromExternal[e]++}}}};for(const e of t){n(null,e,t.getIndex(e))}this.listenTo(t,"add",n);this.listenTo(t,"remove",((e,t,n)=>{const i=this._bindToExternalToInternalMap.get(t);if(i){this.remove(i)}this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>{if(n<t){e.push(t-1)}if(n>t){e.push(t)}return e}),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){n=e[t];if(typeof n!="string"){throw new N("collection-add-invalid-id",this)}if(this.get(n)){throw new N("collection-add-item-already-exists",this)}}else{e[t]=n=D()}return n}_remove(e){let t,n,i;let o=false;const r=this._idProperty;if(typeof e=="string"){n=e;i=this._itemMap.get(n);o=!i;if(i){t=this._items.indexOf(i)}}else if(typeof e=="number"){t=e;i=this._items[t];o=!i;if(i){n=i[r]}}else{i=e;n=i[r];t=this._items.indexOf(i);o=t==-1||!this._itemMap.get(n)}if(o){throw new N("collection-remove-404",this)}this._items.splice(t,1);this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);this._bindToInternalToExternalMap.delete(i);this._bindToExternalToInternalMap.delete(s);this.fire("remove",i,t);return[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function gl(e){const t=e.next();if(t.done){return null}return t.value}class ml extends(Qa(fe())){constructor(){super();this._elements=new Set;this._nextEventLoopTimeout=null;this.set("isFocused",false);this.set("focusedElement",null)}add(e){if(this._elements.has(e)){throw new N("focustracker-add-element-already-exist",this)}this.listenTo(e,"focus",(()=>this._focus(e)),{useCapture:true});this.listenTo(e,"blur",(()=>this._blur()),{useCapture:true});this._elements.add(e)}remove(e){if(e===this.focusedElement){this._blur()}if(this._elements.has(e)){this.stopListening(e);this._elements.delete(e)}}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout);this.focusedElement=e;this.isFocused=true}_blur(){clearTimeout(this._nextEventLoopTimeout);this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null;this.isFocused=false}),0)}}class pl{constructor(){this._listener=new(Qa())}listenTo(e){this._listener.listenTo(e,"keydown",((e,t)=>{this._listener.fire("_keydown:"+Yc(t),t)}))}set(e,t,n={}){const i=Kc(e);const o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((e,n)=>{t(n,(()=>{n.preventDefault();n.stopPropagation();e.stop()}));e.return=true}),{priority:o})}press(e){return!!this._listener.fire("_keydown:"+Yc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function bl(e){const t=new Map;for(const n in e){t.set(n,e[n])}return t}function kl(e){if(De(e)){return new Map(e)}else{return bl(e)}}const wl=1e4;function _l(e,t,n,i){if(Math.max(t.length,e.length)>wl){return e.slice(0,n).concat(t).concat(e.slice(n+i,e.length))}else{const o=Array.from(e);o.splice(n,i,...t);return o}}function Al(e,t){let n;function i(...o){i.cancel();n=setTimeout((()=>e(...o)),t)}i.cancel=()=>{clearTimeout(n)};return i}function vl(e){function t(e){if(e.length>=40&&e.length<=255){return"VALID"}else{return"INVALID"}}if(!e){return"INVALID"}let n="";try{n=atob(e)}catch(e){return"INVALID"}const i=n.split("-");const o=i[0];const r=i[1];if(!r){return t(e)}try{atob(r)}catch(n){try{atob(o);if(!atob(o).length){return t(e)}}catch(n){return t(e)}}if(o.length<40||o.length>255){return"INVALID"}let s="";try{atob(o);s=atob(r)}catch(e){return"INVALID"}if(s.length!==8){return"INVALID"}const a=Number(s.substring(0,4));const c=Number(s.substring(4,6))-1;const l=Number(s.substring(6,8));const d=new Date(a,c,l);if(d<V||isNaN(Number(d))){return"INVALID"}return"VALID"}function Cl(e){return!!e&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function yl(e){return!!e&&e.length==1&&/[\ud800-\udbff]/.test(e)}function xl(e){return!!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}function El(e,t){return yl(e.charAt(t-1))&&xl(e.charAt(t))}function Dl(e,t){return Cl(e.charAt(t))}const Tl=Il();function Ml(e,t){const n=String(e).matchAll(Tl);return Array.from(n).some((e=>e.index<t&&t<e.index+e[0].length))}function Il(){const e=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u];const t=/\p{Regional_Indicator}{2}/u.source;const n="(?:"+e.map((e=>e.source)).join("|")+")";const i=`${t}|${n}(?:‍${n})*`;return new RegExp(i,"ug")}class Sl extends fl{constructor(e=[]){super(e,{idProperty:"viewUid"});this.on("add",((e,t,n)=>{this._renderViewIntoCollectionParent(t,n)}));this.on("remove",((e,t)=>{if(t.element&&this._parentElement){t.element.remove()}}));this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const e of this){this._renderViewIntoCollectionParent(e)}}delegate(...e){if(!e.length||!Bl(e)){throw new N("ui-viewcollection-delegate-wrong-events",this)}return{to:t=>{for(const n of this){for(const i of e){n.delegate(i).to(t)}}this.on("add",((n,i)=>{for(const n of e){i.delegate(n).to(t)}}));this.on("remove",((n,i)=>{for(const n of e){i.stopDelegating(n,t)}}))}}}_renderViewIntoCollectionParent(e,t){if(!e.isRendered){e.render()}if(e.element&&this._parentElement){this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}remove(e){return super.remove(e)}}function Bl(e){return e.every((e=>typeof e=="string"))}var Nl=__webpack_require__(3379);var zl=__webpack_require__.n(Nl);var Pl=__webpack_require__(6150);var Ll={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Ll.insert="head";Ll.singleton=true;var Ol=zl()(Pl.Z,Ll);const Rl=Pl.Z.locals||{};class jl extends(Qa(fe())){constructor(e){super();this.element=null;this.isRendered=false;this.locale=e;this.t=e&&e.t;this._viewCollections=new fl;this._unboundChildren=this.createCollection();this._viewCollections.on("add",((t,n)=>{n.locale=e;n.t=e&&e.t}));this.decorate("render")}get bindTemplate(){if(this._bindTemplate){return this._bindTemplate}return this._bindTemplate=Vl.bind(this,this)}createCollection(e){const t=new Sl(e);this._viewCollections.add(t);return t}registerChild(e){if(!De(e)){e=[e]}for(const t of e){this._unboundChildren.add(t)}}deregisterChild(e){if(!De(e)){e=[e]}for(const t of e){this._unboundChildren.remove(t)}}setTemplate(e){this.template=new Vl(e)}extendTemplate(e){Vl.extend(this.template,e)}render(){if(this.isRendered){throw new N("ui-view-render-already-rendered",this)}if(this.template){this.element=this.template.render();this.registerChild(this.template.getViews())}this.isRendered=true}destroy(){this.stopListening();this._viewCollections.map((e=>e.destroy()));if(this.template&&this.template._revertData){this.template.revert(this.element)}}}const Fl="http://www.w3.org/1999/xhtml";class Vl extends(G()){constructor(e){super();Object.assign(this,Jl(Ql(e)));this._isRendered=false;this._revertData=null}render(){const e=this._renderNode({intoFragment:true});this._isRendered=true;return e}apply(e){this._revertData=hd();this._renderNode({node:e,intoFragment:false,isApplying:true,revertData:this._revertData});return e}revert(e){if(!this._revertData){throw new N("ui-template-revert-not-applied",[this,e])}this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children){for(const n of t.children){if(cd(n)){yield n}else if(ld(n)){yield*e(n)}}}}yield*e(this)}static bind(e,t){return{to(n,i){return new Ul({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if(n,i,o){return new Wl({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:o})}}}static extend(e,t){if(e._isRendered){throw new N("template-extend-render",[this,e])}sd(e,Jl(Ql(t)))}_renderNode(e){let t;if(e.node){t=this.tag&&this.text}else{t=this.tag?this.text:!this.text}if(t){throw new N("ui-template-wrong-syntax",this)}if(this.text){return this._renderText(e)}else{return this._renderElement(e)}}_renderElement(e){let t=e.node;if(!t){t=e.node=document.createElementNS(this.ns||Fl,this.tag)}this._renderAttributes(e);this._renderElementChildren(e);this._setUpListeners(e);return t}_renderText(e){let t=e.node;if(t){e.revertData.text=t.textContent}else{t=e.node=document.createTextNode("")}if($l(this.text)){this._bindToObservable({schema:this.text,updater:Yl(t),data:e})}else{t.textContent=this.text.join("")}return t}_renderAttributes(e){if(!this.attributes){return}const t=e.node;const n=e.revertData;for(const i in this.attributes){const o=t.getAttribute(i);const r=this.attributes[i];if(n){n.attributes[i]=o}const s=ud(r)?r[0].ns:null;if($l(r)){const a=ud(r)?r[0].value:r;if(n&&fd(i)){a.unshift(o)}this._bindToObservable({schema:a,updater:Kl(t,i,s),data:e})}else if(i=="style"&&typeof r[0]!=="string"){this._renderStyleAttribute(r[0],e)}else{if(n&&o&&fd(i)){r.unshift(o)}const e=r.map((e=>e?e.value||e:e)).reduce(((e,t)=>e.concat(t)),[]).reduce(od,"");if(!ad(e)){t.setAttributeNS(s,i,e)}}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const o=e[i];if($l(o)){this._bindToObservable({schema:[o],updater:Zl(n,i),data:t})}else{n.style[i]=o}}}_renderElementChildren(e){const t=e.node;const n=e.intoFragment?document.createDocumentFragment():t;const i=e.isApplying;let o=0;for(const r of this.children){if(dd(r)){if(!i){r.setParent(t);for(const e of r){n.appendChild(e.element)}}}else if(cd(r)){if(!i){if(!r.isRendered){r.render()}n.appendChild(r.element)}}else if(Ya(r)){n.appendChild(r)}else{if(i){const t=e.revertData;const i=hd();t.children.push(i);r._renderNode({intoFragment:false,node:n.childNodes[o++],isApplying:true,revertData:i})}else{n.appendChild(r.render())}}}if(e.intoFragment){t.appendChild(n)}}_setUpListeners(e){if(!this.eventListeners){return}for(const t in this.eventListeners){const n=this.eventListeners[t].map((n=>{const[i,o]=t.split("@");return n.activateDomEventListener(i,o,e)}));if(e.revertData){e.revertData.bindings.push(n)}}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;Gl(e,t,n);const o=e.filter((e=>!ad(e))).filter((e=>e.observable)).map((i=>i.activateAttributeListener(e,t,n)));if(i){i.bindings.push(o)}}_revertTemplateFromNode(e,t){for(const e of t.bindings){for(const t of e){t()}}if(t.text){e.textContent=t.text;return}const n=e;for(const e in t.attributes){const i=t.attributes[e];if(i===null){n.removeAttribute(e)}else{n.setAttribute(e,i)}}for(let e=0;e<t.children.length;++e){this._revertTemplateFromNode(n.childNodes[e],t.children[e])}}}class Hl{constructor(e){this.attribute=e.attribute;this.observable=e.observable;this.emitter=e.emitter;this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>Gl(e,t,n);this.emitter.listenTo(this.observable,`change:${this.attribute}`,i);return()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class Ul extends Hl{constructor(e){super(e);this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(e,n)=>{if(!t||n.target.matches(t)){if(typeof this.eventNameOrFunction=="function"){this.eventNameOrFunction(n)}else{this.observable.fire(this.eventNameOrFunction,n)}}};this.emitter.listenTo(n.node,e,i);return()=>{this.emitter.stopListening(n.node,e,i)}}}class Wl extends Hl{constructor(e){super(e);this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return ad(t)?false:this.valueIfTrue||true}}function $l(e){if(!e){return false}if(e.value){e=e.value}if(Array.isArray(e)){return e.some($l)}else if(e instanceof Hl){return true}return false}function ql(e,t){return e.map((e=>{if(e instanceof Hl){return e.getValue(t)}return e}))}function Gl(e,t,{node:n}){const i=ql(e,n);let o;if(e.length==1&&e[0]instanceof Wl){o=i[0]}else{o=i.reduce(od,"")}if(ad(o)){t.remove()}else{t.set(o)}}function Yl(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function Kl(e,t,n){return{set(i){e.setAttributeNS(n,t,i)},remove(){e.removeAttributeNS(n,t)}}}function Zl(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function Ql(e){const t=Ha(e,(e=>{if(e&&(e instanceof Hl||ld(e)||cd(e)||dd(e))){return e}}));return t}function Jl(e){if(typeof e=="string"){e=td(e)}else if(e.text){nd(e)}if(e.on){e.eventListeners=ed(e.on);delete e.on}if(!e.text){if(e.attributes){Xl(e.attributes)}const t=[];if(e.children){if(dd(e.children)){t.push(e.children)}else{for(const n of e.children){if(ld(n)||cd(n)||Ya(n)){t.push(n)}else{t.push(new Vl(n))}}}}e.children=t}return e}function Xl(e){for(const t in e){if(e[t].value){e[t].value=il(e[t].value)}id(e,t)}}function ed(e){for(const t in e){id(e,t)}return e}function td(e){return{text:[e]}}function nd(e){e.text=il(e.text)}function id(e,t){e[t]=il(e[t])}function od(e,t){if(ad(t)){return e}else if(ad(e)){return t}else{return`${e} ${t}`}}function rd(e,t){for(const n in t){if(e[n]){e[n].push(...t[n])}else{e[n]=t[n]}}}function sd(e,t){if(t.attributes){if(!e.attributes){e.attributes={}}rd(e.attributes,t.attributes)}if(t.eventListeners){if(!e.eventListeners){e.eventListeners={}}rd(e.eventListeners,t.eventListeners)}if(t.text){e.text.push(...t.text)}if(t.children&&t.children.length){if(e.children.length!=t.children.length){throw new N("ui-template-extend-children-mismatch",e)}let n=0;for(const i of t.children){sd(e.children[n++],i)}}}function ad(e){return!e&&e!==0}function cd(e){return e instanceof jl}function ld(e){return e instanceof Vl}function dd(e){return e instanceof Sl}function ud(e){return se(e[0])&&e[0].ns}function hd(){return{children:[],bindings:[],attributes:{}}}function fd(e){return e=="class"||e=="style"}class gd extends Sl{constructor(e,t=[]){super(t);this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Vl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");if(!e){e=it(document,"div",{class:"ck-body-wrapper"});document.body.appendChild(e)}e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy();if(this._bodyCollectionContainer){this._bodyCollectionContainer.remove()}const e=document.querySelector(".ck-body-wrapper");if(e&&e.childElementCount==0){e.remove()}}}var md=__webpack_require__(1174);var pd={injectType:"singletonStyleTag",attributes:{"data-cke":true}};pd.insert="head";pd.singleton=true;var bd=zl()(md.Z,pd);const kd=md.Z.locals||{};class wd extends jl{constructor(){super();const e=this.bindTemplate;this.set("content","");this.set("viewBox","0 0 20 20");this.set("fillColor","");this.set("isColorInherited",true);this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render();this._updateXMLContent();this._colorFillPaths();this.on("change:content",(()=>{this._updateXMLContent();this._colorFillPaths()}));this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml");const t=e.querySelector("svg");const n=t.getAttribute("viewBox");if(n){this.viewBox=n}for(const{name:e,value:n}of Array.from(t.attributes)){if(wd.presentationalAttributeNames.includes(e)){this.element.setAttribute(e,n)}}while(this.element.firstChild){this.element.removeChild(this.element.firstChild)}while(t.childNodes.length>0){this.element.appendChild(t.childNodes[0])}}}_colorFillPaths(){if(this.fillColor){this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}}}wd.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var _d=__webpack_require__(4499);var Ad={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Ad.insert="head";Ad.singleton=true;var vd=zl()(_d.Z,Ad);const Cd=_d.Z.locals||{};class yd extends jl{constructor(e){super(e);this._focusDelayed=null;const t=this.bindTemplate;const n=D();this.set("ariaChecked",undefined);this.set("ariaLabel",undefined);this.set("ariaLabelledBy",`ck-editor__aria-label_${n}`);this.set("class",undefined);this.set("labelStyle",undefined);this.set("icon",undefined);this.set("isEnabled",true);this.set("isOn",false);this.set("isVisible",true);this.set("isToggleable",false);this.set("keystroke",undefined);this.set("label",undefined);this.set("role",undefined);this.set("tabindex",-1);this.set("tooltip",false);this.set("tooltipPosition","s");this.set("type","button");this.set("withText",false);this.set("withKeystroke",false);this.children=this.createCollection();this.labelView=this._createLabelView();this.iconView=new wd;this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}});this.keystrokeView=this._createKeystrokeView();this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",(e=>!e)),t.if("isVisible","ck-hidden",(e=>!e)),t.to("isOn",(e=>e?"ck-on":"ck-off")),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],role:t.to("role"),type:t.to("type",(e=>e?e:"button")),tabindex:t.to("tabindex"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy"),"aria-disabled":t.if("isEnabled",true,(e=>!e)),"aria-checked":t.to("isOn"),"aria-pressed":t.to("isOn",(e=>this.isToggleable?String(!!e):false)),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to((e=>{if(this.isEnabled){this.fire("execute")}else{e.preventDefault()}}))}};if(a.isSafari){if(!this._focusDelayed){this._focusDelayed=Al((()=>this.focus()),0)}i.on.mousedown=t.to((()=>{this._focusDelayed()}));i.on.mouseup=t.to((()=>{this._focusDelayed.cancel()}))}this.setTemplate(i)}render(){super.render();if(this.icon){this.iconView.bind("content").to(this,"icon");this.children.add(this.iconView)}this.children.add(this.labelView);if(this.withKeystroke&&this.keystroke){this.children.add(this.keystrokeView)}}focus(){this.element.focus()}destroy(){if(this._focusDelayed){this._focusDelayed.cancel()}super.destroy()}_createLabelView(){const e=new jl;const t=this.bindTemplate;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:t.to("label")}]});return e}_createKeystrokeView(){const e=new jl;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>Zc(e)))}]});return e}_getTooltipString(e,t,n){if(e){if(typeof e=="string"){return e}else{if(n){n=Zc(n)}if(e instanceof Function){return e(t,n)}else{return`${t}${n?` (${n})`:""}`}}}return""}}var xd=__webpack_require__(9681);var Ed={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Ed.insert="head";Ed.singleton=true;var Dd=zl()(xd.Z,Ed);const Td=xd.Z.locals||{};class Md extends yd{constructor(e){super(e);this.isToggleable=true;this.toggleSwitchView=this._createToggleView();this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render();this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new jl;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]});return e}}class Id extends(null&&ButtonView){constructor(e){super(e);const t=this.bindTemplate;this.set("color",undefined);this.set("hasBorder",false);this.icon=checkIcon;this.extendTemplate({attributes:{style:{backgroundColor:t.to("color")},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render();this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Sd=__webpack_require__(4923);var Bd={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Bd.insert="head";Bd.singleton=true;var Nd=zl()(Sd.Z,Bd);const zd=Sd.Z.locals||{};class Pd extends(null&&View){constructor(e,t){super(e);const n=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t&&t.columns?t.columns:5;const i={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",undefined);this.items=this.createCollection();this.focusTracker=new FocusTracker;this.keystrokes=new KeystrokeHandler;this.items.on("add",((e,t)=>{t.isOn=t.color===this.selectedColor}));n.forEach((e=>{const t=new ColorTileView;t.set({color:e.color,label:e.label,tooltip:true,hasBorder:e.options.hasBorder});t.on("execute",(()=>{this.fire("execute",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})}));this.items.add(t)}));this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}});this.on("change:selectedColor",((e,t,n)=>{for(const e of this.items){e.isOn=e.color===n}}))}focus(){if(this.items.length){this.items.first.focus()}}focusLast(){if(this.items.length){this.items.last.focus()}}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)}));this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)}));this.keystrokes.listenTo(this.element);addKeyboardHandlingForGrid({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}}var Ld=__webpack_require__(8874);const Od=null&&jd;var Rd={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function jd(e){var t,n=[],i=1,o;if(typeof e==="string"){if(names[e]){n=names[e].slice();o="rgb"}else if(e==="transparent"){i=0;o="rgb";n=[0,0,0]}else if(/^#[A-Fa-f0-9]+$/.test(e)){var r=e.slice(1);var s=r.length;var a=s<=4;i=1;if(a){n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)];if(s===4){i=parseInt(r[3]+r[3],16)/255}}else{n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)];if(s===8){i=parseInt(r[6]+r[7],16)/255}}if(!n[0])n[0]=0;if(!n[1])n[1]=0;if(!n[2])n[2]=0;o="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var c=t[1];var l=c==="rgb";var r=c.replace(/a$/,"");o=r;var s=r==="cmyk"?4:r==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(e,t){if(/%$/.test(e)){if(t===s)return parseFloat(e)/100;if(r==="rgb")return parseFloat(e)*255/100;return parseFloat(e)}else if(r[t]==="h"){if(/deg$/.test(e)){return parseFloat(e)}else if(Rd[e]!==undefined){return Rd[e]}}return parseFloat(e)}));if(c===r)n.push(1);i=l?1:n[s]===undefined?1:n[s];n=n.slice(0,s)}else if(e.length>10&&/[0-9](?:\s|\/)/.test(e)){n=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)}));o=e.match(/([a-z])/gi).join("").toLowerCase()}}else if(!isNaN(e)){o="rgb";n=[e>>>16,(e&65280)>>>8,e&255]}else if(Array.isArray(e)||e.length){n=[e[0],e[1],e[2]];o="rgb";i=e.length===4?e[3]:1}else if(e instanceof Object){if(e.r!=null||e.red!=null||e.R!=null){o="rgb";n=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]}else{o="hsl";n=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]}i=e.a||e.alpha||e.opacity||1;if(e.opacity!=null)i/=100}return{space:o,values:n,alpha:i}}var Fd=__webpack_require__(2085);function Vd(e,t){if(!e){return""}const n=Wd(e);if(!n){return""}if(n.space===t){return e}if(!$d(n)){return""}const i=convert[n.space];const o=i[t];if(!o){return""}const r=o(n.space==="hex"?n.hexValue:n.values);return Ud(r,t)}function Hd(e){if(!e){return""}const t=Wd(e);if(!t){return"#000"}if(t.space==="hex"){return t.hexValue}return Vd(e,"hex")}function Ud(e,t){switch(t){case"hex":return`#${e}`;case"rgb":return`rgb( ${e[0]}, ${e[1]}, ${e[2]} )`;case"hsl":return`hsl( ${e[0]}, ${e[1]}%, ${e[2]}% )`;case"hwb":return`hwb( ${e[0]}, ${e[1]}, ${e[2]} )`;case"lab":return`lab( ${e[0]}% ${e[1]} ${e[2]} )`;case"lch":return`lch( ${e[0]}% ${e[1]} ${e[2]} )`;default:return""}}function Wd(e){if(e.startsWith("#")){const t=parse(e);return{space:"hex",values:t.values,hexValue:e,alpha:t.alpha}}const t=parse(e);if(!t.space){return null}return t}function $d(e){return Object.keys(convert).includes(e.space)}var qd=__webpack_require__(2751);var Gd={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Gd.insert="head";Gd.singleton=true;var Yd=zl()(qd.Z,Gd);const Kd=qd.Z.locals||{};class Zd extends jl{constructor(e){super(e);this.set("text",undefined);this.set("for",undefined);this.id=`ck-editor__label_${D()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var Qd=__webpack_require__(8111);var Jd={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Jd.insert="head";Jd.singleton=true;var Xd=zl()(Qd.Z,Jd);const eu=Qd.Z.locals||{};class tu extends jl{constructor(e,t){super(e);const n=`ck-labeled-field-view-${D()}`;const i=`ck-labeled-field-view-status-${D()}`;this.fieldView=t(this,n,i);this.set("label",undefined);this.set("isEnabled",true);this.set("isEmpty",true);this.set("isFocused",false);this.set("errorText",null);this.set("infoText",null);this.set("class",undefined);this.set("placeholder",undefined);this.labelView=this._createLabelView(n);this.statusView=this._createStatusView(i);this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]);this.bind("_statusText").to(this,"errorText",this,"infoText",((e,t)=>e||t));const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",(e=>!e)),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Zd(this.locale);t.for=e;t.bind("text").to(this,"label");return t}_createStatusView(e){const t=new jl(this.locale);const n=this.bindTemplate;t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(e=>!e))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]});return t}focus(){this.fieldView.focus()}}var nu=__webpack_require__(6985);var iu={injectType:"singletonStyleTag",attributes:{"data-cke":true}};iu.insert="head";iu.singleton=true;var ou=zl()(nu.Z,iu);const ru=nu.Z.locals||{};class su extends jl{constructor(e){super(e);this.set("value",undefined);this.set("id",undefined);this.set("placeholder",undefined);this.set("isReadOnly",false);this.set("hasError",false);this.set("ariaDescribedById",undefined);this.focusTracker=new ml;this.bind("isFocused").to(this.focusTracker);this.set("isEmpty",true);this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",true),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to(((...e)=>{this.fire("input",...e);this._updateIsEmpty()})),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render();this.focusTracker.add(this.element);this._setDomElementValue(this.value);this._updateIsEmpty();this.on("change:value",((e,t,n)=>{this._setDomElementValue(n);this._updateIsEmpty()}))}destroy(){super.destroy();this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=au(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function au(e){return!e.value}class cu extends su{constructor(e){super(e);this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class lu extends(null&&InputView){constructor(e,{min:t,max:n,step:i}={}){super(e);const o=this.bindTemplate;this.set("min",t);this.set("max",n);this.set("step",i);this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:o.to("min"),max:o.to("max"),step:o.to("step")}})}}class du extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",false);this.set("position","se");this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",(e=>`ck-dropdown__panel_${e}`)),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to((e=>{if(e.target.tagName.toLocaleLowerCase()==="input"){return}e.preventDefault()}))}})}focus(){if(this.children.length){const e=this.children.first;if(typeof e.focus==="function"){e.focus()}else{z("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}}focusLast(){if(this.children.length){const e=this.children.last;if(typeof e.focusLast==="function"){e.focusLast()}else{e.focus()}}}}var uu=__webpack_require__(3488);var hu={injectType:"singletonStyleTag",attributes:{"data-cke":true}};hu.insert="head";hu.singleton=true;var fu=zl()(uu.Z,hu);const gu=uu.Z.locals||{};class mu extends jl{constructor(e,t,n){super(e);const i=this.bindTemplate;this.buttonView=t;this.panelView=n;this.set("isOpen",false);this.set("isEnabled",true);this.set("class",undefined);this.set("id",undefined);this.set("panelPosition","auto");this.keystrokes=new pl;this.focusTracker=new ml;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(e=>!e))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,n]});t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render();this.focusTracker.add(this.buttonView.element);this.focusTracker.add(this.panelView.element);this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen}));this.panelView.bind("isVisible").to(this,"isOpen");this.on("change:isOpen",((e,t,n)=>{if(!n){return}if(this.panelPosition==="auto"){this.panelView.position=mu._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:true,positions:this._panelPositions}).name}else{this.panelView.position=this.panelPosition}}));this.keystrokes.listenTo(this.element);const e=(e,t)=>{if(this.isOpen){this.isOpen=false;t()}};this.keystrokes.set("arrowdown",((e,t)=>{if(this.buttonView.isEnabled&&!this.isOpen){this.isOpen=true;t()}}));this.keystrokes.set("arrowright",((e,t)=>{if(this.isOpen){t()}}));this.keystrokes.set("arrowleft",e);this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:i,northEast:o,northWest:r,southMiddleEast:s,southMiddleWest:a,northMiddleEast:c,northMiddleWest:l}=mu.defaultPanelPositions;if(this.locale.uiLanguageDirection!=="rtl"){return[n,i,s,a,e,o,r,c,l,t]}else{return[i,n,a,s,e,r,o,l,c,t]}}}mu.defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})};mu._getOptimalPosition=xc;const pu='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class bu extends yd{constructor(e){super(e);this.arrowView=this._createArrowView();this.extendTemplate({attributes:{"aria-haspopup":true,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}});this.delegate("execute").to(this,"open")}render(){super.render();this.children.add(this.arrowView)}_createArrowView(){const e=new wd;e.content=pu;e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}});return e}}class ku{constructor(e){this.focusables=e.focusables;this.focusTracker=e.focusTracker;this.keystrokeHandler=e.keystrokeHandler;this.actions=e.actions;if(e.actions&&e.keystrokeHandler){for(const t in e.actions){let n=e.actions[t];if(typeof n=="string"){n=[n]}for(const i of n){e.keystrokeHandler.set(i,((e,n)=>{this[t]();n()}))}}}}get first(){return this.focusables.find(wu)||null}get last(){return this.focusables.filter(wu).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;if(this.focusTracker.focusedElement===null){return null}this.focusables.find(((t,n)=>{const i=t.element===this.focusTracker.focusedElement;if(i){e=n}return i}));return e}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){if(e){e.focus()}}_getFocusableItem(e){const t=this.current;const n=this.focusables.length;if(!n){return null}if(t===null){return this[e===1?"first":"last"]}let i=(t+n+e)%n;do{const t=this.focusables.get(i);if(wu(t)){return t}i=(i+n+e)%n}while(i!==t);return null}}function wu(e){return!!(e.focus&&Cc(e.element))}class _u extends jl{constructor(e){super(e);this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Au extends jl{constructor(e){super(e);this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function vu(e){return e.bindTemplate.to((t=>{if(t.target===e.element){t.preventDefault()}}))}function Cu(e){if(Array.isArray(e)){return{items:e,removeItems:[]}}if(!e){return{items:[],removeItems:[]}}return Object.assign({items:[],removeItems:[]},e)}class yu extends(fe()){constructor(e){super();this._disableStack=new Set;this.editor=e;this.set("isEnabled",true)}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on("set:isEnabled",xu,{priority:"highest"});this.isEnabled=false}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off("set:isEnabled",xu);this.isEnabled=true}}destroy(){this.stopListening()}static get isContextPlugin(){return false}}function xu(e){e.return=false;e.stop()}class Eu extends(fe()){constructor(e){super();this.editor=e;this.set("value",undefined);this.set("isEnabled",false);this._affectsData=true;this._isEnabledBasedOnSelection=true;this._disableStack=new Set;this.decorate("execute");this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()}));this.listenTo(e,"change:isReadOnly",(()=>{this.refresh()}));this.on("set:isEnabled",(t=>{if(!this.affectsData){return}if(e.isReadOnly||this._isEnabledBasedOnSelection&&!e.model.canEditAt(e.model.document.selection)){t.return=false;t.stop()}}),{priority:"highest"});this.on("execute",(e=>{if(!this.isEnabled){e.stop()}}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=true}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on("set:isEnabled",Du,{priority:"highest"});this.isEnabled=false}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off("set:isEnabled",Du);this.refresh()}}execute(...e){return undefined}destroy(){this.stopListening()}}function Du(e){e.return=false;e.stop()}class Tu extends Eu{constructor(){super(...arguments);this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){S(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"});e.on("change:isEnabled",(()=>this._checkEnabled()));this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find((({command:e})=>e.isEnabled));return e&&e.command}}class Mu extends(G()){constructor(e,t=[],n=[]){super();this._plugins=new Map;this._context=e;this._availablePlugins=new Map;for(const e of t){if(e.pluginName){this._availablePlugins.set(e.pluginName,e)}}this._contextPlugins=new Map;for(const[e,t]of n){this._contextPlugins.set(e,t);this._contextPlugins.set(t,e);if(e.pluginName){this._availablePlugins.set(e.pluginName,e)}}}*[Symbol.iterator](){for(const e of this._plugins){if(typeof e[0]=="function"){yield e}}}get(e){const t=this._plugins.get(e);if(!t){let t=e;if(typeof e=="function"){t=e.pluginName||e.name}throw new N("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const i=this;const o=this._context;h(e);g(e);const r=e.filter((e=>!d(e,t)));const s=[...f(r)];_(s,n);const a=k(s);return w(a,"init").then((()=>w(a,"afterInit"))).then((()=>a));function c(e){return typeof e==="function"}function l(e){return c(e)&&!!e.isContextPlugin}function d(e,t){return t.some((t=>{if(t===e){return true}if(u(e)===t){return true}if(u(t)===e){return true}return false}))}function u(e){return c(e)?e.pluginName||e.name:e}function h(e,t=new Set){e.forEach((e=>{if(!c(e)){return}if(t.has(e)){return}t.add(e);if(e.pluginName&&!i._availablePlugins.has(e.pluginName)){i._availablePlugins.set(e.pluginName,e)}if(e.requires){h(e.requires,t)}}))}function f(e,t=new Set){return e.map((e=>c(e)?e:i._availablePlugins.get(e))).reduce(((e,n)=>{if(t.has(n)){return e}t.add(n);if(n.requires){g(n.requires,n);f(n.requires,t).forEach((t=>e.add(t)))}return e.add(n)}),new Set)}function g(e,t=null){e.map((e=>c(e)?e:i._availablePlugins.get(e)||e)).forEach((e=>{m(e,t);p(e,t);b(e,t)}))}function m(e,t){if(c(e)){return}if(t){throw new N("plugincollection-soft-required",o,{missingPlugin:e,requiredBy:u(t)})}throw new N("plugincollection-plugin-not-found",o,{plugin:e})}function p(e,t){if(!l(t)){return}if(l(e)){return}throw new N("plugincollection-context-required",o,{plugin:u(e),requiredBy:u(t)})}function b(e,n){if(!n){return}if(!d(e,t)){return}throw new N("plugincollection-required",o,{plugin:u(e),requiredBy:u(n)})}function k(e){return e.map((e=>{let t=i._contextPlugins.get(e);t=t||new e(o);i._add(e,t);return t}))}function w(e,t){return e.reduce(((e,n)=>{if(!n[t]){return e}if(i._contextPlugins.has(n)){return e}return e.then(n[t].bind(n))}),Promise.resolve())}function _(e,t){for(const n of t){if(typeof n!="function"){throw new N("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n})}const t=n.pluginName;if(!t){throw new N("plugincollection-replace-plugin-missing-name",null,{pluginItem:n})}if(n.requires&&n.requires.length){throw new N("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t})}const o=i._availablePlugins.get(t);if(!o){throw new N("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t})}const r=e.indexOf(o);if(r===-1){if(i._contextPlugins.has(o)){return}throw new N("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(o.requires&&o.requires.length){throw new N("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t})}e.splice(r,1,n);i._availablePlugins.set(t,n)}}}destroy(){const e=[];for(const[,t]of this){if(typeof t.destroy=="function"&&!this._contextPlugins.has(t)){e.push(t.destroy())}}return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(!n){return}if(this._plugins.has(n)){throw new N("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e})}this._plugins.set(n,t)}}class Iu{constructor(e){this._contextOwner=null;this.config=new $a(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t);this.plugins=new Mu(this,t);const n=this.config.get("language")||{};this.locale=new ul({uiLanguage:typeof n==="string"?n:n.ui,contentLanguage:this.config.get("language.content")});this.t=this.locale.t;this.editors=new fl}initPlugins(){const e=this.config.get("plugins")||[];const t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function"){throw new N("context-initplugins-constructor-only",null,{Plugin:n})}if(n.isContextPlugin!==true){throw new N("context-initplugins-invalid-plugin",null,{Plugin:n})}}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,(e=>e.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(e,t){if(this._contextOwner){throw new N("context-addeditor-private-context")}this.editors.add(e);if(t){this._contextOwner=e}}_removeEditor(e){if(this.editors.has(e)){this.editors.remove(e)}if(this._contextOwner===e){return this.destroy()}return Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names()){if(!["plugins","removePlugins","extraPlugins"].includes(t)){e[t]=this.config.get(t)}}return e}static create(e){return new Promise((t=>{const n=new this(e);t(n.initPlugins().then((()=>n)))}))}}class Su extends(fe()){constructor(e){super();this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return true}}var Bu=__webpack_require__(8894);var Nu={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Nu.insert="head";Nu.singleton=true;var zu=zl()(Bu.Z,Nu);const Pu=Bu.Z.locals||{};const Lu=new WeakMap;function Ou({view:e,element:t,text:n,isDirectHost:i=true,keepOnFocus:o=false}){const r=e.document;if(!Lu.has(r)){Lu.set(r,new Map);r.registerPostFixer((e=>Hu(r,e)));r.on("change:isComposing",(()=>{e.change((e=>Hu(r,e)))}),{priority:"high"})}Lu.get(r).set(t,{text:n,isDirectHost:i,keepOnFocus:o,hostElement:i?t:null});e.change((e=>Hu(r,e)))}function Ru(e,t){const n=t.document;if(!Lu.has(n)){return}e.change((e=>{const i=Lu.get(n);const o=i.get(t);e.removeAttribute("data-placeholder",o.hostElement);Fu(e,o.hostElement);i.delete(t)}))}function ju(e,t){if(!t.hasClass("ck-placeholder")){e.addClass("ck-placeholder",t);return true}return false}function Fu(e,t){if(t.hasClass("ck-placeholder")){e.removeClass("ck-placeholder",t);return true}return false}function Vu(e,t){if(!e.isAttached()){return false}const n=Array.from(e.getChildren()).some((e=>!e.is("uiElement")));if(n){return false}const i=e.document;const o=i.selection;const r=o.anchor;if(i.isComposing&&r&&r.parent===e){return false}if(t){return true}if(!i.isFocused){return true}return!!r&&r.parent!==e}function Hu(e,t){const n=Lu.get(e);const i=[];let o=false;for(const[e,r]of n){if(r.isDirectHost){i.push(e);if(Uu(t,e,r)){o=true}}}for(const[e,r]of n){if(r.isDirectHost){continue}const n=Wu(e);if(!n){continue}if(i.includes(n)){continue}r.hostElement=n;if(Uu(t,e,r)){o=true}}return o}function Uu(e,t,n){const{text:i,isDirectHost:o,hostElement:r}=n;let s=false;if(r.getAttribute("data-placeholder")!==i){e.setAttribute("data-placeholder",i,r);s=true}const a=o||t.childCount==1;if(a&&Vu(r,n.keepOnFocus)){if(ju(e,r)){s=true}}else if(Fu(e,r)){s=true}return s}function Wu(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement")){return t}}return null}class $u{is(){throw new Error("is() method is abstract")}}var qu=4;function Gu(e){return Ra(e,qu)}const Yu=Gu;class Ku extends(G($u)){constructor(e){super();this.document=e;this.parent=null}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))==-1){throw new N("view-node-not-found-in-parent",this)}return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent}return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.index);t=t.parent}return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?"push":"unshift"](n);n=n.parent}return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t);const i=e.getAncestors(t);let o=0;while(n[o]==i[o]&&n[o]){o++}return o===0?null:n[o-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const n=e.getPath();const i=Ee(t,n);switch(i){case"prefix":return true;case"extension":return false;default:return t[i]<n[i]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t);if(this.parent){this.parent._fireChange(e,t)}}toJSON(){const e=Yu(this);delete e.parent;return e}}Ku.prototype.is=function(e){return e==="node"||e==="view:node"};class Zu extends Ku{constructor(e,t){super(e);this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this);this._textData=e}isSimilar(e){if(!(e instanceof Zu)){return false}return this===e||this.data===e.data}_clone(){return new Zu(this.document,this.data)}}Zu.prototype.is=function(e){return e==="$text"||e==="view:$text"||e==="text"||e==="view:text"||e==="node"||e==="view:node"};class Qu extends $u{constructor(e,t,n){super();this.textNode=e;if(t<0||t>e.data.length){throw new N("view-textproxy-wrong-offsetintext",this)}if(n<0||t+n>e.data.length){throw new N("view-textproxy-wrong-length",this)}this.data=e.data.substring(t,t+n);this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;while(n!==null){t[e.parentFirst?"push":"unshift"](n);n=n.parent}return t}}Qu.prototype.is=function(e){return e==="$textProxy"||e==="view:$textProxy"||e==="textProxy"||e==="view:textProxy"};class Ju{constructor(...e){this._patterns=[];this.add(...e)}add(...e){for(let t of e){if(typeof t=="string"||t instanceof RegExp){t={name:t}}this._patterns.push(t)}}match(...e){for(const t of e){for(const e of this._patterns){const n=Xu(t,e);if(n){return{element:t,pattern:e,match:n}}}}return null}matchAll(...e){const t=[];for(const n of e){for(const e of this._patterns){const i=Xu(n,e);if(i){t.push({element:n,pattern:e,match:i})}}}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1){return null}const e=this._patterns[0];const t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function Xu(e,t){if(typeof t=="function"){return t(e)}const n={};if(t.name){n.name=eh(t.name,e.name);if(!n.name){return null}}if(t.attributes){n.attributes=rh(t.attributes,e);if(!n.attributes){return null}}if(t.classes){n.classes=sh(t.classes,e);if(!n.classes){return null}}if(t.styles){n.styles=ah(t.styles,e);if(!n.styles){return null}}return n}function eh(e,t){if(e instanceof RegExp){return!!t.match(e)}return e===t}function th(e,t,n){const i=nh(e);const o=Array.from(t);const r=[];i.forEach((([e,t])=>{o.forEach((i=>{if(ih(e,i)&&oh(t,i,n)){r.push(i)}}))}));if(!i.length||r.length<i.length){return undefined}return r}function nh(e){if(Array.isArray(e)){return e.map((e=>{if(mt(e)){if(e.key===undefined||e.value===undefined){z("matcher-pattern-missing-key-or-value",e)}return[e.key,e.value]}return[e,true]}))}if(mt(e)){return Object.entries(e)}return[[e,true]]}function ih(e,t){return e===true||e===t||e instanceof RegExp&&t.match(e)}function oh(e,t,n){if(e===true){return true}const i=n(t);return e===i||e instanceof RegExp&&!!String(i).match(e)}function rh(e,t){const n=new Set(t.getAttributeKeys());if(mt(e)){if(e.style!==undefined){z("matcher-pattern-deprecated-attributes-style-key",e)}if(e.class!==undefined){z("matcher-pattern-deprecated-attributes-class-key",e)}}else{n.delete("style");n.delete("class")}return th(e,n,(e=>t.getAttribute(e)))}function sh(e,t){return th(e,t.getClassNames(),(()=>{}))}function ah(e,t){return th(e,t.getStyleNames(true),(e=>t.getStyle(e)))}var ch="[object Symbol]";function lh(e){return typeof e=="symbol"||Xe(e)&&Ke(e)==ch}const dh=lh;var uh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hh=/^\w*$/;function fh(e,t){if(Qe(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||dh(e)){return true}return hh.test(e)||!uh.test(e)||t!=null&&e in Object(t)}const gh=fh;var mh="Expected a function";function ph(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError(mh)}var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o)){return r.get(o)}var s=e.apply(this,i);n.cache=r.set(o,s)||r;return s};n.cache=new(ph.Cache||ei);return n}ph.Cache=ei;const bh=ph;var kh=500;function wh(e){var t=bh(e,(function(e){if(n.size===kh){n.clear()}return e}));var n=t.cache;return t}const _h=wh;var Ah=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var vh=/\\(\\)?/g;var Ch=_h((function(e){var t=[];if(e.charCodeAt(0)===46){t.push("")}e.replace(Ah,(function(e,n,i,o){t.push(i?o.replace(vh,"$1"):n||e)}));return t}));const yh=Ch;function xh(e,t){var n=-1,i=e==null?0:e.length,o=Array(i);while(++n<i){o[n]=t(e[n],n,e)}return o}const Eh=xh;var Dh=1/0;var Th=ze?ze.prototype:undefined,Mh=Th?Th.toString:undefined;function Ih(e){if(typeof e=="string"){return e}if(Qe(e)){return Eh(e,Ih)+""}if(dh(e)){return Mh?Mh.call(e):""}var t=e+"";return t=="0"&&1/e==-Dh?"-0":t}const Sh=Ih;function Bh(e){return e==null?"":Sh(e)}const Nh=Bh;function zh(e,t){if(Qe(e)){return e}return gh(e,t)?[e]:yh(Nh(e))}const Ph=zh;function Lh(e){var t=e==null?0:e.length;return t?e[t-1]:undefined}const Oh=Lh;var Rh=1/0;function jh(e){if(typeof e=="string"||dh(e)){return e}var t=e+"";return t=="0"&&1/e==-Rh?"-0":t}const Fh=jh;function Vh(e,t){t=Ph(t,e);var n=0,i=t.length;while(e!=null&&n<i){e=e[Fh(t[n++])]}return n&&n==i?e:undefined}const Hh=Vh;function Uh(e,t,n){var i=-1,o=e.length;if(t<0){t=-t>o?0:o+t}n=n>o?o:n;if(n<0){n+=o}o=t>n?0:n-t>>>0;t>>>=0;var r=Array(o);while(++i<o){r[i]=e[i+t]}return r}const Wh=Uh;function $h(e,t){return t.length<2?e:Hh(e,Wh(t,0,-1))}const qh=$h;function Gh(e,t){t=Ph(t,e);e=qh(e,t);return e==null||delete e[Fh(Oh(t))]}const Yh=Gh;function Kh(e,t){return e==null?true:Yh(e,t)}const Zh=Kh;function Qh(e,t,n){var i=e==null?undefined:Hh(e,t);return i===undefined?n:i}const Jh=Qh;function Xh(e,t,n){if(n!==undefined&&!wt(e[t],n)||n===undefined&&!(t in e)){ui(e,t,n)}}const ef=Xh;function tf(e){return function(t,n,i){var o=-1,r=Object(t),s=i(t),a=s.length;while(a--){var c=s[e?a:++o];if(n(r[c],c,r)===false){break}}return t}}const nf=tf;var of=nf();const rf=of;function sf(e){return Xe(e)&&Uo(e)}const af=sf;function cf(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}const lf=cf;function df(e){return bi(e,tr(e))}const uf=df;function hf(e,t,n,i,o,r,s){var a=lf(e,n),c=lf(t,n),l=s.get(c);if(l){ef(e,n,l);return}var d=r?r(a,c,n+"",e,t,s):undefined;var u=d===undefined;if(u){var h=Qe(c),f=!h&&Li(c),g=!h&&!f&&To(c);d=c;if(h||f||g){if(Qe(a)){d=a}else if(af(a)){d=hr(a)}else if(f){u=false;d=dr(c,true)}else if(g){u=false;d=vs(c,true)}else{d=[]}}else if(mt(c)||Di(c)){d=a;if(Di(a)){d=uf(a)}else if(!se(a)||Gt(a)){d=Ys(c)}}else{u=false}}if(u){s.set(c,d);o(d,c,i,r,s);s["delete"](c)}ef(e,n,d)}const ff=hf;function gf(e,t,n,i,o){if(e===t){return}rf(t,(function(r,s){o||(o=new ri);if(se(r)){ff(e,t,s,n,gf,i,o)}else{var a=i?i(lf(e,s),r,s+"",e,t,o):undefined;if(a===undefined){a=r}ef(e,s,a)}}),tr)}const mf=gf;function pf(e){return e}const bf=pf;function kf(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}const wf=kf;var _f=Math.max;function Af(e,t,n){t=_f(t===undefined?e.length-1:t,0);return function(){var i=arguments,o=-1,r=_f(i.length-t,0),s=Array(r);while(++o<r){s[o]=i[t+o]}o=-1;var a=Array(t+1);while(++o<t){a[o]=i[o]}a[t]=n(s);return wf(e,this,a)}}const vf=Af;function Cf(e){return function(){return e}}const yf=Cf;var xf=!li?bf:function(e,t){return li(e,"toString",{configurable:true,enumerable:false,value:yf(t),writable:true})};const Ef=xf;var Df=800,Tf=16;var Mf=Date.now;function If(e){var t=0,n=0;return function(){var i=Mf(),o=Tf-(i-n);n=i;if(o>0){if(++t>=Df){return arguments[0]}}else{t=0}return e.apply(undefined,arguments)}}const Sf=If;var Bf=Sf(Ef);const Nf=Bf;function zf(e,t){return Nf(vf(e,t,bf),e+"")}const Pf=zf;function Lf(e,t,n){if(!se(n)){return false}var i=typeof t;if(i=="number"?Uo(n)&&Fi(t,n.length):i=="string"&&t in n){return wt(n[t],e)}return false}const Of=Lf;function Rf(e){return Pf((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:undefined,s=o>2?n[2]:undefined;r=e.length>3&&typeof r=="function"?(o--,r):undefined;if(s&&Of(n[0],n[1],s)){r=o<3?undefined:r;o=1}t=Object(t);while(++i<o){var a=n[i];if(a){e(t,a,i,r)}}return t}))}const jf=Rf;var Ff=jf((function(e,t,n){mf(e,t,n)}));const Vf=Ff;function Hf(e,t,n,i){if(!se(e)){return e}t=Ph(t,e);var o=-1,r=t.length,s=r-1,a=e;while(a!=null&&++o<r){var c=Fh(t[o]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype"){return e}if(o!=s){var d=a[c];l=i?i(d,c,a):undefined;if(l===undefined){l=se(d)?d:Fi(t[o+1])?[]:{}}}mi(a,c,l);a=a[c]}return e}const Uf=Hf;function Wf(e,t,n){return e==null?e:Uf(e,t,n)}const $f=Wf;class qf{constructor(e){this._styles={};this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);const t=Array.from(e);return!t.length}get size(){if(this.isEmpty){return 0}return this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(Yf(e).entries());for(const[e,n]of t){this._styleProcessor.toNormalizedForm(e,n,this._styles)}}has(e){if(this.isEmpty){return false}const t=this._styleProcessor.getReducedForm(e,this._styles);const n=t.find((([t])=>t===e));return Array.isArray(n)}set(e,t){if(se(e)){for(const[t,n]of Object.entries(e)){this._styleProcessor.toNormalizedForm(t,n,this._styles)}}else{this._styleProcessor.toNormalizedForm(e,t,this._styles)}}remove(e){const t=Kf(e);Zh(this._styles,t);delete this._styles[e];this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){if(this.isEmpty){return""}return this._getStylesEntries().map((e=>e.join(":"))).sort().join(";")+";"}getAsString(e){if(this.isEmpty){return}if(this._styles[e]&&!se(this._styles[e])){return this._styles[e]}const t=this._styleProcessor.getReducedForm(e,this._styles);const n=t.find((([t])=>t===e));if(Array.isArray(n)){return n[1]}}getStyleNames(e=false){if(this.isEmpty){return[]}if(e){return this._styleProcessor.getStyleNames(this._styles)}const t=this._getStylesEntries();return t.map((([e])=>e))}clear(){this._styles={}}_getStylesEntries(){const e=[];const t=Object.keys(this._styles);for(const n of t){e.push(...this._styleProcessor.getReducedForm(n,this._styles))}return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");const n=t.length>1;if(!n){return}const i=t.splice(0,t.length-1).join(".");const o=Jh(this._styles,i);if(!o){return}const r=!Array.from(Object.keys(o)).length;if(r){this.remove(i)}}}class Gf{constructor(){this._normalizers=new Map;this._extractors=new Map;this._reducers=new Map;this._consumables=new Map}toNormalizedForm(e,t,n){if(se(t)){Zf(n,Kf(e),t);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e);const{path:o,value:r}=i(t);Zf(n,o,r)}else{Zf(n,e,t)}}getNormalized(e,t){if(!e){return Vf({},t)}if(t[e]!==undefined){return t[e]}if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n==="string"){return Jh(t,n)}const i=n(e,t);if(i){return i}}return Jh(t,Kf(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);if(n===undefined){return[]}if(this._reducers.has(e)){const t=this._reducers.get(e);return t(n)}return[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter((t=>{const n=this.getNormalized(t,e);if(n&&typeof n=="object"){return Object.keys(n).length}return n}));const n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t){this._mapStyleNames(n,[e])}}_mapStyleNames(e,t){if(!this._consumables.has(e)){this._consumables.set(e,[])}this._consumables.get(e).push(...t)}}function Yf(e){let t=null;let n=0;let i=0;let o=null;const r=new Map;if(e===""){return r}if(e.charAt(e.length-1)!=";"){e=e+";"}for(let s=0;s<e.length;s++){const a=e.charAt(s);if(t===null){switch(a){case":":if(!o){o=e.substr(n,s-n);i=s+1}break;case'"':case"'":t=a;break;case";":{const t=e.substr(i,s-i);if(o){r.set(o.trim(),t.trim())}o=null;n=s+1;break}}}else if(a===t){t=null}}return r}function Kf(e){return e.replace("-",".")}function Zf(e,t,n){let i=n;if(se(n)){i=Vf({},Jh(e,t),n)}$f(e,t,i)}class Qf extends Ku{constructor(e,t,n,i){super(e);this._unsafeAttributesToRender=[];this._customProperties=new Map;this.name=t;this._attrs=Jf(n);this._children=[];if(i){this._insertChild(0,i)}this._classes=new Set;if(this._attrs.has("class")){const e=this._attrs.get("class");Xf(this._classes,e);this._attrs.delete("class")}this._styles=new qf(this.document.stylesProcessor);if(this._attrs.has("style")){this._styles.setTo(this._attrs.get("style"));this._attrs.delete("style")}}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){if(this._classes.size>0){yield"class"}if(!this._styles.isEmpty){yield"style"}yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries();if(this._classes.size>0){yield["class",this.getAttribute("class")]}if(!this._styles.isEmpty){yield["style",this.getAttribute("style")]}}getAttribute(e){if(e=="class"){if(this._classes.size>0){return[...this._classes].join(" ")}return undefined}if(e=="style"){const e=this._styles.toString();return e==""?undefined:e}return this._attrs.get(e)}hasAttribute(e){if(e=="class"){return this._classes.size>0}if(e=="style"){return!this._styles.isEmpty}return this._attrs.has(e)}isSimilar(e){if(!(e instanceof Qf)){return false}if(this===e){return true}if(this.name!=e.name){return false}if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size){return false}for(const[t,n]of this._attrs){if(!e._attrs.has(t)||e._attrs.get(t)!==n){return false}}for(const t of this._classes){if(!e._classes.has(t)){return false}}for(const t of this._styles.getStyleNames()){if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t)){return false}}return true}hasClass(...e){for(const t of e){if(!this._classes.has(t)){return false}}return true}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e){if(!this._styles.has(t)){return false}}return true}findAncestor(...e){const t=new Ju(...e);let n=this.parent;while(n&&!n.is("documentFragment")){if(t.match(n)){return n}n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(",");const t=this._styles.toString();const n=Array.from(this._attrs).map((e=>`${e[0]}="${e[1]}"`)).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(!t?"":` style="${t}"`)+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=false){const t=[];if(e){for(const n of this.getChildren()){t.push(n._clone(e))}}const n=new this.constructor(this.document,this.name,this._attrs,t);n._classes=new Set(this._classes);n._styles.set(this._styles.getNormalized());n._customProperties=new Map(this._customProperties);n.getFillerOffset=this.getFillerOffset;n._unsafeAttributesToRender=this._unsafeAttributesToRender;return n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=eg(this.document,t);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this;t.document=this.document;this._children.splice(e,0,t);e++;n++}return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++){this._children[n].parent=null}return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this);if(e=="class"){Xf(this._classes,n)}else if(e=="style"){this._styles.setTo(n)}else{this._attrs.set(e,n)}}_removeAttribute(e){this._fireChange("attributes",this);if(e=="class"){if(this._classes.size>0){this._classes.clear();return true}return false}if(e=="style"){if(!this._styles.isEmpty){this._styles.clear();return true}return false}return this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of il(e)){this._classes.add(t)}}_removeClass(e){this._fireChange("attributes",this);for(const t of il(e)){this._classes.delete(t)}}_setStyle(e,t){this._fireChange("attributes",this);if(typeof e!="string"){this._styles.set(e)}else{this._styles.set(e,t)}}_removeStyle(e){this._fireChange("attributes",this);for(const t of il(e)){this._styles.remove(t)}}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Qf.prototype.is=function(e,t){if(!t){return e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="element"||e==="view:element")}};function Jf(e){const t=kl(e);for(const[e,n]of t){if(n===null){t.delete(e)}else if(typeof n!="string"){t.set(e,String(n))}}return t}function Xf(e,t){const n=t.split(/\s+/);e.clear();n.forEach((t=>e.add(t)))}function eg(e,t){if(typeof t=="string"){return[new Zu(e,t)]}if(!De(t)){t=[t]}return Array.from(t).map((t=>{if(typeof t=="string"){return new Zu(e,t)}if(t instanceof Qu){return new Zu(e,t.data)}return t}))}class tg extends Qf{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=ng}}tg.prototype.is=function(e,t){if(!t){return e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}};function ng(){const e=[...this.getChildren()];const t=e[this.childCount-1];if(t&&t.is("element","br")){return this.childCount}for(const t of e){if(!t.is("uiElement")){return null}}return this.childCount}class ig extends(fe(tg)){constructor(e,t,n,i){super(e,t,n,i);this.set("isReadOnly",false);this.set("isFocused",false);this.bind("isReadOnly").to(e);this.bind("isFocused").to(e,"isFocused",(t=>t&&e.selection.editableElement==this));this.listenTo(e.selection,"change",(()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this}))}destroy(){this.stopListening()}}ig.prototype.is=function(e,t){if(!t){return e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}};const og=Symbol("rootName");class rg extends ig{constructor(e,t){super(e,t);this.rootName="main"}get rootName(){return this.getCustomProperty(og)}set rootName(e){this._setCustomProperty(og,e)}set _name(e){this.name=e}}rg.prototype.is=function(e,t){if(!t){return e==="rootElement"||e==="view:rootElement"||e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="rootElement"||e==="view:rootElement"||e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}};class sg{constructor(e={}){if(!e.boundaries&&!e.startPosition){throw new N("view-tree-walker-no-start-position",null)}if(e.direction&&e.direction!="forward"&&e.direction!="backward"){throw new N("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction})}this.boundaries=e.boundaries||null;if(e.startPosition){this._position=ag._createAt(e.startPosition)}else{this._position=ag._createAt(e.boundaries[e.direction=="backward"?"end":"start"])}this.direction=e.direction||"forward";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t;let n;do{n=this.position;t=this.next()}while(!t.done&&e(t.value));if(!t.done){this._position=n}}next(){if(this.direction=="forward"){return this._next()}else{return this._previous()}}_next(){let e=this.position.clone();const t=this.position;const n=e.parent;if(n.parent===null&&e.offset===n.childCount){return{done:true,value:undefined}}if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset){return{done:true,value:undefined}}let i;if(n instanceof Zu){if(e.isAtEnd){this._position=ag._createAfter(n);return this._next()}i=n.data[e.offset]}else{i=n.getChild(e.offset)}if(i instanceof Qf){if(!this.shallow){e=new ag(i,0)}else{if(this.boundaries&&this.boundaries.end.isBefore(e)){return{done:true,value:undefined}}e.offset++}this._position=e;return this._formatReturnValue("elementStart",i,t,e,1)}if(i instanceof Zu){if(this.singleCharacters){e=new ag(i,0);this._position=e;return this._next()}let n=i.data.length;let o;if(i==this._boundaryEndParent){n=this.boundaries.end.offset;o=new Qu(i,0,n);e=ag._createAfter(o)}else{o=new Qu(i,0,i.data.length);e.offset++}this._position=e;return this._formatReturnValue("text",o,t,e,n)}if(typeof i=="string"){let i;if(this.singleCharacters){i=1}else{const t=n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length;i=t-e.offset}const o=new Qu(n,e.offset,i);e.offset+=i;this._position=e;return this._formatReturnValue("text",o,t,e,i)}e=ag._createAfter(n);this._position=e;if(this.ignoreElementEnd){return this._next()}return this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position;const n=e.parent;if(n.parent===null&&e.offset===0){return{done:true,value:undefined}}if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset){return{done:true,value:undefined}}let i;if(n instanceof Zu){if(e.isAtStart){this._position=ag._createBefore(n);return this._previous()}i=n.data[e.offset-1]}else{i=n.getChild(e.offset-1)}if(i instanceof Qf){if(this.shallow){e.offset--;this._position=e;return this._formatReturnValue("elementStart",i,t,e,1)}e=new ag(i,i.childCount);this._position=e;if(this.ignoreElementEnd){return this._previous()}return this._formatReturnValue("elementEnd",i,t,e)}if(i instanceof Zu){if(this.singleCharacters){e=new ag(i,i.data.length);this._position=e;return this._previous()}let n=i.data.length;let o;if(i==this._boundaryStartParent){const t=this.boundaries.start.offset;o=new Qu(i,t,i.data.length-t);n=o.data.length;e=ag._createBefore(o)}else{o=new Qu(i,0,i.data.length);e.offset--}this._position=e;return this._formatReturnValue("text",o,t,e,n)}if(typeof i=="string"){let i;if(!this.singleCharacters){const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-t}else{i=1}e.offset-=i;const o=new Qu(n,e.offset,i);this._position=e;return this._formatReturnValue("text",o,t,e,i)}e=ag._createBefore(n);this._position=e;return this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,i,o){if(t instanceof Qu){if(t.offsetInText+t.data.length==t.textNode.data.length){if(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))){i=ag._createAfter(t.textNode);this._position=i}else{n=ag._createAfter(t.textNode)}}if(t.offsetInText===0){if(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))){i=ag._createBefore(t.textNode);this._position=i}else{n=ag._createBefore(t.textNode)}}}return{done:false,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:o}}}}class ag extends $u{constructor(e,t){super();this.parent=e;this.offset=t}get nodeAfter(){if(this.parent.is("$text")){return null}return this.parent.getChild(this.offset)||null}get nodeBefore(){if(this.parent.is("$text")){return null}return this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;while(!(e instanceof ig)){if(e.parent){e=e.parent}else{return null}}return e}getShiftedBy(e){const t=ag._createAt(this);const n=t.offset+e;t.offset=n<0?0:n;return t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new sg(t);n.skip(e);return n.position}getAncestors(){if(this.parent.is("documentFragment")){return[this.parent]}else{return this.parent.getAncestors({includeSelf:true})}}getCommonAncestor(e){const t=this.getAncestors();const n=e.getAncestors();let i=0;while(t[i]==n[i]&&t[i]){i++}return i===0?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root){return"different"}if(this.isEqual(e)){return"same"}const t=this.parent.is("node")?this.parent.getPath():[];const n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset);n.push(e.offset);const i=Ee(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}getWalker(e={}){e.startPosition=this;return new sg(e)}clone(){return new ag(this.parent,this.offset)}static _createAt(e,t){if(e instanceof ag){return new this(e.parent,e.offset)}else{const n=e;if(t=="end"){t=n.is("$text")?n.data.length:n.childCount}else if(t=="before"){return this._createBefore(n)}else if(t=="after"){return this._createAfter(n)}else if(t!==0&&!t){throw new N("view-createpositionat-offset-required",n)}return new ag(n,t)}}static _createAfter(e){if(e.is("$textProxy")){return new ag(e.textNode,e.offsetInText+e.data.length)}if(!e.parent){throw new N("view-position-after-root",e,{root:e})}return new ag(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy")){return new ag(e.textNode,e.offsetInText)}if(!e.parent){throw new N("view-position-before-root",e,{root:e})}return new ag(e.parent,e.index)}}ag.prototype.is=function(e){return e==="position"||e==="view:position"};class cg extends $u{constructor(e,t=null){super();this.start=e.clone();this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new sg({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(lg,{direction:"backward"});let t=this.end.getLastMatchingPosition(lg);if(e.parent.is("$text")&&e.isAtStart){e=ag._createBefore(e.parent)}if(t.parent.is("$text")&&t.isAtEnd){t=ag._createAfter(t.parent)}return new cg(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(lg);if(e.isAfter(this.end)||e.isEqual(this.end)){return new cg(e,e)}let t=this.end.getLastMatchingPosition(lg,{direction:"backward"});const n=e.nodeAfter;const i=t.nodeBefore;if(n&&n.is("$text")){e=new ag(n,0)}if(i&&i.is("$text")){t=new ag(i,i.data.length)}return new cg(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false}const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new cg(this.start,e.start))}if(this.containsPosition(e.end)){t.push(new cg(e.end,this.end))}}else{t.push(this.clone())}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let n=this.end;if(this.containsPosition(e.start)){t=e.start}if(this.containsPosition(e.end)){n=e.end}return new cg(t,n)}return null}getWalker(e={}){e.boundaries=this;return new sg(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}let e=this.start.nodeAfter;let t=this.end.nodeBefore;if(this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling){e=this.start.parent.nextSibling}if(this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling){t=this.end.parent.previousSibling}if(e&&e.is("element")&&e===t){return e}return null}clone(){return new cg(this.start,this.end)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new sg(e);for(const e of t){yield e.item}}*getPositions(e={}){e.boundaries=this;const t=new sg(e);yield t.position;for(const e of t){yield e.nextPosition}}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,i){return new this(new ag(e,t),new ag(n,i))}static _createFromPositionAndShift(e,t){const n=e;const i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ag._createBefore(e),t)}}cg.prototype.is=function(e){return e==="range"||e==="view:range"};function lg(e){if(e.item.is("attributeElement")||e.item.is("uiElement")){return true}return false}class dg extends(G($u)){constructor(...e){super();this._ranges=[];this._lastRangeBackward=false;this._isFake=false;this._fakeSelectionLabel="";if(e.length){this.setTo(...e)}}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.end:e.start;return t.clone()}get focus(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.start:e.end;return t.clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){if(this.anchor){return this.anchor.editableElement}return null}*getRanges(){for(const e of this._ranges){yield e.clone()}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t}}return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t}}return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake){return false}if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel){return false}if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let n=false;for(const i of e._ranges){if(t.isEqual(i)){n=true;break}}if(!n){return false}}return true}isSimilar(e){if(this.isBackward!=e.isBackward){return false}const t=xe(this.getRanges());const n=xe(e.getRanges());if(t!=n){return false}if(t==0){return true}for(let t of this.getRanges()){t=t.getTrimmed();let n=false;for(let i of e.getRanges()){i=i.getTrimmed();if(t.start.isEqual(i.start)&&t.end.isEqual(i.end)){n=true;break}}if(!n){return false}}return true}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,i]=e;if(typeof n=="object"){i=n;n=undefined}if(t===null){this._setRanges([]);this._setFakeOptions(i)}else if(t instanceof dg||t instanceof ug){this._setRanges(t.getRanges(),t.isBackward);this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel})}else if(t instanceof cg){this._setRanges([t],i&&i.backward);this._setFakeOptions(i)}else if(t instanceof ag){this._setRanges([new cg(t)]);this._setFakeOptions(i)}else if(t instanceof Ku){const e=!!i&&!!i.backward;let o;if(n===undefined){throw new N("view-selection-setto-required-second-parameter",this)}else if(n=="in"){o=cg._createIn(t)}else if(n=="on"){o=cg._createOn(t)}else{o=new cg(ag._createAt(t,n))}this._setRanges([o],e);this._setFakeOptions(i)}else if(De(t)){this._setRanges(t,i&&i.backward);this._setFakeOptions(i)}else{throw new N("view-selection-setto-not-selectable",this)}this.fire("change")}setFocus(e,t){if(this.anchor===null){throw new N("view-selection-setfocus-no-ranges",this)}const n=ag._createAt(e,t);if(n.compareWith(this.focus)=="same"){return}const i=this.anchor;this._ranges.pop();if(n.compareWith(i)=="before"){this._addRange(new cg(n,i),true)}else{this._addRange(new cg(i,n))}this.fire("change")}_setRanges(e,t=false){e=Array.from(e);this._ranges=[];for(const t of e){this._addRange(t)}this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake;this._fakeSelectionLabel=e.fake?e.label||"":""}_addRange(e,t=false){if(!(e instanceof cg)){throw new N("view-selection-add-range-not-range",this)}this._pushRange(e);this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges){if(e.isIntersecting(t)){throw new N("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t})}}this._ranges.push(new cg(e.start,e.end))}}dg.prototype.is=function(e){return e==="selection"||e==="view:selection"};class ug extends(G($u)){constructor(...e){super();this._selection=new dg;this._selection.delegate("change").to(this);if(e.length){this._selection.setTo(...e)}}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}ug.prototype.is=function(e){return e==="selection"||e=="documentSelection"||e=="view:selection"||e=="view:documentSelection"};class hg extends x{constructor(e,t,n){super(e,t);this.startRange=n;this._eventPhase="none";this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const fg=Symbol("bubbling contexts");function gg(e){class t extends e{fire(e,...t){try{const n=e instanceof x?e:new x(this,e);const i=kg(this);if(!i.size){return}mg(n,"capturing",this);if(pg(i,"$capture",n,...t)){return n.return}const o=n.startRange||this.selection.getFirstRange();const r=o?o.getContainedElement():null;const s=r?Boolean(bg(i,r)):false;let a=r||wg(o);mg(n,"atTarget",a);if(!s){if(pg(i,"$text",n,...t)){return n.return}mg(n,"bubbling",a)}while(a){if(a.is("rootElement")){if(pg(i,"$root",n,...t)){return n.return}}else if(a.is("element")){if(pg(i,a.name,n,...t)){return n.return}}if(pg(i,a,n,...t)){return n.return}a=a.parent;mg(n,"bubbling",a)}mg(n,"bubbling",this);pg(i,"$document",n,...t);return n.return}catch(e){N.rethrowUnexpectedError(e,this)}}_addEventListener(e,t,n){const i=il(n.context||"$document");const o=kg(this);for(const r of i){let i=o.get(r);if(!i){i=new(G());o.set(r,i)}this.listenTo(i,e,t,n)}}_removeEventListener(e,t){const n=kg(this);for(const i of n.values()){this.stopListening(i,e,t)}}}return t}{const e=gg(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{gg[t]=e.prototype[t]}))}function mg(e,t,n){if(e instanceof hg){e._eventPhase=t;e._currentTarget=n}}function pg(e,t,n,...i){const o=typeof t=="string"?e.get(t):bg(e,t);if(!o){return false}o.fire(n,...i);return n.stop.called}function bg(e,t){for(const[n,i]of e){if(typeof n=="function"&&n(t)){return i}}return null}function kg(e){if(!e[fg]){e[fg]=new Map}return e[fg]}function wg(e){if(!e){return null}const t=e.start.parent;const n=e.end.parent;const i=t.getPath();const o=n.getPath();return i.length>o.length?t:n}class _g extends(gg(fe())){constructor(e){super();this._postFixers=new Set;this.selection=new ug;this.roots=new fl({idProperty:"rootName"});this.stylesProcessor=e;this.set("isReadOnly",false);this.set("isFocused",false);this.set("isSelecting",false);this.set("isComposing",false)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map((e=>e.destroy()));this.stopListening()}_callPostFixers(e){let t=false;do{for(const n of this._postFixers){t=n(e);if(t){break}}}while(t)}}const Ag=10;class vg extends Qf{constructor(e,t,n,i){super(e,t,n,i);this._priority=Ag;this._id=null;this._clonesGroup=null;this.getFillerOffset=Cg}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null){throw new N("attribute-element-get-elements-with-same-id-no-id",this)}return new Set(this._clonesGroup)}isSimilar(e){if(this.id!==null||e.id!==null){return this.id===e.id}return super.isSimilar(e)&&this.priority==e.priority}_clone(e=false){const t=super._clone(e);t._priority=this._priority;t._id=this._id;return t}}vg.DEFAULT_PRIORITY=Ag;vg.prototype.is=function(e,t){if(!t){return e==="attributeElement"||e==="view:attributeElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="attributeElement"||e==="view:attributeElement"||e==="element"||e==="view:element")}};function Cg(){if(yg(this)){return null}let e=this.parent;while(e&&e.is("attributeElement")){if(yg(e)>1){return null}e=e.parent}if(!e||yg(e)>1){return null}return this.childCount}function yg(e){return Array.from(e.getChildren()).filter((e=>!e.is("uiElement"))).length}class xg extends Qf{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=Eg}_insertChild(e,t){if(t&&(t instanceof Ku||Array.from(t).length>0)){throw new N("view-emptyelement-cannot-add",[this,t])}return 0}}xg.prototype.is=function(e,t){if(!t){return e==="emptyElement"||e==="view:emptyElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="emptyElement"||e==="view:emptyElement"||e==="element"||e==="view:element")}};function Eg(){return null}class Dg extends Qf{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=Mg}_insertChild(e,t){if(t&&(t instanceof Ku||Array.from(t).length>0)){throw new N("view-uielement-cannot-add",[this,t])}return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys()){t.setAttribute(e,this.getAttribute(e))}return t}}Dg.prototype.is=function(e,t){if(!t){return e==="uiElement"||e==="view:uiElement"||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="uiElement"||e==="view:uiElement"||e==="element"||e==="view:element")}};function Tg(e){e.document.on("arrowKey",((t,n)=>Ig(t,n,e.domConverter)),{priority:"low"})}function Mg(){return null}function Ig(e,t,n){if(t.keyCode==qc.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection();const i=e.rangeCount==1&&e.getRangeAt(0).collapsed;if(i||t.shiftKey){const t=e.focusNode;const o=e.focusOffset;const r=n.domPositionToView(t,o);if(r===null){return}let s=false;const a=r.getLastMatchingPosition((e=>{if(e.item.is("uiElement")){s=true}if(e.item.is("uiElement")||e.item.is("attributeElement")){return true}return false}));if(s){const t=n.viewPositionToDom(a);if(i){e.collapse(t.parent,t.offset)}else{e.extend(t.parent,t.offset)}}}}}class Sg extends Qf{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=Bg}_insertChild(e,t){if(t&&(t instanceof Ku||Array.from(t).length>0)){throw new N("view-rawelement-cannot-add",[this,t])}return 0}render(e,t){}}Sg.prototype.is=function(e,t){if(!t){return e==="rawElement"||e==="view:rawElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else{return t===this.name&&(e==="rawElement"||e==="view:rawElement"||e==="element"||e==="view:element")}};function Bg(){return null}class Ng extends(G($u)){constructor(e,t){super();this._children=[];this._customProperties=new Map;this.document=e;if(t){this._insertChild(0,t)}}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){return undefined}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=zg(this.document,t);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this;this._children.splice(e,0,t);e++;n++}return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++){this._children[n].parent=null}return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Ng.prototype.is=function(e){return e==="documentFragment"||e==="view:documentFragment"};function zg(e,t){if(typeof t=="string"){return[new Zu(e,t)]}if(!De(t)){t=[t]}return Array.from(t).map((t=>{if(typeof t=="string"){return new Zu(e,t)}if(t instanceof Qu){return new Zu(e,t.data)}return t}))}class Pg{constructor(e){this._cloneGroups=new Map;this._slotFactory=null;this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Ng(this.document,e)}createText(e){return new Zu(this.document,e)}createAttributeElement(e,t,n={}){const i=new vg(this.document,e,t);if(typeof n.priority==="number"){i._priority=n.priority}if(n.id){i._id=n.id}if(n.renderUnsafeAttributes){i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes)}return i}createContainerElement(e,t,n={},i={}){let o=null;if(mt(n)){i=n}else{o=n}const r=new tg(this.document,e,t,o);if(i.renderUnsafeAttributes){r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes)}return r}createEditableElement(e,t,n={}){const i=new ig(this.document,e,t);if(n.renderUnsafeAttributes){i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes)}return i}createEmptyElement(e,t,n={}){const i=new xg(this.document,e,t);if(n.renderUnsafeAttributes){i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes)}return i}createUIElement(e,t,n){const i=new Dg(this.document,e,t);if(n){i.render=n}return i}createRawElement(e,t,n,i={}){const o=new Sg(this.document,e,t);if(n){o.render=n}if(i.renderUnsafeAttributes){o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes)}return o}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){if(mt(e)&&n===undefined){t._setStyle(e)}else{n._setStyle(e,t)}}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){if(e instanceof ag){return this._breakAttributes(e)}else{return this._breakAttributesRange(e)}}breakContainer(e){const t=e.parent;if(!t.is("containerElement")){throw new N("view-writer-break-non-container-element",this.document)}if(!t.parent){throw new N("view-writer-break-root",this.document)}if(e.isAtStart){return ag._createBefore(t)}else if(!e.isAtEnd){const n=t._clone(false);this.insert(ag._createAfter(t),n);const i=new cg(e,ag._createAt(t,"end"));const o=new ag(n,0);this.move(i,o)}return ag._createAfter(t)}mergeAttributes(e){const t=e.offset;const n=e.parent;if(n.is("$text")){return e}if(n.is("attributeElement")&&n.childCount===0){const e=n.parent;const t=n.index;n._remove();this._removeFromClonedElementsGroup(n);return this.mergeAttributes(new ag(e,t))}const i=n.getChild(t-1);const o=n.getChild(t);if(!i||!o){return e}if(i.is("$text")&&o.is("$text")){return Vg(i,o)}else if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){const e=i.childCount;i._appendChild(o.getChildren());o._remove();this._removeFromClonedElementsGroup(o);return this.mergeAttributes(new ag(i,e))}return e}mergeContainers(e){const t=e.nodeBefore;const n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement")){throw new N("view-writer-merge-containers-invalid-position",this.document)}const i=t.getChild(t.childCount-1);const o=i instanceof Zu?ag._createAt(i,"end"):ag._createAt(t,"end");this.move(cg._createIn(n),ag._createAt(t,"end"));this.remove(cg._createOn(n));return o}insert(e,t){t=De(t)?[...t]:[t];Ug(t,this.document);const n=t.reduce(((e,t)=>{const n=e[e.length-1];const i=!t.is("uiElement");if(!n||n.breakAttributes!=i){e.push({breakAttributes:i,nodes:[t]})}else{n.nodes.push(t)}return e}),[]);let i=null;let o=e;for(const{nodes:e,breakAttributes:t}of n){const n=this._insertNodes(o,e,t);if(!i){i=n.start}o=n.end}if(!i){return new cg(e)}return new cg(i,o)}remove(e){const t=e instanceof cg?e:cg._createOn(e);$g(t,this.document);if(t.isCollapsed){return new Ng(this.document)}const{start:n,end:i}=this._breakAttributesRange(t,true);const o=n.parent;const r=i.offset-n.offset;const s=o._removeChildren(n.offset,r);for(const e of s){this._removeFromClonedElementsGroup(e)}const a=this.mergeAttributes(n);t.start=a;t.end=a.clone();return new Ng(this.document,s)}clear(e,t){$g(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:true});for(const i of n){const n=i.item;let o;if(n.is("element")&&t.isSimilar(n)){o=cg._createOn(n)}else if(!i.nextPosition.isAfter(e.start)&&n.is("$textProxy")){const e=n.getAncestors().find((e=>e.is("element")&&t.isSimilar(e)));if(e){o=cg._createIn(e)}}if(o){if(o.end.isAfter(e.end)){o.end=e.end}if(o.start.isBefore(e.start)){o.start=e.start}this.remove(o)}}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,true);const i=t.parent;const o=i.childCount;e=this._breakAttributesRange(e,true);n=this.remove(e);t.offset+=i.childCount-o}else{n=this.remove(e)}return this.insert(t,n)}wrap(e,t){if(!(t instanceof vg)){throw new N("view-writer-wrap-invalid-attribute",this.document)}$g(e,this.document);if(!e.isCollapsed){return this._wrapRange(e,t)}else{let n=e.start;if(n.parent.is("element")&&!Lg(n.parent)){n=n.getLastMatchingPosition((e=>e.item.is("uiElement")))}n=this._wrapPosition(n,t);const i=this.document.selection;if(i.isCollapsed&&i.getFirstPosition().isEqual(e.start)){this.setSelection(n)}return new cg(n)}}unwrap(e,t){if(!(t instanceof vg)){throw new N("view-writer-unwrap-invalid-attribute",this.document)}$g(e,this.document);if(e.isCollapsed){return e}const{start:n,end:i}=this._breakAttributesRange(e,true);const o=n.parent;const r=this._unwrapChildren(o,n.offset,i.offset,t);const s=this.mergeAttributes(r.start);if(!s.isEqual(r.start)){r.end.offset--}const a=this.mergeAttributes(r.end);return new cg(s,a)}rename(e,t){const n=new tg(this.document,e,t.getAttributes());this.insert(ag._createAfter(t),n);this.move(cg._createIn(t),ag._createAt(n,0));this.remove(cg._createOn(t));return n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return ag._createAt(e,t)}createPositionAfter(e){return ag._createAfter(e)}createPositionBefore(e){return ag._createBefore(e)}createRange(e,t){return new cg(e,t)}createRangeOn(e){return cg._createOn(e)}createRangeIn(e){return cg._createIn(e)}createSelection(...e){return new dg(...e)}createSlot(e="children"){if(!this._slotFactory){throw new N("view-writer-invalid-create-slot-context",this.document)}return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let i;if(n){i=Og(e)}else{i=e.parent.is("$text")?e.parent.parent:e.parent}if(!i){throw new N("view-writer-invalid-position-container",this.document)}let o;if(n){o=this._breakAttributes(e,true)}else{o=e.parent.is("$text")?Fg(e):e}const r=i._insertChild(o.offset,t);for(const e of t){this._addToClonedElementsGroup(e)}const s=o.getShiftedBy(r);const a=this.mergeAttributes(o);if(!a.isEqual(o)){s.offset--}const c=this.mergeAttributes(s);return new cg(a,c)}_wrapChildren(e,t,n,i){let o=t;const r=[];while(o<n){const t=e.getChild(o);const n=t.is("$text");const s=t.is("attributeElement");if(s&&this._wrapAttributeElement(i,t)){r.push(new ag(e,o))}else if(n||!s||Rg(i,t)){const n=i._clone();t._remove();n._appendChild(t);e._insertChild(o,n);this._addToClonedElementsGroup(n);r.push(new ag(e,o))}else{this._wrapChildren(t,0,t.childCount,i)}o++}let s=0;for(const e of r){e.offset-=s;if(e.offset==t){continue}const i=this.mergeAttributes(e);if(!i.isEqual(e)){s++;n--}}return cg._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let o=t;const r=[];while(o<n){const t=e.getChild(o);if(!t.is("attributeElement")){o++;continue}if(t.isSimilar(i)){const i=t.getChildren();const s=t.childCount;t._remove();e._insertChild(o,i);this._removeFromClonedElementsGroup(t);r.push(new ag(e,o),new ag(e,o+s));o+=s;n+=s-1;continue}if(this._unwrapAttributeElement(i,t)){r.push(new ag(e,o),new ag(e,o+1));o++;continue}this._unwrapChildren(t,0,t.childCount,i);o++}let s=0;for(const e of r){e.offset-=s;if(e.offset==t||e.offset==n){continue}const i=this.mergeAttributes(e);if(!i.isEqual(e)){s++;n--}}return cg._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,true);const o=n.parent;const r=this._wrapChildren(o,n.offset,i.offset,t);const s=this.mergeAttributes(r.start);if(!s.isEqual(r.start)){r.end.offset--}const a=this.mergeAttributes(r.end);return new cg(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent)){return jg(e.clone())}if(e.parent.is("$text")){e=Fg(e)}const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY;n.isSimilar=()=>false;e.parent._insertChild(e.offset,n);const i=new cg(e,e.getShiftedBy(1));this.wrap(i,t);const o=new ag(n.parent,n.index);n._remove();const r=o.nodeBefore;const s=o.nodeAfter;if(r instanceof Zu&&s instanceof Zu){return Vg(r,s)}return jg(o)}_wrapAttributeElement(e,t){if(!qg(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const n of e.getAttributeKeys()){if(n==="class"||n==="style"){continue}if(t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n)){return false}}for(const n of e.getStyleNames()){if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n)){return false}}for(const n of e.getAttributeKeys()){if(n==="class"||n==="style"){continue}if(!t.hasAttribute(n)){this.setAttribute(n,e.getAttribute(n),t)}}for(const n of e.getStyleNames()){if(!t.hasStyle(n)){this.setStyle(n,e.getStyle(n),t)}}for(const n of e.getClassNames()){if(!t.hasClass(n)){this.addClass(n,t)}}return true}_unwrapAttributeElement(e,t){if(!qg(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const n of e.getAttributeKeys()){if(n==="class"||n==="style"){continue}if(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)){return false}}if(!t.hasClass(...e.getClassNames())){return false}for(const n of e.getStyleNames()){if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n)){return false}}for(const n of e.getAttributeKeys()){if(n==="class"||n==="style"){continue}this.removeAttribute(n,t)}this.removeClass(Array.from(e.getClassNames()),t);this.removeStyle(Array.from(e.getStyleNames()),t);return true}_breakAttributesRange(e,t=false){const n=e.start;const i=e.end;$g(e,this.document);if(e.isCollapsed){const n=this._breakAttributes(e.start,t);return new cg(n,n)}const o=this._breakAttributes(i,t);const r=o.parent.childCount;const s=this._breakAttributes(n,t);o.offset+=o.parent.childCount-r;return new cg(s,o)}_breakAttributes(e,t=false){const n=e.offset;const i=e.parent;if(e.parent.is("emptyElement")){throw new N("view-writer-cannot-break-empty-element",this.document)}if(e.parent.is("uiElement")){throw new N("view-writer-cannot-break-ui-element",this.document)}if(e.parent.is("rawElement")){throw new N("view-writer-cannot-break-raw-element",this.document)}if(!t&&i.is("$text")&&Wg(i.parent)){return e.clone()}if(Wg(i)){return e.clone()}if(i.is("$text")){return this._breakAttributes(Fg(e),t)}const o=i.childCount;if(n==o){const e=new ag(i.parent,i.index+1);return this._breakAttributes(e,t)}else{if(n===0){const e=new ag(i.parent,i.index);return this._breakAttributes(e,t)}else{const e=i.index+1;const o=i._clone();i.parent._insertChild(e,o);this._addToClonedElementsGroup(o);const r=i.childCount-n;const s=i._removeChildren(n,r);o._appendChild(s);const a=new ag(i.parent,e);return this._breakAttributes(a,t)}}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement")){return}if(e.is("element")){for(const t of e.getChildren()){this._addToClonedElementsGroup(t)}}const t=e.id;if(!t){return}let n=this._cloneGroups.get(t);if(!n){n=new Set;this._cloneGroups.set(t,n)}n.add(e);e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element")){for(const t of e.getChildren()){this._removeFromClonedElementsGroup(t)}}const t=e.id;if(!t){return}const n=this._cloneGroups.get(t);if(!n){return}n.delete(e)}}function Lg(e){return Array.from(e.getChildren()).some((e=>!e.is("uiElement")))}function Og(e){let t=e.parent;while(!Wg(t)){if(!t){return undefined}t=t.parent}return t}function Rg(e,t){if(e.priority<t.priority){return true}else if(e.priority>t.priority){return false}return e.getIdentity()<t.getIdentity()}function jg(e){const t=e.nodeBefore;if(t&&t.is("$text")){return new ag(t,t.data.length)}const n=e.nodeAfter;if(n&&n.is("$text")){return new ag(n,0)}return e}function Fg(e){if(e.offset==e.parent.data.length){return new ag(e.parent.parent,e.parent.index+1)}if(e.offset===0){return new ag(e.parent.parent,e.parent.index)}const t=e.parent.data.slice(e.offset);e.parent._data=e.parent.data.slice(0,e.offset);e.parent.parent._insertChild(e.parent.index+1,new Zu(e.root.document,t));return new ag(e.parent.parent,e.parent.index+1)}function Vg(e,t){const n=e.data.length;e._data+=t.data;t._remove();return new ag(e,n)}const Hg=[Zu,vg,tg,xg,Sg,Dg];function Ug(e,t){for(const n of e){if(!Hg.some((e=>n instanceof e))){throw new N("view-writer-insert-invalid-node-type",t)}if(!n.is("$text")){Ug(n.getChildren(),t)}}}function Wg(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function $g(e,t){const n=Og(e.start);const i=Og(e.end);if(!n||!i||n!==i){throw new N("view-writer-invalid-range-container",t)}}function qg(e,t){return e.id===null&&t.id===null}const Gg=e=>e.createTextNode(" ");const Yg=e=>{const t=e.createElement("span");t.dataset.ckeFiller="true";t.innerText=" ";return t};const Kg=e=>{const t=e.createElement("br");t.dataset.ckeFiller="true";return t};const Zg=7;const Qg="⁠".repeat(Zg);function Jg(e){return sc(e)&&e.data.substr(0,Zg)===Qg}function Xg(e){return e.data.length==Zg&&Jg(e)}function em(e){if(Jg(e)){return e.data.slice(Zg)}else{return e.data}}function tm(e){e.document.on("arrowKey",nm,{priority:"low"})}function nm(e,t){if(t.keyCode==qc.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer;const n=e.getRangeAt(0).startOffset;if(Jg(t)&&n<=Zg){e.collapse(t,0)}}}}var im=__webpack_require__(4401);var om={injectType:"singletonStyleTag",attributes:{"data-cke":true}};om.insert="head";om.singleton=true;var rm=zl()(im.Z,om);const sm=im.Z.locals||{};class am extends(fe()){constructor(e,t){super();this.domDocuments=new Set;this.markedAttributes=new Set;this.markedChildren=new Set;this.markedTexts=new Set;this._inlineFiller=null;this._fakeSelectionContainer=null;this.domConverter=e;this.selection=t;this.set("isFocused",false);this.set("isSelecting",false);if(a.isBlink&&!a.isAndroid){this.on("change:isSelecting",(()=>{if(!this.isSelecting){this.render()}}))}this.set("isComposing",false);this.on("change:isComposing",(()=>{if(!this.isComposing){this.render()}}))}markToSync(e,t){if(e==="text"){if(this.domConverter.mapViewToDom(t.parent)){this.markedTexts.add(t)}}else{if(!this.domConverter.mapViewToDom(t)){return}if(e==="attributes"){this.markedAttributes.add(t)}else if(e==="children"){this.markedChildren.add(t)}else{const t=e;throw new N("view-renderer-unknown-type",this)}}}render(){if(this.isComposing&&!a.isAndroid){return}let e=null;const t=a.isBlink&&!a.isAndroid?!this.isSelecting:true;for(const e of this.markedChildren){this._updateChildrenMappings(e)}if(t){if(this._inlineFiller&&!this._isSelectionInInlineFiller()){this._removeInlineFiller()}if(this._inlineFiller){e=this._getInlineFillerPosition()}else if(this._needsInlineFillerAtSelection()){e=this.selection.getFirstPosition();this.markedChildren.add(e.parent)}}else if(this._inlineFiller&&this._inlineFiller.parentNode){e=this.domConverter.domPositionToView(this._inlineFiller);if(e&&e.parent.is("$text")){e=ag._createBefore(e.parent)}}for(const e of this.markedAttributes){this._updateAttrs(e)}for(const t of this.markedChildren){this._updateChildren(t,{inlineFillerPosition:e})}for(const t of this.markedTexts){if(!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)){this._updateText(t,{inlineFillerPosition:e})}}if(t){if(e){const t=this.domConverter.viewPositionToDom(e);const n=t.parent.ownerDocument;if(!Jg(t.parent)){this._inlineFiller=lm(n,t.parent,t.offset)}else{this._inlineFiller=t.parent}}else{this._inlineFiller=null}}this._updateFocus();this._updateSelection();this.markedTexts.clear();this.markedAttributes.clear();this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const n=Array.from(this.domConverter.mapViewToDom(e).childNodes);const i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:false}));const o=this._diffNodeLists(n,i);const r=this._findUpdateActions(o,n,i,dm);if(r.indexOf("update")!==-1){const t={equal:0,insert:0,delete:0};for(const o of r){if(o==="update"){const o=t.equal+t.insert;const r=t.equal+t.delete;const s=e.getChild(o);if(s&&!(s.is("uiElement")||s.is("rawElement"))){this._updateElementMappings(s,n[r])}Sc(i[o]);t.equal++}else{t[o]++}}}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t);this.domConverter.bindElements(t,e);this.markedChildren.add(e);this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();if(e.parent.is("$text")){return ag._createBefore(e.parent)}else{return e}}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=this.domConverter.viewPositionToDom(e);if(t&&sc(t.parent)&&Jg(t.parent)){return true}return false}_removeInlineFiller(){const e=this._inlineFiller;if(!Jg(e)){throw new N("view-renderer-filler-was-lost",this)}if(Xg(e)){e.remove()}else{e.data=e.data.substr(Zg)}this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=e.parent;const n=e.offset;if(!this.domConverter.mapViewToDom(t.root)){return false}if(!t.is("element")){return false}if(!cm(t)){return false}if(n===t.getFillerOffset()){return false}const i=e.nodeBefore;const o=e.nodeAfter;if(i instanceof Zu||o instanceof Zu){return false}if(a.isAndroid&&(i||o)){return false}return true}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);const i=this.domConverter.viewToDom(e);let o=i.data;const r=t.inlineFillerPosition;if(r&&r.parent==e.parent&&r.offset==e.index){o=Qg+o}pm(n,o)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const n=Array.from(t.attributes).map((e=>e.name));const i=e.getAttributeKeys();for(const n of i){this.domConverter.setDomElementAttribute(t,n,e.getAttribute(n),e)}for(const i of n){if(!e.hasAttribute(i)){this.domConverter.removeDomElementAttribute(t,i)}}}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n){return}if(a.isAndroid){let e=null;for(const t of Array.from(n.childNodes)){if(e&&sc(e)&&sc(t)){n.normalize();break}e=t}}const i=t.inlineFillerPosition;const o=n.childNodes;const r=Array.from(this.domConverter.viewChildrenToDom(e,{bind:true}));if(i&&i.parent===e){lm(n.ownerDocument,r,i.offset)}const s=this._diffNodeLists(o,r);const c=this._findUpdateActions(s,o,r,um);let l=0;const d=new Set;for(const e of c){if(e==="delete"){d.add(o[l]);Sc(o[l])}else if(e==="equal"||e==="update"){l++}}l=0;for(const e of c){if(e==="insert"){_c(n,l,r[l]);l++}else if(e==="update"){pm(o[l],r[l].data);l++}else if(e==="equal"){this._markDescendantTextToSync(this.domConverter.domToView(r[l]));l++}}for(const e of d){if(!e.parentNode){this.domConverter.unbindDomElement(e)}}}_diffNodeLists(e,t){e=gm(e,this._fakeSelectionContainer);return v(e,t,hm.bind(null,this.domConverter))}_findUpdateActions(e,t,n,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1){return e}let o=[];let r=[];let s=[];const a={equal:0,insert:0,delete:0};for(const c of e){if(c==="insert"){s.push(n[a.equal+a.insert])}else if(c==="delete"){r.push(t[a.equal+a.delete])}else{o=o.concat(v(r,s,i).map((e=>e==="equal"?"update":e)));o.push("equal");r=[];s=[]}a[c]++}return o.concat(v(r,s,i).map((e=>e==="equal"?"update":e)))}_markDescendantTextToSync(e){if(!e){return}if(e.is("$text")){this.markedTexts.add(e)}else if(e.is("element")){for(const t of e.getChildren()){this._markDescendantTextToSync(t)}}}_updateSelection(){if(a.isBlink&&!a.isAndroid&&this.isSelecting&&!this.markedChildren.size){return}if(this.selection.rangeCount===0){this._removeDomSelection();this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){return}if(this.selection.isFake){this._updateFakeSelection(e)}else if(this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected){this._removeFakeSelection();this._updateDomSelection(e)}else if(!(this.isComposing&&a.isAndroid)){this._updateDomSelection(e)}}_updateFakeSelection(e){const t=e.ownerDocument;if(!this._fakeSelectionContainer){this._fakeSelectionContainer=mm(t)}const n=this._fakeSelectionContainer;this.domConverter.bindFakeSelection(n,this.selection);if(!this._fakeSelectionNeedsUpdate(e)){return}if(!n.parentElement||n.parentElement!=e){e.appendChild(n)}n.textContent=this.selection.fakeSelectionLabel||" ";const i=t.getSelection();const o=t.createRange();i.removeAllRanges();o.selectNodeContents(n);i.addRange(o)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t)){return}const n=this.domConverter.viewPositionToDom(this.selection.anchor);const i=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(n.parent,n.offset);t.extend(i.parent,i.offset);if(a.isGecko){fm(i,t)}}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e)){return true}const t=e&&this.domConverter.domSelectionToView(e);if(t&&this.selection.isEqual(t)){return false}if(!this.selection.isCollapsed&&this.selection.isSimilar(t)){return false}return true}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer;const n=e.ownerDocument.getSelection();if(!t||t.parentElement!==e){return true}if(n.anchorNode!==t&&!t.contains(n.anchorNode)){return true}return t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement;const i=this.domConverter.mapDomToView(n);if(n&&i){t.removeAllRanges()}}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;if(e){e.remove()}}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;if(e){this.domConverter.focus(e)}}}}function cm(e){if(e.getAttribute("contenteditable")=="false"){return false}const t=e.findAncestor((e=>e.hasAttribute("contenteditable")));return!t||t.getAttribute("contenteditable")=="true"}function lm(e,t,n){const i=t instanceof Array?t:t.childNodes;const o=i[n];if(sc(o)){o.data=Qg+o.data;return o}else{const o=e.createTextNode(Qg);if(Array.isArray(t)){i.splice(n,0,o)}else{_c(t,n,o)}return o}}function dm(e,t){return Ya(e)&&Ya(t)&&!sc(e)&&!sc(t)&&!Ac(e)&&!Ac(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function um(e,t){return Ya(e)&&Ya(t)&&sc(e)&&sc(t)}function hm(e,t,n){if(t===n){return true}else if(sc(t)&&sc(n)){return t.data===n.data}else if(e.isBlockFiller(t)&&e.isBlockFiller(n)){return true}return false}function fm(e,t){const n=e.parent;if(n.nodeType!=Node.ELEMENT_NODE||e.offset!=n.childNodes.length-1){return}const i=n.childNodes[e.offset];if(i&&i.tagName=="BR"){t.addRange(t.getRangeAt(0))}}function gm(e,t){const n=Array.from(e);if(n.length==0||!t){return n}const i=n[n.length-1];if(i==t){n.pop()}return n}function mm(e){const t=e.createElement("div");t.className="ck-fake-selection-container";Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"});t.textContent=" ";return t}function pm(e,t){const n=e.data;if(n==t){return}const i=p(n,t);for(const t of i){if(t.type==="insert"){e.insertData(t.index,t.values.join(""))}else{e.deleteData(t.index,t.howMany)}}}const bm=Kg(nc.document);const km=Gg(nc.document);const wm=Yg(nc.document);const _m="data-ck-unsafe-attribute-";const Am="data-ck-unsafe-element";class vm{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap;this._viewToDomMapping=new WeakMap;this._fakeSelectionMapping=new WeakMap;this._rawContentElementMatcher=new Ju;this._encounteredRawContentDomNodes=new WeakSet;this.document=e;this.renderingMode=n;this.blockFillerMode=t||(n==="editing"?"br":"nbsp");this.preElements=["pre"];this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"];this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"];this.unsafeElements=["script","style"];this._domDocument=this.renderingMode==="editing"?nc.document:nc.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new dg(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e);this._viewToDomMapping.delete(t);for(const t of Array.from(e.children)){this.unbindDomElement(t)}}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){if(this.renderingMode==="data"){return true}e=e.toLowerCase();if(e.startsWith("on")){return false}if(e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)){return false}if(n==="img"&&(e==="src"||e==="srcset")){return true}if(n==="source"&&e==="srcset"){return true}if(t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i)){return false}return true}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=(new DOMParser).parseFromString(t,"text/html");const i=n.createDocumentFragment();const o=n.body.childNodes;while(o.length>0){i.appendChild(o[0])}const r=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT);const s=[];let a;while(a=r.nextNode()){s.push(a)}for(const e of s){for(const t of e.getAttributeNames()){this.setDomElementAttribute(e,t,e.getAttribute(t))}const t=e.tagName.toLowerCase();if(this._shouldRenameElement(t)){Dm(t);e.replaceWith(this._createReplacementDomElement(t,e))}}while(e.firstChild){e.firstChild.remove()}e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}else{if(this.mapViewToDom(e)){return this.mapViewToDom(e)}let n;if(e.is("documentFragment")){n=this._domDocument.createDocumentFragment();if(t.bind){this.bindDocumentFragments(n,e)}}else if(e.is("uiElement")){if(e.name==="$comment"){n=this._domDocument.createComment(e.getCustomProperty("$rawContent"))}else{n=e.render(this._domDocument,this)}if(t.bind){this.bindElements(n,e)}return n}else{if(this._shouldRenameElement(e.name)){Dm(e.name);n=this._createReplacementDomElement(e.name)}else if(e.hasAttribute("xmlns")){n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name)}else{n=this._domDocument.createElement(e.name)}if(e.is("rawElement")){e.render(n,this)}if(t.bind){this.bindElements(n,e)}for(const t of e.getAttributeKeys()){this.setDomElementAttribute(n,t,e.getAttribute(t),e)}}if(t.withChildren!==false){for(const i of this.viewChildrenToDom(e,t)){n.appendChild(i)}}return n}}setDomElementAttribute(e,t,n,i){const o=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);if(!o){z("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n})}if(!vc(t)){z("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n});return}if(e.hasAttribute(t)&&!o){e.removeAttribute(t)}else if(e.hasAttribute(_m+t)&&o){e.removeAttribute(_m+t)}e.setAttribute(o?t:_m+t,n)}removeDomElementAttribute(e,t){if(t==Am){return}e.removeAttribute(t);e.removeAttribute(_m+t)}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const o of e.getChildren()){if(n===i){yield this._getBlockFiller()}const e=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!gl(o.getAttributes());if(e&&this.renderingMode=="data"){yield*this.viewChildrenToDom(o,t)}else{if(e){z("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o})}yield this.viewToDom(o,t)}i++}if(n===i){yield this._getBlockFiller()}}viewRangeToDom(e){const t=this.viewPositionToDom(e.start);const n=this.viewPositionToDom(e.end);const i=this._domDocument.createRange();i.setStart(t.parent,t.offset);i.setEnd(n.parent,n.offset);return i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n){return null}let i=e.offset;if(Jg(n)){i+=Zg}return{parent:n,offset:i}}else{let n,i,o;if(e.offset===0){n=this.mapViewToDom(t);if(!n){return null}o=n.childNodes[0]}else{const t=e.nodeBefore;i=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t);if(!i){return null}n=i.parentNode;o=i.nextSibling}if(sc(o)&&Jg(o)){return{parent:o,offset:Zg}}const r=i?wc(i)+1:0;return{parent:n,offset:r}}}domToView(e,t={}){if(this.isBlockFiller(e)){return null}const n=this.getHostViewElement(e);if(n){return n}if(Ac(e)&&t.skipComments){return null}if(sc(e)){if(Xg(e)){return null}else{const t=this._processDataFromDomText(e);return t===""?null:new Zu(this.document,t)}}else{if(this.mapDomToView(e)){return this.mapDomToView(e)}let n;if(this.isDocumentFragment(e)){n=new Ng(this.document);if(t.bind){this.bindDocumentFragments(e,n)}}else{n=this._createViewElement(e,t);if(t.bind){this.bindElements(e,n)}const i=e.attributes;if(i){for(let e=i.length,t=0;t<e;t++){n._setAttribute(i[t].name,i[t].value)}}if(this._isViewElementWithRawContent(n,t)||Ac(e)){const t=Ac(e)?e.data:e.innerHTML;n._setCustomProperty("$rawContent",t);this._encounteredRawContentDomNodes.add(e);return n}}if(t.withChildren!==false){for(const i of this.domChildrenToView(e,t)){n._appendChild(i)}}return n}}*domChildrenToView(e,t){for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];const o=this.domToView(i,t);if(o!==null){yield o}}}domSelectionToView(e){if(e.rangeCount===1){let t=e.getRangeAt(0).startContainer;if(sc(t)){t=t.parentNode}const n=this.fakeSelectionToView(t);if(n){return n}}const t=this.isDomSelectionBackward(e);const n=[];for(let t=0;t<e.rangeCount;t++){const i=e.getRangeAt(t);const o=this.domRangeToView(i);if(o){n.push(o)}}return new dg(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset);const n=this.domPositionToView(e.endContainer,e.endOffset);if(t&&n){return new cg(t,n)}return null}domPositionToView(e,t=0){if(this.isBlockFiller(e)){return this.domPositionToView(e.parentNode,wc(e))}const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement"))){return ag._createBefore(n)}if(sc(e)){if(Xg(e)){return this.domPositionToView(e.parentNode,wc(e))}const n=this.findCorrespondingViewText(e);let i=t;if(!n){return null}if(Jg(e)){i-=Zg;i=i<0?0:i}return new ag(n,i)}else{if(t===0){const t=this.mapDomToView(e);if(t){return new ag(t,0)}}else{const n=e.childNodes[t-1];if(sc(n)&&Xg(n)||n&&this.isBlockFiller(n)){return this.domPositionToView(n.parentNode,wc(n))}const i=sc(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent){return new ag(i.parent,i.index+1)}}return null}}mapDomToView(e){const t=this.getHostViewElement(e);return t||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Xg(e)){return null}const t=this.getHostViewElement(e);if(t){return t}const n=e.previousSibling;if(n){if(!this.isElement(n)){return null}const e=this.mapDomToView(n);if(e){const t=e.nextSibling;if(t instanceof Zu){return t}else{return null}}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);if(e instanceof Zu){return e}else{return null}}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;if(t&&this.mapViewToDom(t)){return this.mapViewToDom(t).nextSibling}if(!t&&e.parent&&this.mapViewToDom(e.parent)){return this.mapViewToDom(e.parent).childNodes[0]}return null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=nc.window;const i=[];ym(t,(e=>{const{scrollLeft:t,scrollTop:n}=e;i.push([t,n])}));t.focus();ym(t,(e=>{const[t,n]=i.shift();e.scrollLeft=t;e.scrollTop=n}));nc.window.scrollTo(e,n)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){if(this.blockFillerMode=="br"){return e.isEqualNode(bm)}if(e.tagName==="BR"&&Em(e,this.blockElements)&&e.parentNode.childNodes.length===1){return true}return e.isEqualNode(wm)||xm(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed){return false}const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset);t.setEnd(e.focusNode,e.focusOffset)}catch(e){return false}const n=t.collapsed;t.detach();return n}getHostViewElement(e){const t=oc(e);t.pop();while(t.length){const e=t.pop();const n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement"))){return n}}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Gg(this._domDocument);case"markedNbsp":return Yg(this._domDocument);case"br":return Kg(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(sc(e)&&Jg(e)&&t<Zg){return false}if(this.isElement(e)&&Jg(e.childNodes[t])){return false}const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement"))){return false}return true}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some((e=>this.preElements.includes(e.name)))){return t}if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,false);const i=n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n);if(i||!n){t=" "+t.substr(1)}}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,true);const i=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";if(t.charAt(t.length-2)==" "||!n||i){t=t.substr(0,t.length-1)+" "}}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some((e=>this.preElements.includes(e.name)))){return false}const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(Cm(e,this.preElements)){return em(e)}t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,false);const i=this._getTouchingInlineDomNode(e,true);const o=this._checkShouldLeftTrimDomText(e,n);const r=this._checkShouldRightTrimDomText(e,i);if(o){t=t.replace(/^ /,"")}if(r){t=t.replace(/ $/,"")}t=em(new Text(t));t=t.replace(/ \u00A0/g,"  ");const s=i&&this.isElement(i)&&i.tagName!="BR";const a=i&&sc(i)&&i.data.charAt(0)==" ";if(/( |\u00A0)\u00A0$/.test(t)||!i||s||a){t=t.replace(/\u00A0$/," ")}if(o||n&&this.isElement(n)&&n.tagName!="BR"){t=t.replace(/^\u00A0/," ")}return t}_checkShouldLeftTrimDomText(e,t){if(!t){return true}if(this.isElement(t)){return t.tagName==="BR"}if(this._encounteredRawContentDomNodes.has(e.previousSibling)){return false}return/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(e,t){if(t){return false}return!Jg(e)}_getTouchingInlineViewNode(e,t){const n=new sg({startPosition:t?ag._createAfter(e):ag._createBefore(e),direction:t?"forward":"backward"});for(const e of n){if(e.item.is("element")&&this.inlineObjectElements.includes(e.item.name)){return e.item}else if(e.item.is("containerElement")){return null}else if(e.item.is("element","br")){return null}else if(e.item.is("$textProxy")){return e.item}}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode){return null}const n=t?"firstChild":"lastChild";const i=t?"nextSibling":"previousSibling";let o=true;let r=e;do{if(!o&&r[n]){r=r[n]}else if(r[i]){r=r[i];o=false}else{r=r.parentNode;o=true}if(!r||this._isBlockElement(r)){return null}}while(!(sc(r)||r.tagName=="BR"||this._isInlineObjectElement(r)));return r}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Ac(e)){return new Dg(this.document,"$comment")}const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Qf(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==false&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");n.setAttribute(Am,e);if(t){while(t.firstChild){n.appendChild(t.firstChild)}for(const e of t.getAttributeNames()){n.setAttribute(e,t.getAttribute(e))}}return n}}function Cm(e,t){const n=oc(e);return n.some((e=>e.tagName&&t.includes(e.tagName.toLowerCase())))}function ym(e,t){let n=e;while(n){t(n);n=n.parentElement}}function xm(e,t){const n=e.isEqualNode(km);return n&&Em(e,t)&&e.parentNode.childNodes.length===1}function Em(e,t){const n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function Dm(e){if(e==="script"){z("domconverter-unsafe-script-element-detected")}if(e==="style"){z("domconverter-unsafe-style-element-detected")}}class Tm extends(Qa()){constructor(e){super();this._isEnabled=false;this.view=e;this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=true}disable(){this._isEnabled=false}destroy(){this.disable();this.stopListening()}checkShouldIgnoreEventFromTarget(e){if(e&&e.nodeType===3){e=e.parentNode}if(!e||e.nodeType!==1){return false}return e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Mm=jf((function(e,t){bi(t,tr(t),e)}));const Im=Mm;class Sm{constructor(e,t,n){this.view=e;this.document=e.document;this.domEvent=t;this.domTarget=t.target;Im(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Bm extends Tm{constructor(){super(...arguments);this.useCapture=false}observe(e){const t=typeof this.domEventType=="string"?[this.domEventType]:this.domEventType;t.forEach((t=>{this.listenTo(e,t,((e,t)=>{if(this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)){this.onDomEvent(t)}}),{useCapture:this.useCapture})}))}stopObserving(e){this.stopListening(e)}fire(e,t,n){if(this.isEnabled){this.document.fire(e,new Sm(this.view,t,n))}}}class Nm extends Bm{constructor(){super(...arguments);this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Yc(this)}};this.fire(e.type,e,t)}}var zm=function(){return Be.Date.now()};const Pm=zm;var Lm=/\s/;function Om(e){var t=e.length;while(t--&&Lm.test(e.charAt(t))){}return t}const Rm=Om;var jm=/^\s+/;function Fm(e){return e?e.slice(0,Rm(e)+1).replace(jm,""):e}const Vm=Fm;var Hm=0/0;var Um=/^[-+]0x[0-9a-f]+$/i;var Wm=/^0b[01]+$/i;var $m=/^0o[0-7]+$/i;var qm=parseInt;function Gm(e){if(typeof e=="number"){return e}if(dh(e)){return Hm}if(se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=se(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=Vm(e);var n=Wm.test(e);return n||$m.test(e)?qm(e.slice(2),n?2:8):Um.test(e)?Hm:+e}const Ym=Gm;var Km="Expected a function";var Zm=Math.max,Qm=Math.min;function Jm(e,t,n){var i,o,r,s,a,c,l=0,d=false,u=false,h=true;if(typeof e!="function"){throw new TypeError(Km)}t=Ym(t)||0;if(se(n)){d=!!n.leading;u="maxWait"in n;r=u?Zm(Ym(n.maxWait)||0,t):r;h="trailing"in n?!!n.trailing:h}function f(t){var n=i,r=o;i=o=undefined;l=t;s=e.apply(r,n);return s}function g(e){l=e;a=setTimeout(b,t);return d?f(e):s}function m(e){var n=e-c,i=e-l,o=t-n;return u?Qm(o,r-i):o}function p(e){var n=e-c,i=e-l;return c===undefined||n>=t||n<0||u&&i>=r}function b(){var e=Pm();if(p(e)){return k(e)}a=setTimeout(b,m(e))}function k(e){a=undefined;if(h&&i){return f(e)}i=o=undefined;return s}function w(){if(a!==undefined){clearTimeout(a)}l=0;i=c=o=a=undefined}function _(){return a===undefined?s:k(Pm())}function A(){var e=Pm(),n=p(e);i=arguments;o=this;c=e;if(n){if(a===undefined){return g(c)}if(u){clearTimeout(a);a=setTimeout(b,t);return f(c)}}if(a===undefined){a=setTimeout(b,t)}return s}A.cancel=w;A.flush=_;return A}const Xm=Jm;class ep extends Tm{constructor(e){super(e);this._fireSelectionChangeDoneDebounced=Xm((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const e=this.document;e.on("arrowKey",((t,n)=>{const i=e.selection;if(i.isFake&&this.isEnabled){n.preventDefault()}}),{context:"$capture"});e.on("arrowKey",((t,n)=>{const i=e.selection;if(i.isFake&&this.isEnabled){this._handleSelectionMove(n.keyCode)}}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy();this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection;const n=new dg(t.getRanges(),{backward:t.isBackward,fake:false});if(e==qc.arrowleft||e==qc.arrowup){n.setTo(n.getFirstPosition())}if(e==qc.arrowright||e==qc.arrowdown){n.setTo(n.getLastPosition())}const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i);this._fireSelectionChangeDoneDebounced(i)}}var tp="__lodash_hash_undefined__";function np(e){this.__data__.set(e,tp);return this}const ip=np;function op(e){return this.__data__.has(e)}const rp=op;function sp(e){var t=-1,n=e==null?0:e.length;this.__data__=new ei;while(++t<n){this.add(e[t])}}sp.prototype.add=sp.prototype.push=ip;sp.prototype.has=rp;const ap=sp;function cp(e,t){var n=-1,i=e==null?0:e.length;while(++n<i){if(t(e[n],n,e)){return true}}return false}const lp=cp;function dp(e,t){return e.has(t)}const up=dp;var hp=1,fp=2;function gp(e,t,n,i,o,r){var s=n&hp,a=e.length,c=t.length;if(a!=c&&!(s&&c>a)){return false}var l=r.get(e);var d=r.get(t);if(l&&d){return l==t&&d==e}var u=-1,h=true,f=n&fp?new ap:undefined;r.set(e,t);r.set(t,e);while(++u<a){var g=e[u],m=t[u];if(i){var p=s?i(m,g,u,t,e,r):i(g,m,u,e,t,r)}if(p!==undefined){if(p){continue}h=false;break}if(f){if(!lp(t,(function(e,t){if(!up(f,t)&&(g===e||o(g,e,n,i,r))){return f.push(t)}}))){h=false;break}}else if(!(g===m||o(g,m,n,i,r))){h=false;break}}r["delete"](e);r["delete"](t);return h}const mp=gp;function pp(e){var t=-1,n=Array(e.size);e.forEach((function(e,i){n[++t]=[i,e]}));return n}const bp=pp;function kp(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=e}));return n}const wp=kp;var _p=1,Ap=2;var vp="[object Boolean]",Cp="[object Date]",yp="[object Error]",xp="[object Map]",Ep="[object Number]",Dp="[object RegExp]",Tp="[object Set]",Mp="[object String]",Ip="[object Symbol]";var Sp="[object ArrayBuffer]",Bp="[object DataView]";var Np=ze?ze.prototype:undefined,zp=Np?Np.valueOf:undefined;function Pp(e,t,n,i,o,r,s){switch(n){case Bp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case Sp:if(e.byteLength!=t.byteLength||!r(new ls(e),new ls(t))){return false}return true;case vp:case Cp:case Ep:return wt(+e,+t);case yp:return e.name==t.name&&e.message==t.message;case Dp:case Mp:return e==t+"";case xp:var a=bp;case Tp:var c=i&_p;a||(a=wp);if(e.size!=t.size&&!c){return false}var l=s.get(e);if(l){return l==t}i|=Ap;s.set(e,t);var d=mp(a(e),a(t),i,o,r,s);s["delete"](e);return d;case Ip:if(zp){return zp.call(e)==zp.call(t)}}return false}const Lp=Pp;var Op=1;var Rp=Object.prototype;var jp=Rp.hasOwnProperty;function Fp(e,t,n,i,o,r){var s=n&Op,a=zr(e),c=a.length,l=zr(t),d=l.length;if(c!=d&&!s){return false}var u=c;while(u--){var h=a[u];if(!(s?h in t:jp.call(t,h))){return false}}var f=r.get(e);var g=r.get(t);if(f&&g){return f==t&&g==e}var m=true;r.set(e,t);r.set(t,e);var p=s;while(++u<c){h=a[u];var b=e[h],k=t[h];if(i){var w=s?i(k,b,h,t,e,r):i(b,k,h,e,t,r)}if(!(w===undefined?b===k||o(b,k,n,i,r):w)){m=false;break}p||(p=h=="constructor")}if(m&&!p){var _=e.constructor,A=t.constructor;if(_!=A&&("constructor"in e&&"constructor"in t)&&!(typeof _=="function"&&_ instanceof _&&typeof A=="function"&&A instanceof A)){m=false}}r["delete"](e);r["delete"](t);return m}const Vp=Fp;var Hp=1;var Up="[object Arguments]",Wp="[object Array]",$p="[object Object]";var qp=Object.prototype;var Gp=qp.hasOwnProperty;function Yp(e,t,n,i,o,r){var s=Qe(e),a=Qe(t),c=s?Wp:is(e),l=a?Wp:is(t);c=c==Up?$p:c;l=l==Up?$p:l;var d=c==$p,u=l==$p,h=c==l;if(h&&Li(e)){if(!Li(t)){return false}s=true;d=false}if(h&&!d){r||(r=new ri);return s||To(e)?mp(e,t,n,i,o,r):Lp(e,t,c,n,i,o,r)}if(!(n&Hp)){var f=d&&Gp.call(e,"__wrapped__"),g=u&&Gp.call(t,"__wrapped__");if(f||g){var m=f?e.value():e,p=g?t.value():t;r||(r=new ri);return o(m,p,n,i,r)}}if(!h){return false}r||(r=new ri);return Vp(e,t,n,i,o,r)}const Kp=Yp;function Zp(e,t,n,i,o){if(e===t){return true}if(e==null||t==null||!Xe(e)&&!Xe(t)){return e!==e&&t!==t}return Kp(e,t,n,i,Zp,o)}const Qp=Zp;function Jp(e,t,n){n=typeof n=="function"?n:undefined;var i=n?n(e,t):undefined;return i===undefined?Qp(e,t,undefined,n):!!i}const Xp=Jp;class eb extends Tm{constructor(e){super(e);this._config={childList:true,characterData:true,subtree:true};this.domConverter=e.domConverter;this.renderer=e._renderer;this._domElements=new Set;this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e);if(this.isEnabled){this._mutationObserver.observe(e,this._config)}}stopObserving(e){this._domElements.delete(e);if(this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements){this._mutationObserver.observe(e,this._config)}}}enable(){super.enable();for(const e of this._domElements){this._mutationObserver.observe(e,this._config)}}disable(){super.disable();this._mutationObserver.disconnect()}destroy(){super.destroy();this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0){return}const t=this.domConverter;const n=new Set;const i=new Set;for(const n of e){const e=t.mapDomToView(n.target);if(!e){continue}if(e.is("uiElement")||e.is("rawElement")){continue}if(n.type==="childList"&&!this._isBogusBrMutation(n)){i.add(e)}}for(const o of e){const e=t.mapDomToView(o.target);if(e&&(e.is("uiElement")||e.is("rawElement"))){continue}if(o.type==="characterData"){const e=t.findCorrespondingViewText(o.target);if(e&&!i.has(e.parent)){n.add(e)}else if(!e&&Jg(o.target)){i.add(t.mapDomToView(o.target.parentNode))}}}let o=false;for(const e of n){o=true;this.renderer.markToSync("text",e)}for(const e of i){const n=t.mapViewToDom(e);const i=Array.from(e.getChildren());const r=Array.from(t.domChildrenToView(n,{withChildren:false}));if(!Xp(i,r,tb)){o=true;this.renderer.markToSync("children",e)}}if(o){this.view.forceRender()}}_isBogusBrMutation(e){let t=null;if(e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1){t=this.domConverter.domToView(e.addedNodes[0],{withChildren:false})}return t&&t.is("element","br")}}function tb(e,t){if(Array.isArray(e)){return}if(e===t){return true}else if(e.is("$text")&&t.is("$text")){return e.data===t.data}return false}class nb extends Bm{constructor(e){super(e);this._isFocusChanging=false;this.domEventType=["focus","blur"];this.useCapture=true;const t=this.document;t.on("focus",(()=>{this._isFocusChanging=true;this._renderTimeoutId=setTimeout((()=>{this.flush();e.change((()=>{}))}),50)}));t.on("blur",((n,i)=>{const o=t.selection.editableElement;if(o===null||o===i.target){t.isFocused=false;this._isFocusChanging=false;e.change((()=>{}))}}))}flush(){if(this._isFocusChanging){this._isFocusChanging=false;this.document.isFocused=true}}onDomEvent(e){this.fire(e.type,e)}destroy(){if(this._renderTimeoutId){clearTimeout(this._renderTimeoutId)}super.destroy()}}class ib extends Tm{constructor(e){super(e);this.mutationObserver=e.getObserver(eb);this.focusObserver=e.getObserver(nb);this.selection=this.document.selection;this.domConverter=e.domConverter;this._documents=new WeakSet;this._fireSelectionChangeDoneDebounced=Xm((e=>{this.document.fire("selectionChangeDone",e)}),200);this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3);this._documentIsSelectingInactivityTimeoutDebounced=Xm((()=>this.document.isSelecting=false),5e3);this._loopbackCounter=0}observe(e){const t=e.ownerDocument;const n=()=>{this.document.isSelecting=true;this._documentIsSelectingInactivityTimeoutDebounced()};const i=()=>{if(!this.document.isSelecting){return}this._handleSelectionChange(null,t);this.document.isSelecting=false;this._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(e,"selectstart",n,{priority:"highest"});this.listenTo(e,"keydown",i,{priority:"highest",useCapture:true});this.listenTo(e,"keyup",i,{priority:"highest",useCapture:true});if(this._documents.has(t)){return}this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:true});this.listenTo(t,"selectionchange",((e,n)=>{if(this.document.isComposing&&!a.isAndroid){return}this._handleSelectionChange(n,t);this._documentIsSelectingInactivityTimeoutDebounced()}));this._documents.add(t)}stopObserving(e){this.stopListening(e)}destroy(){super.destroy();clearInterval(this._clearInfiniteLoopInterval);this._fireSelectionChangeDoneDebounced.cancel();this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled){return}const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode)){return}this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(i.rangeCount==0){this.view.hasDomSelection=false;return}this.view.hasDomSelection=true;if(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(n)){return}if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}this.focusObserver.flush();if(this.selection.isSimilar(i)){this.view.forceRender()}else{const e={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",e);this._fireSelectionChangeDoneDebounced(e)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class ob extends Bm{constructor(e){super(e);this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",(()=>{t.isComposing=true}),{priority:"low"});t.on("compositionend",(()=>{t.isComposing=false}),{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class rb{constructor(e,t={}){this._files=t.cacheFiles?sb(e):null;this._native=e}get files(){if(!this._files){this._files=sb(this._native)}return this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function sb(e){const t=Array.from(e.files||[]);const n=Array.from(e.items||[]);if(t.length){return t}return n.filter((e=>e.kind==="file")).map((e=>e.getAsFile()))}class ab extends Bm{constructor(){super(...arguments);this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges();const n=this.view;const i=n.document;let o=null;let r=null;let s=[];if(e.dataTransfer){o=new rb(e.dataTransfer)}if(e.data!==null){r=e.data}else if(o){r=o.getData("text/plain")}if(i.selection.isFake){s=Array.from(i.selection.getRanges())}else if(t.length){s=t.map((e=>{const t=n.domConverter.domPositionToView(e.startContainer,e.startOffset);const i=n.domConverter.domPositionToView(e.endContainer,e.endOffset);if(t){return n.createRange(t,i)}else if(i){return n.createRange(i)}})).filter((e=>!!e))}else if(a.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(t).getRanges())}if(a.isAndroid&&e.inputType=="insertCompositionText"&&r&&r.endsWith("\n")){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});return}if(e.inputType=="insertText"&&r&&r.includes("\n")){const t=r.split(/\n{1,2}/g);let n=s;for(let r=0;r<t.length;r++){const s=t[r];if(s!=""){this.fire(e.type,e,{data:s,dataTransfer:o,targetRanges:n,inputType:e.inputType,isComposing:e.isComposing});n=[i.selection.getFirstRange()]}if(r+1<t.length){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:n});n=[i.selection.getFirstRange()]}}return}this.fire(e.type,e,{data:r,dataTransfer:o,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}class cb extends Tm{constructor(e){super(e);this.document.on("keydown",((e,t)=>{if(this.isEnabled&&Qc(t.keyCode)){const n=new hg(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,t);if(n.stop.called){e.stop()}}}))}observe(){}stopObserving(){}}class lb extends Tm{constructor(e){super(e);const t=this.document;t.on("keydown",((e,n)=>{if(!this.isEnabled||n.keyCode!=qc.tab||n.ctrlKey){return}const i=new hg(t,"tab",t.selection.getFirstRange());t.fire(i,n);if(i.stop.called){e.stop()}}))}observe(){}stopObserving(){}}var db=1,ub=4;function hb(e){return Ra(e,db|ub)}const fb=hb;class gb extends(fe()){constructor(e){super();this.domRoots=new Map;this._initialDomRootAttributes=new WeakMap;this._observers=new Map;this._ongoingChange=false;this._postFixersInProgress=false;this._renderingDisabled=false;this._hasChangedSinceTheLastRendering=false;this.document=new _g(e);this.domConverter=new vm(this.document);this.set("isRenderingInProgress",false);this.set("hasDomSelection",false);this._renderer=new am(this.domConverter,this.document.selection);this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing");this._writer=new Pg(this.document);this.addObserver(eb);this.addObserver(nb);this.addObserver(ib);this.addObserver(Nm);this.addObserver(ep);this.addObserver(ob);this.addObserver(cb);this.addObserver(ab);this.addObserver(lb);tm(this);Tg(this);this.on("render",(()=>{this._render();this.document.fire("layoutChanged");this._hasChangedSinceTheLastRendering=false}));this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=true}));this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=true}))}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:t,value:o}of Array.from(e.attributes)){i[t]=o;if(t==="class"){this._writer.addClass(o.split(" "),n)}else{this._writer.setAttribute(t,o,n)}}this._initialDomRootAttributes.set(e,i);const o=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n);if(n.isReadOnly){this._writer.addClass("ck-read-only",n)}else{this._writer.removeClass("ck-read-only",n)}};o();this.domRoots.set(t,e);this.domConverter.bindElements(e,n);this._renderer.markToSync("children",n);this._renderer.markToSync("attributes",n);this._renderer.domDocuments.add(e.ownerDocument);n.on("change:children",((e,t)=>this._renderer.markToSync("children",t)));n.on("change:attributes",((e,t)=>this._renderer.markToSync("attributes",t)));n.on("change:text",((e,t)=>this._renderer.markToSync("text",t)));n.on("change:isReadOnly",(()=>this.change(o)));n.on("change",(()=>{this._hasChangedSinceTheLastRendering=true}));for(const n of this._observers.values()){n.observe(e,t)}}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach((({name:e})=>t.removeAttribute(e)));const n=this._initialDomRootAttributes.get(t);for(const e in n){t.setAttribute(e,n[e])}this.domRoots.delete(e);this.domConverter.unbindDomElement(t);for(const e of this._observers.values()){e.stopObserving(t)}}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t){return t}t=new e(this);this._observers.set(e,t);for(const[e,n]of this.domRoots){t.observe(n,e)}t.enable();return t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values()){e.disable()}}enableObservers(){for(const e of this._observers.values()){e.enable()}}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:i=20}={}){const o=this.document.selection.getFirstRange();if(!o){return}const r=fb({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:i});if(typeof n==="number"){n={top:n,bottom:n,left:n,right:n}}const s={target:this.domConverter.viewRangeToDom(o),viewportOffset:n,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,r);Bc(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;if(e){this.domConverter.focus(e);this.forceRender()}else{}}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress){throw new N("cannot-change-view-tree",this)}try{if(this._ongoingChange){return e(this._writer)}this._ongoingChange=true;const t=e(this._writer);this._ongoingChange=false;if(!this._renderingDisabled&&this._hasChangedSinceTheLastRendering){this._postFixersInProgress=true;this.document._callPostFixers(this._writer);this._postFixersInProgress=false;this.fire("render")}return t}catch(e){N.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=true;this.getObserver(nb).flush();this.change((()=>{}))}destroy(){for(const e of this._observers.values()){e.destroy()}this.document.destroy();this.stopListening()}createPositionAt(e,t){return ag._createAt(e,t)}createPositionAfter(e){return ag._createAfter(e)}createPositionBefore(e){return ag._createBefore(e)}createRange(e,t){return new cg(e,t)}createRangeOn(e){return cg._createOn(e)}createRangeIn(e){return cg._createIn(e)}createSelection(...e){return new dg(...e)}_disableRendering(e){this._renderingDisabled=e;if(e==false){this.change((()=>{}))}}_render(){this.isRenderingInProgress=true;this.disableObservers();this._renderer.render();this.enableObservers();this.isRenderingInProgress=false}}class mb{is(){throw new Error("is() method is abstract")}}class pb extends mb{constructor(e){super();this.parent=null;this._attrs=kl(e)}get document(){return null}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))===null){throw new N("model-node-not-found-in-parent",this)}return e}get startOffset(){let e;if(!this.parent){return null}if((e=this.parent.getChildStartOffset(this))===null){throw new N("model-node-not-found-in-parent",this)}return e}get offsetSize(){return 1}get endOffset(){if(!this.parent){return null}return this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent}return e}isAttached(){return this.parent===null?false:this.root.isAttached()}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.startOffset);t=t.parent}return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?"push":"unshift"](n);n=n.parent}return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t);const i=e.getAncestors(t);let o=0;while(n[o]==i[o]&&n[o]){o++}return o===0?null:n[o-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const n=e.getPath();const i=Ee(t,n);switch(i){case"prefix":return true;case"extension":return false;default:return t[i]<n[i]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};if(this._attrs.size){e.attributes=Array.from(this._attrs).reduce(((e,t)=>{e[t[0]]=t[1];return e}),{})}return e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=kl(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}pb.prototype.is=function(e){return e==="node"||e==="model:node"};class bb{constructor(e){this._nodes=[];if(e){this._insertNodes(0,e)}}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((e,t)=>e+t.offsetSize),0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce(((e,t)=>e+t.offsetSize),0)}indexToOffset(e){if(e==this._nodes.length){return this.maxOffset}const t=this._nodes[e];if(!t){throw new N("model-nodelist-index-out-of-bounds",this)}return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize){return this.getNodeIndex(n)}t+=n.offsetSize}if(t!=e){throw new N("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this})}return this.length}_insertNodes(e,t){for(const e of t){if(!(e instanceof pb)){throw new N("model-nodelist-insertnodes-not-node",this)}}this._nodes=_l(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e=>e.toJSON()))}}class kb extends pb{constructor(e,t){super(t);this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();e.data=this.data;return e}_clone(){return new kb(this.data,this.getAttributes())}static fromJSON(e){return new kb(e.data,e.attributes)}}kb.prototype.is=function(e){return e==="$text"||e==="model:$text"||e==="text"||e==="model:text"||e==="node"||e==="model:node"};class wb extends mb{constructor(e,t,n){super();this.textNode=e;if(t<0||t>e.offsetSize){throw new N("model-textproxy-wrong-offsetintext",this)}if(n<0||t+n>e.offsetSize){throw new N("model-textproxy-wrong-length",this)}this.data=e.data.substring(t,t+n);this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();if(e.length>0){e[e.length-1]+=this.offsetInText}return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?"push":"unshift"](n);n=n.parent}return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}wb.prototype.is=function(e){return e==="$textProxy"||e==="model:$textProxy"||e==="textProxy"||e==="model:textProxy"};class _b extends pb{constructor(e,t,n){super(t);this._children=new bb;this.name=e;if(n){this._insertChild(0,n)}}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e){t=t.getChild(t.offsetToIndex(n))}return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;while(n){if(n.name===e){return n}n=n.parent}return null}toJSON(){const e=super.toJSON();e.name=this.name;if(this._children.length>0){e.children=[];for(const t of this._children){e.children.push(t.toJSON())}}return e}_clone(e=false){const t=e?Array.from(this._children).map((e=>e._clone(true))):undefined;return new _b(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=Ab(t);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this}this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n){e.parent=null}return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children){if(n.name){t.push(_b.fromJSON(n))}else{t.push(kb.fromJSON(n))}}}return new _b(e.name,e.attributes,t)}}_b.prototype.is=function(e,t){if(!t){return e==="element"||e==="model:element"||e==="node"||e==="model:node"}return t===this.name&&(e==="element"||e==="model:element")};function Ab(e){if(typeof e=="string"){return[new kb(e)]}if(!De(e)){e=[e]}return Array.from(e).map((e=>{if(typeof e=="string"){return new kb(e)}if(e instanceof wb){return new kb(e.data,e.getAttributes())}return e}))}class vb{constructor(e){if(!e||!e.boundaries&&!e.startPosition){throw new N("model-tree-walker-no-start-position",null)}const t=e.direction||"forward";if(t!="forward"&&t!="backward"){throw new N("model-tree-walker-unknown-direction",e,{direction:t})}this.direction=t;this.boundaries=e.boundaries||null;if(e.startPosition){this._position=e.startPosition.clone()}else{this._position=yb._createAt(this.boundaries[this.direction=="backward"?"end":"start"])}this.position.stickiness="toNone";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,i,o;do{i=this.position;o=this._visitedParent;({done:t,value:n}=this.next())}while(!t&&e(n));if(!t){this._position=i;this._visitedParent=o}}next(){if(this.direction=="forward"){return this._next()}else{return this._previous()}}_next(){const e=this.position;const t=this.position.clone();const n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset){return{done:true,value:undefined}}if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset){return{done:true,value:undefined}}const i=xb(t,n);const o=i||Eb(t,n,i);if(o instanceof _b){if(!this.shallow){t.path.push(0);this._visitedParent=o}else{if(this.boundaries&&this.boundaries.end.isBefore(t)){return{done:true,value:undefined}}t.offset++}this._position=t;return Cb("elementStart",o,e,t,1)}if(o instanceof kb){let i;if(this.singleCharacters){i=1}else{let e=o.endOffset;if(this._boundaryEndParent==n&&this.boundaries.end.offset<e){e=this.boundaries.end.offset}i=e-t.offset}const r=t.offset-o.startOffset;const s=new wb(o,r,i);t.offset+=i;this._position=t;return Cb("text",s,e,t,i)}t.path.pop();t.offset++;this._position=t;this._visitedParent=n.parent;if(this.ignoreElementEnd){return this._next()}return Cb("elementEnd",n,e,t)}_previous(){const e=this.position;const t=this.position.clone();const n=this._visitedParent;if(n.parent===null&&t.offset===0){return{done:true,value:undefined}}if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset){return{done:true,value:undefined}}const i=t.parent;const o=xb(t,i);const r=o||Db(t,i,o);if(r instanceof _b){t.offset--;if(this.shallow){this._position=t;return Cb("elementStart",r,e,t,1)}t.path.push(r.maxOffset);this._position=t;this._visitedParent=r;if(this.ignoreElementEnd){return this._previous()}return Cb("elementEnd",r,e,t)}if(r instanceof kb){let i;if(this.singleCharacters){i=1}else{let e=r.startOffset;if(this._boundaryStartParent==n&&this.boundaries.start.offset>e){e=this.boundaries.start.offset}i=t.offset-e}const o=t.offset-r.startOffset;const s=new wb(r,o-i,i);t.offset-=i;this._position=t;return Cb("text",s,e,t,i)}t.path.pop();this._position=t;this._visitedParent=n.parent;return Cb("elementStart",n,e,t,1)}}function Cb(e,t,n,i,o){return{done:false,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:o}}}class yb extends mb{constructor(e,t,n="toNone"){super();if(!e.is("element")&&!e.is("documentFragment")){throw new N("model-position-root-invalid",e)}if(!(t instanceof Array)||t.length===0){throw new N("model-position-path-incorrect-format",e,{path:t})}if(e.is("rootElement")){t=t.slice()}else{t=[...e.getPath(),...t];e=e.root}this.root=e;this.path=t;this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++){e=e.getChild(e.offsetToIndex(this.path[t]));if(!e){throw new N("model-position-path-incorrect",this,{position:this})}}if(e.is("$text")){throw new N("model-position-path-incorrect",this,{position:this})}return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return xb(this,this.parent)}get nodeAfter(){const e=this.parent;return Eb(this,e,xb(this,e))}get nodeBefore(){const e=this.parent;return Db(this,e,xb(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root){return"different"}const t=Ee(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new vb(t);n.skip(e);return n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;if(e.is("documentFragment")){return[e]}else{return e.getAncestors({includeSelf:true})}}findAncestor(e){const t=this.parent;if(t.is("element")){return t.findAncestor(e,{includeSelf:true})}return null}getCommonPath(e){if(this.root!=e.root){return[]}const t=Ee(this.path,e.path);const n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors();const n=e.getAncestors();let i=0;while(t[i]==n[i]&&t[i]){i++}return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone();const n=t.offset+e;t.offset=n<0?0:n;return t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root){return false}const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const t=this.path[n]-e.path[n];if(t<-1||t>1){return false}else if(t===1){return Tb(e,this,n)}else if(t===-1){return Tb(this,e,n)}}if(this.path.length===e.path.length){return true}else if(this.path.length>e.path.length){return Mb(this.path,t)}else{return Mb(e.path,t)}}hasSameParentAs(e){if(this.root!==e.root){return false}const t=this.getParentPath();const n=e.getParentPath();return Ee(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=yb._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;const n=t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext";if(n){return this._getCombined(e.splitPosition,e.moveTargetPosition)}else{if(e.graveyardPosition){return this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1)}else{return this._getTransformedByInsertion(e.insertionPosition,1)}}}_getTransformedByMergeOperation(e){const t=e.movedRange;const n=t.containsPosition(this)||t.start.isEqual(this);let i;if(n){i=this._getCombined(e.sourcePosition,e.targetPosition);if(e.sourcePosition.isBefore(e.targetPosition)){i=i._getTransformedByDeletion(e.deletionPosition,1)}}else if(this.isEqual(e.deletionPosition)){i=yb._createAt(e.deletionPosition)}else{i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1)}return i}_getTransformedByDeletion(e,t){const n=yb._createAt(this);if(this.root!=e.root){return n}if(Ee(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset){return null}else{n.offset-=t}}}else if(Ee(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i]){return null}else{n.path[i]-=t}}}return n}_getTransformedByInsertion(e,t){const n=yb._createAt(this);if(this.root!=e.root){return n}if(Ee(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious"){n.offset+=t}}else if(Ee(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){n.path[i]+=t}}return n}_getTransformedByMove(e,t,n){t=t._getTransformedByDeletion(e,n);if(e.isEqual(t)){return yb._createAt(this)}const i=this._getTransformedByDeletion(e,n);const o=i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious";if(o){return this._getCombined(e,t)}else{return i._getTransformedByInsertion(t,n)}}_getCombined(e,t){const n=e.path.length-1;const i=yb._createAt(t);i.stickiness=this.stickiness;i.offset=i.offset+this.path[n]-e.offset;i.path=[...i.path,...this.path.slice(n+1)];return i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof yb){return new yb(e.root,e.path,e.stickiness)}else{const i=e;if(t=="end"){t=i.maxOffset}else if(t=="before"){return this._createBefore(i,n)}else if(t=="after"){return this._createAfter(i,n)}else if(t!==0&&!t){throw new N("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment")){throw new N("model-position-parent-incorrect",[this,e])}const o=i.getPath();o.push(t);return new this(i.root,o,n)}}static _createAfter(e,t){if(!e.parent){throw new N("model-position-after-root",[this,e],{root:e})}return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent){throw new N("model-position-before-root",e,{root:e})}return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new yb(t.graveyard,e.path);n.stickiness=e.stickiness;return n}if(!t.getRoot(e.root)){throw new N("model-position-fromjson-no-root",t,{rootName:e.root})}return new yb(t.getRoot(e.root),e.path,e.stickiness)}}yb.prototype.is=function(e){return e==="position"||e==="model:position"};function xb(e,t){const n=t.getChild(t.offsetToIndex(e.offset));if(n&&n.is("$text")&&n.startOffset<e.offset){return n}return null}function Eb(e,t,n){if(n!==null){return null}return t.getChild(t.offsetToIndex(e.offset))}function Db(e,t,n){if(n!==null){return null}return t.getChild(t.offsetToIndex(e.offset)-1)}function Tb(e,t,n){if(n+1===e.path.length){return false}if(!Mb(t.path,n+1)){return false}if(!Ib(e,n+1)){return false}return true}function Mb(e,t){while(t<e.length){if(e[t]!==0){return false}t++}return true}function Ib(e,t){let n=e.parent;let i=e.path.length-1;let o=0;while(i>=t){if(e.path[i]+o!==n.maxOffset){return false}o=1;i--;n=n.parent}return true}class Sb extends mb{constructor(e,t){super();this.start=yb._createAt(e);this.end=t?yb._createAt(t):yb._createAt(e);this.start.stickiness=this.isCollapsed?"toNone":"toNext";this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new vb({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath();const t=this.end.getParentPath();return Ee(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false}const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=yb._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new Sb(this.start,e.start))}if(this.containsPosition(e.end)){t.push(new Sb(e.end,this.end))}}else{t.push(new Sb(this.start,this.end))}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let n=this.end;if(this.containsPosition(e.start)){t=e.start}if(this.containsPosition(e.end)){n=e.end}return new Sb(t,n)}return null}getJoined(e,t=false){let n=this.isIntersecting(e);if(!n){if(this.start.isBefore(e.start)){n=t?this.end.isTouching(e.start):this.end.isEqual(e.start)}else{n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)}}if(!n){return null}let i=this.start;let o=this.end;if(e.start.isBefore(i)){i=e.start}if(e.end.isAfter(o)){o=e.end}return new Sb(i,o)}getMinimalFlatRanges(){const e=[];const t=this.start.getCommonPath(this.end).length;const n=yb._createAt(this.start);let i=n.parent;while(n.path.length>t+1){const t=i.maxOffset-n.offset;if(t!==0){e.push(new Sb(n,n.getShiftedBy(t)))}n.path=n.path.slice(0,-1);n.offset++;i=i.parent}while(n.path.length<=this.end.path.length){const t=this.end.path[n.path.length-1];const i=t-n.offset;if(i!==0){e.push(new Sb(n,n.getShiftedBy(i)))}n.offset=t;n.path.push(0)}return e}getWalker(e={}){e.boundaries=this;return new vb(e)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new vb(e);for(const e of t){yield e.item}}*getPositions(e={}){e.boundaries=this;const t=new vb(e);yield t.position;for(const e of t){yield e.nextPosition}}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Sb(this.start,this.end)]}getTransformedByOperations(e){const t=[new Sb(this.start,this.end)];for(const n of e){for(let e=0;e<t.length;e++){const i=t[e].getTransformedByOperation(n);t.splice(e,1,...i);e+=i.length-1}}for(let e=0;e<t.length;e++){const n=t[e];for(let i=e+1;i<t.length;i++){const e=t[i];if(n.containsRange(e)||e.containsRange(n)||n.isEqual(e)){t.splice(i,1)}}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}const e=this.start.nodeAfter;const t=this.end.nodeBefore;if(e&&e.is("element")&&e===t){return e}return null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=false){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=false){const n=e.sourcePosition;const i=e.howMany;const o=e.targetPosition;return this._getTransformedByMove(n,o,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);if(this.end.isEqual(e.insertionPosition)){n=this.end.getShiftedBy(1)}if(t.root!=n.root){n=this.end.getShiftedBy(-1)}return new Sb(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition)){return new Sb(this.start)}let t=this.start._getTransformedByMergeOperation(e);let n=this.end._getTransformedByMergeOperation(e);if(t.root!=n.root){n=this.end.getShiftedBy(-1)}if(t.isAfter(n)){if(e.sourcePosition.isBefore(e.targetPosition)){t=yb._createAt(n);t.offset=0}else{if(!e.deletionPosition.isEqual(t)){n=e.deletionPosition}t=e.targetPosition}return new Sb(t,n)}return new Sb(t,n)}_getTransformedByInsertion(e,t,n=false){if(n&&this.containsPosition(e)){return[new Sb(this.start,e),new Sb(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))]}else{const n=new Sb(this.start,this.end);n.start=n.start._getTransformedByInsertion(e,t);n.end=n.end._getTransformedByInsertion(e,t);return[n]}}_getTransformedByMove(e,t,n,i=false){if(this.isCollapsed){const i=this.start._getTransformedByMove(e,t,n);return[new Sb(i)]}const o=Sb._createFromPositionAndShift(e,n);const r=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i){if(o.containsPosition(this.start)||o.containsPosition(this.end)){const i=this.start._getTransformedByMove(e,t,n);const o=this.end._getTransformedByMove(e,t,n);return[new Sb(i,o)]}}let s;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(a.length==1){c=new Sb(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n))}else if(a.length==2){c=new Sb(this.start,this.end._getTransformedByDeletion(e,n))}if(c){s=c._getTransformedByInsertion(r,n,l!==null||i)}else{s=[]}if(l){const e=new Sb(l.start._getCombined(o.start,r),l.end._getCombined(o.start,r));if(s.length==2){s.splice(1,0,e)}else{s.push(e)}}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t);let i=this.end._getTransformedByDeletion(e,t);if(n==null&&i==null){return null}if(n==null){n=e}if(i==null){i=e}return new Sb(n,i)}static _createFromPositionAndShift(e,t){const n=e;const i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this(yb._createAt(e,0),yb._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(yb._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0){throw new N("range-create-from-ranges-empty-array",null)}else if(e.length==1){return e[0].clone()}const t=e[0];e.sort(((e,t)=>e.start.isAfter(t.start)?1:-1));const n=e.indexOf(t);const i=new this(t.start,t.end);if(n>0){for(let t=n-1;true;t++){if(e[t].end.isEqual(i.start)){i.start=yb._createAt(e[t].start)}else{break}}}for(let t=n+1;t<e.length;t++){if(e[t].start.isEqual(i.end)){i.end=yb._createAt(e[t].end)}else{break}}return i}static fromJSON(e,t){return new this(yb.fromJSON(e.start,t),yb.fromJSON(e.end,t))}}Sb.prototype.is=function(e){return e==="range"||e==="model:range"};class Bb extends(G()){constructor(){super();this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._viewToModelLengthCallbacks=new Map;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._deferredBindingRemovals=new Map;this._unboundMarkerNames=new Set;this.on("modelToViewPosition",((e,t)=>{if(t.viewPosition){return}const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n){throw new N("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition})}t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)}),{priority:"low"});this.on("viewToModelPosition",((e,t)=>{if(t.modelPosition){return}const n=this.findMappedViewAncestor(t.viewPosition);const i=this._viewToModelMapping.get(n);const o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=yb._createAt(i,o)}),{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t);this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e)){for(const t of this._elementToMarkerNames.get(e)){this._unboundMarkerNames.add(t)}}if(t.defer){this._deferredBindingRemovals.set(e,e.root)}else{this._viewToModelMapping.delete(e);if(this._modelToViewMapping.get(n)==e){this._modelToViewMapping.delete(n)}}}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e);if(this._viewToModelMapping.get(t)==e){this._viewToModelMapping.delete(t)}}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t);this._markerNameToElements.set(t,n);this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);if(n){n.delete(e);if(n.size==0){this._markerNameToElements.delete(t)}}const i=this._elementToMarkerNames.get(e);if(i){i.delete(t);if(i.size==0){this._elementToMarkerNames.delete(e)}}}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);this._unboundMarkerNames.clear();return e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals){if(e.root==t){this.unbindViewElement(e)}}this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set;this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Sb(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new cg(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};this.fire("viewToModelPosition",t);return t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};this.fire("modelToViewPosition",n);return n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t){return null}const n=new Set;for(const e of t){if(e.is("attributeElement")){for(const t of e.getElementsWithSameId()){n.add(t)}}else{n.add(e)}}return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;while(!this._viewToModelMapping.has(t)){t=t.parent}return t}_toModelOffset(e,t,n){if(n!=e){const i=this._toModelOffset(e.parent,e.index,n);const o=this._toModelOffset(e,t,e);return i+o}if(e.is("$text")){return t}let i=0;for(let n=0;n<t;n++){i+=this.getModelLength(e.getChild(n))}return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){const t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}else if(this._viewToModelMapping.has(e)){return 1}else if(e.is("$text")){return e.data.length}else if(e.is("uiElement")){return 0}else{let t=0;for(const n of e.getChildren()){t+=this.getModelLength(n)}return t}}findPositionIn(e,t){let n;let i=0;let o=0;let r=0;if(e.is("$text")){return new ag(e,t)}while(o<t){n=e.getChild(r);i=this.getModelLength(n);o+=i;r++}if(o==t){return this._moveViewPositionToTextNode(new ag(e,r))}else{return this.findPositionIn(n,t-(o-i))}}_moveViewPositionToTextNode(e){const t=e.nodeBefore;const n=e.nodeAfter;if(t instanceof Zu){return new ag(t,t.data.length)}else if(n instanceof Zu){return new ag(n,0)}return e}}class Nb{constructor(){this._consumable=new Map;this._textProxyRegistry=new Map}add(e,t){t=zb(t);if(e instanceof wb){e=this._getSymbolForTextProxy(e)}if(!this._consumable.has(e)){this._consumable.set(e,new Map)}this._consumable.get(e).set(t,true)}consume(e,t){t=zb(t);if(e instanceof wb){e=this._getSymbolForTextProxy(e)}if(this.test(e,t)){this._consumable.get(e).set(t,false);return true}else{return false}}test(e,t){t=zb(t);if(e instanceof wb){e=this._getSymbolForTextProxy(e)}const n=this._consumable.get(e);if(n===undefined){return null}const i=n.get(t);if(i===undefined){return null}return i}revert(e,t){t=zb(t);if(e instanceof wb){e=this._getSymbolForTextProxy(e)}const n=this.test(e,t);if(n===false){this._consumable.get(e).set(t,true);return true}else if(n===true){return false}return null}verifyAllConsumed(e){const t=[];for(const[n,i]of this._consumable){for(const[o,r]of i){const i=o.split(":")[0];if(r&&e==i){t.push({event:o,item:n.name||n.description})}}}if(t.length){throw new N("conversion-model-consumable-not-consumed",null,{items:t})}}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);if(i){t=i.get(e.parent)}}if(!t){t=this._addSymbolForTextProxy(e)}return t}_addSymbolForTextProxy(e){const t=e.startOffset;const n=e.endOffset;const i=e.parent;const o=Symbol("$textProxy:"+e.data);let r;let s;r=this._textProxyRegistry.get(t);if(!r){r=new Map;this._textProxyRegistry.set(t,r)}s=r.get(n);if(!s){s=new Map;r.set(n,s)}s.set(i,o);return o}}function zb(e){const t=e.split(":");if(t[0]=="insert"){return t[0]}if(t[0]=="addMarker"||t[0]=="removeMarker"){return e}return t.length>1?t[0]+":"+t[1]:t[0]}class Pb extends(G()){constructor(e){super();this._conversionApi={dispatcher:this,...e};this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const i=this._createConversionApi(n,e.getRefreshedItems());for(const t of e.getMarkersToRemove()){this._convertMarkerRemove(t.name,t.range,i)}const o=this._reduceChanges(e.getChanges());for(const e of o){if(e.type==="insert"){this._convertInsert(Sb._createFromPositionAndShift(e.position,e.length),i)}else if(e.type==="reinsert"){this._convertReinsert(Sb._createFromPositionAndShift(e.position,e.length),i)}else if(e.type==="remove"){this._convertRemove(e.position,e.length,e.name,i)}else{this._convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,i)}}for(const e of i.mapper.flushUnboundMarkerNames()){const n=t.get(e).getRange();this._convertMarkerRemove(e,n,i);this._convertMarkerAdd(e,n,i)}for(const t of e.getMarkersToAdd()){this._convertMarkerAdd(t.name,t.range,i)}i.mapper.flushDeferredBindings();i.consumable.verifyAllConsumed("insert")}convert(e,t,n,i={}){const o=this._createConversionApi(n,undefined,i);this._convertInsert(e,o);for(const[e,n]of t){this._convertMarkerAdd(e,n,o)}o.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const i=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));const o=this._createConversionApi(n);this._addConsumablesForSelection(o.consumable,e,i);this.fire("selection",{selection:e},o);if(!e.isCollapsed){return}for(const t of i){const n=t.getRange();if(!Lb(e.getFirstPosition(),t,o.mapper)){continue}const i={item:e,markerName:t.name,markerRange:n};if(o.consumable.test(e,"addMarker:"+t.name)){this.fire(`addMarker:${t.name}`,i,o)}}for(const t of e.getAttributeKeys()){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};if(o.consumable.test(e,"attribute:"+n.attributeKey)){this.fire(`attribute:${n.attributeKey}:$text`,n,o)}}}_convertInsert(e,t,n={}){if(!n.doNotAddConsumables){this._addConsumablesForInsert(t.consumable,Array.from(e))}for(const n of Array.from(e.getWalker({shallow:true})).map(Rb)){this._testAndFire("insert",n,t)}}_convertRemove(e,t,n,i){this.fire(`remove:${n}`,{position:e,length:t},i)}_convertAttribute(e,t,n,i,o){this._addConsumablesForRange(o.consumable,e,`attribute:${t}`);for(const r of e){const e={item:r.item,range:Sb._createFromPositionAndShift(r.previousPosition,r.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,e,o)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:true}));this._addConsumablesForInsert(t.consumable,n);for(const e of n.map(Rb)){this._testAndFire("insert",{...e,reconversion:true},t)}}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard"){return}const i=`addMarker:${e}`;n.consumable.add(t,i);this.fire(i,{markerName:e,markerRange:t},n);if(!n.consumable.consume(t,i)){return}this._addConsumablesForRange(n.consumable,t,i);for(const o of t.getItems()){if(!n.consumable.test(o,i)){continue}const r={item:o,range:Sb._createOn(o),markerName:e,markerRange:t};this.fire(i,r,n)}}_convertMarkerRemove(e,t,n){if(t.root.rootName=="$graveyard"){return}this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};this.fire("reduceChanges",t);return t.changes}_addConsumablesForInsert(e,t){for(const n of t){const t=n.item;if(e.test(t,"insert")===null){e.add(t,"insert");for(const n of t.getAttributeKeys()){e.add(t,"attribute:"+n)}}}return e}_addConsumablesForRange(e,t,n){for(const i of t.getItems()){e.add(i,n)}return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const i of n){e.add(t,"addMarker:"+i.name)}for(const n of t.getAttributeKeys()){e.add(t,"attribute:"+n)}return e}_testAndFire(e,t,n){const i=Ob(e,t);const o=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item;const r=this._firedEventsMap.get(n);const s=r.get(o);if(!s){r.set(o,new Set([i]))}else if(!s.has(i)){s.add(i)}else{return}this.fire(i,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Sb._createOn(e)};for(const e of n.item.getAttributeKeys()){n.attributeKey=e;n.attributeOldValue=null;n.attributeNewValue=n.item.getAttribute(e);this._testAndFire(`attribute:${e}`,n,t)}}_createConversionApi(e,t=new Set,n={}){const i={...this._conversionApi,consumable:new Nb,writer:e,options:n,convertItem:e=>this._convertInsert(Sb._createOn(e),i),convertChildren:e=>this._convertInsert(Sb._createIn(e),i,{doNotAddConsumables:true}),convertAttributes:e=>this._testAndFireAddAttributes(e,i),canReuseView:e=>!t.has(i.mapper.toModelElement(e))};this._firedEventsMap.set(i,new Map);return i}}function Lb(e,t,n){const i=t.getRange();const o=Array.from(e.getAncestors());o.shift();o.reverse();const r=o.some((e=>{if(i.containsItem(e)){const t=n.toViewElement(e);return!!t.getCustomProperty("addHighlight")}}));return!r}function Ob(e,t){const n=t.item.is("element")?t.item.name:"$text";return`${e}:${n}`}function Rb(e){const t=e.item;const n=Sb._createFromPositionAndShift(e.previousPosition,e.length);return{item:t,range:n}}class jb extends(G(mb)){constructor(...e){super();this._lastRangeBackward=false;this._attrs=new Map;this._ranges=[];if(e.length){this.setTo(...e)}}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){const e=this._ranges.length;if(e===1){return this._ranges[0].isCollapsed}else{return false}}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let n=false;for(const i of e._ranges){if(t.isEqual(i)){n=true;break}}if(!n){return false}}return true}*getRanges(){for(const e of this._ranges){yield new Sb(e.start,e.end)}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t}}return e?new Sb(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t}}return e?new Sb(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,i]=e;if(typeof n=="object"){i=n;n=undefined}if(t===null){this._setRanges([])}else if(t instanceof jb){this._setRanges(t.getRanges(),t.isBackward)}else if(t&&typeof t.getRanges=="function"){this._setRanges(t.getRanges(),t.isBackward)}else if(t instanceof Sb){this._setRanges([t],!!i&&!!i.backward)}else if(t instanceof yb){this._setRanges([new Sb(t)])}else if(t instanceof pb){const e=!!i&&!!i.backward;let o;if(n=="in"){o=Sb._createIn(t)}else if(n=="on"){o=Sb._createOn(t)}else if(n!==undefined){o=new Sb(yb._createAt(t,n))}else{throw new N("model-selection-setto-required-second-parameter",[this,t])}this._setRanges([o],e)}else if(De(t)){this._setRanges(t,i&&!!i.backward)}else{throw new N("model-selection-setto-not-selectable",[this,t])}}_setRanges(e,t=false){const n=Array.from(e);const i=n.some((t=>{if(!(t instanceof Sb)){throw new N("model-selection-set-ranges-not-range",[this,e])}return this._ranges.every((e=>!e.isEqual(t)))}));if(n.length===this._ranges.length&&!i){return}this._replaceAllRanges(n);this._lastRangeBackward=!!t;this.fire("change:range",{directChange:true})}setFocus(e,t){if(this.anchor===null){throw new N("model-selection-setfocus-no-ranges",[this,e])}const n=yb._createAt(e,t);if(n.compareWith(this.focus)=="same"){return}const i=this.anchor;if(this._ranges.length){this._popRange()}if(n.compareWith(i)=="before"){this._pushRange(new Sb(n,i));this._lastRangeBackward=true}else{this._pushRange(new Sb(i,n));this._lastRangeBackward=false}this.fire("change:range",{directChange:true})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){if(this.hasAttribute(e)){this._attrs.delete(e);this.fire("change:attribute",{attributeKeys:[e],directChange:true})}}setAttribute(e,t){if(this.getAttribute(e)!==t){this._attrs.set(e,t);this.fire("change:attribute",{attributeKeys:[e],directChange:true})}}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Hb(t.start,e);if(Wb(n,t)){yield n}for(const n of t.getWalker()){const i=n.item;if(n.type=="elementEnd"&&Vb(i,e,t)){yield i}}const i=Hb(t.end,e);if($b(i,t)){yield i}}}containsEntireContent(e=this.anchor.root){const t=yb._createAt(e,0);const n=yb._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e);this._ranges.push(new Sb(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++){if(e.isIntersecting(this._ranges[t])){throw new N("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}}}_replaceAllRanges(e){this._removeAllRanges();for(const t of e){this._pushRange(t)}}_removeAllRanges(){while(this._ranges.length>0){this._popRange()}}_popRange(){this._ranges.pop()}}jb.prototype.is=function(e){return e==="selection"||e==="model:selection"};function Fb(e,t){if(t.has(e)){return false}t.add(e);return e.root.document.model.schema.isBlock(e)&&!!e.parent}function Vb(e,t,n){return Fb(e,t)&&Ub(e,n)}function Hb(e,t){const n=e.parent;const i=n.root.document.model.schema;const o=e.parent.getAncestors({parentFirst:true,includeSelf:true});let r=false;const s=o.find((e=>{if(r){return false}r=i.isLimit(e);return!r&&Fb(e,t)}));o.forEach((e=>t.add(e)));return s}function Ub(e,t){const n=qb(e);if(!n){return true}const i=t.containsRange(Sb._createOn(n),true);return!i}function Wb(e,t){if(!e){return false}if(t.isCollapsed||e.isEmpty){return true}if(t.start.isTouching(yb._createAt(e,e.maxOffset))){return false}return Ub(e,t)}function $b(e,t){if(!e){return false}if(t.isCollapsed||e.isEmpty){return true}if(t.end.isTouching(yb._createAt(e,0))){return false}return Ub(e,t)}function qb(e){const t=e.root.document.model.schema;let n=e.parent;while(n){if(t.isBlock(n)){return n}n=n.parent}}class Gb extends(G(Sb)){constructor(e,t){super(e,t);Yb.call(this)}detach(){this.stopListening()}toRange(){return new Sb(this.start,this.end)}static fromRange(e){return new Gb(e.start,e.end)}}Gb.prototype.is=function(e){return e==="liveRange"||e==="model:liveRange"||e=="range"||e==="model:range"};function Yb(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}Kb.call(this,n)}),{priority:"low"})}function Kb(e){const t=this.getTransformedByOperation(e);const n=Sb._createFromRanges(t);const i=!n.isEqual(this);const o=Zb(this,e);let r=null;if(i){if(n.root.rootName=="$graveyard"){if(e.type=="remove"){r=e.sourcePosition}else{r=e.deletionPosition}}const t=this.toRange();this.start=n.start;this.end=n.end;this.fire("change:range",t,{deletionPosition:r})}else if(o){this.fire("change:content",this.toRange(),{deletionPosition:r})}}function Zb(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return false}const Qb="selection:";class Jb extends(G(mb)){constructor(e){super();this._selection=new Xb(e);this._selection.delegate("change:range").to(this);this._selection.delegate("change:attribute").to(this);this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers();this._selection._updateAttributes(false)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Qb+e}static _isStoreAttributeKey(e){return e.startsWith(Qb)}}Jb.prototype.is=function(e){return e==="selection"||e=="model:selection"||e=="documentSelection"||e=="model:documentSelection"};class Xb extends jb{constructor(e){super();this.markers=new fl({idProperty:"name"});this._attributePriority=new Map;this._selectionRestorePosition=null;this._hasChangedRange=false;this._overriddenGravityRegister=new Set;this._observedMarkers=new Set;this._model=e.model;this._document=e;this.listenTo(this._model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation||n.type=="marker"||n.type=="rename"||n.type=="noop"){return}if(this._ranges.length==0&&this._selectionRestorePosition){this._fixGraveyardSelection(this._selectionRestorePosition)}this._selectionRestorePosition=null;if(this._hasChangedRange){this._hasChangedRange=false;this.fire("change:range",{directChange:false})}}),{priority:"lowest"});this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())}));this.listenTo(this._model.markers,"update",((e,t,n,i)=>{this._updateMarker(t,i)}));this.listenTo(this._document,"change",((e,t)=>{tk(this._model,t)}))}get isCollapsed(){const e=this._ranges.length;return e===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++){this._ranges[e].detach()}this.stopListening()}*getRanges(){if(this._ranges.length){yield*super.getRanges()}else{yield this._document._getDefaultRange()}}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e);this._updateAttributes(true);this.updateMarkers()}setFocus(e,t){super.setFocus(e,t);this._updateAttributes(true);this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:true})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:true})}}overrideGravity(){const e=D();this._overriddenGravityRegister.add(e);if(this._overriddenGravityRegister.size===1){this._updateAttributes(true)}return e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e)){throw new N("document-selection-gravity-wrong-restore",this,{uid:e})}this._overriddenGravityRegister.delete(e);if(!this.isGravityOverridden){this._updateAttributes(true)}}observeMarkers(e){this._observedMarkers.add(e);this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e);super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);if(t){this._ranges.push(t)}}_validateSelectionRanges(e){for(const t of e){if(!this._document._validateSelectionRange(t)){throw new N("document-selection-wrong-position",this,{range:t})}}}_prepareRange(e){this._checkRange(e);if(e.root==this._document.graveyard){return}const t=Gb.fromRange(e);t.on("change:range",((e,n,i)=>{this._hasChangedRange=true;if(t.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1);t.detach()}}));return t}updateMarkers(){if(!this._observedMarkers.size){return}const e=[];let t=false;for(const t of this._model.markers){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n)){continue}const i=t.getRange();for(const n of this.getRanges()){if(i.containsRange(n,!n.isCollapsed)){e.push(t)}}}const n=Array.from(this.markers);for(const n of e){if(!this.markers.has(n)){this.markers.add(n);t=true}}for(const n of Array.from(this.markers)){if(!e.includes(n)){this.markers.remove(n);t=true}}if(t){this.fire("change:marker",{oldMarkers:n,directChange:false})}}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n)){return}let i=false;const o=Array.from(this.markers);const r=this.markers.has(e);if(!t){if(r){this.markers.remove(e);i=true}}else{let n=false;for(const e of this.getRanges()){if(t.containsRange(e,!e.isCollapsed)){n=true;break}}if(n&&!r){this.markers.add(e);i=true}else if(!n&&r){this.markers.remove(e);i=true}}if(i){this.fire("change:marker",{oldMarkers:o,directChange:false})}}_updateAttributes(e){const t=kl(this._getSurroundingAttributes());const n=kl(this.getAttributes());if(e){this._attributePriority=new Map;this._attrs=new Map}else{for(const[e,t]of this._attributePriority){if(t=="low"){this._attrs.delete(e);this._attributePriority.delete(e)}}}this._setAttributesTo(t);const i=[];for(const[e,t]of this.getAttributes()){if(!n.has(e)||n.get(e)!==t){i.push(e)}}for(const[e]of n){if(!this.hasAttribute(e)){i.push(e)}}if(i.length>0){this.fire("change:attribute",{attributeKeys:i,directChange:false})}}_setAttribute(e,t,n=true){const i=n?"normal":"low";if(i=="low"&&this._attributePriority.get(e)=="normal"){return false}const o=super.getAttribute(e);if(o===t){return false}this._attrs.set(e,t);this._attributePriority.set(e,i);return true}_removeAttribute(e,t=true){const n=t?"normal":"low";if(n=="low"&&this._attributePriority.get(e)=="normal"){return false}this._attributePriority.set(e,n);if(!super.hasAttribute(e)){return false}this._attrs.delete(e);return true}_setAttributesTo(e){const t=new Set;for(const[t,n]of this.getAttributes()){if(e.get(t)===n){continue}this._removeAttribute(t,false)}for(const[n,i]of e){const e=this._setAttribute(n,i,false);if(e){t.add(n)}}return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty){for(const t of e.getAttributeKeys()){if(t.startsWith(Qb)){const n=t.substr(Qb.length);yield[n,e.getAttribute(t)]}}}}_getSurroundingAttributes(){const e=this.getFirstPosition();const t=this._model.schema;let n=null;if(!this.isCollapsed){const e=this.getFirstRange();for(const i of e){if(i.item.is("element")&&t.isObject(i.item)){break}if(i.type=="text"){n=i.item.getAttributes();break}}}else{const i=e.textNode?e.textNode:e.nodeBefore;const o=e.textNode?e.textNode:e.nodeAfter;if(!this.isGravityOverridden){n=ek(i,t)}if(!n){n=ek(o,t)}if(!this.isGravityOverridden&&!n){let e=i;while(e&&!n){e=e.previousSibling;n=ek(e,t)}}if(!n){let e=o;while(e&&!n){e=e.nextSibling;n=ek(e,t)}}if(!n){n=this.getStoredAttributes()}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);if(t){this._pushRange(t)}}}function ek(e,t){if(!e){return null}if(e instanceof wb||e instanceof kb){return e.getAttributes()}if(!t.isInline(e)){return null}if(!t.isObject(e)){return[]}const n=[];for(const[i,o]of e.getAttributes()){if(t.checkAttribute("$text",i)){n.push([i,o])}}return n}function tk(e,t){const n=e.document.differ;for(const i of n.getChanges()){if(i.type!="insert"){continue}const n=i.position.parent;const o=i.length===n.maxOffset;if(o){e.enqueueChange(t,(e=>{const t=Array.from(n.getAttributeKeys()).filter((e=>e.startsWith(Qb)));for(const i of t){e.removeAttribute(i,n)}}))}}}class nk{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers){e(t)}return this}}class ik extends nk{elementToElement(e){return this.add(xk(e))}elementToStructure(e){return this.add(Ek(e))}attributeToElement(e){return this.add(Dk(e))}attributeToAttribute(e){return this.add(Tk(e))}markerToElement(e){return this.add(Mk(e))}markerToHighlight(e){return this.add(Sk(e))}markerToData(e){return this.add(Ik(e))}}function ok(){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name)){return}const i=n.writer;const o=n.mapper.toViewPosition(t.range.start);const r=i.createText(t.item.data);i.insert(o,r)}}function rk(){return(e,t,n)=>{n.convertAttributes(t.item);if(!t.reconversion&&t.item.is("element")&&!t.item.isEmpty){n.convertChildren(t.item)}}}function sk(){return(e,t,n)=>{const i=n.mapper.toViewPosition(t.position);const o=t.position.getShiftedBy(t.length);const r=n.mapper.toViewPosition(o,{isPhantom:true});const s=n.writer.createRange(i,r);const a=n.writer.remove(s.getTrimmed());for(const e of n.writer.createRangeIn(a).getItems()){n.mapper.unbindViewElement(e,{defer:true})}}}function ak(e,t){const n=e.createAttributeElement("span",t.attributes);if(t.classes){n._addClass(t.classes)}if(typeof t.priority==="number"){n._priority=t.priority}n._id=t.id;return n}function ck(){return(e,t,n)=>{const i=t.selection;if(i.isCollapsed){return}if(!n.consumable.consume(i,"selection")){return}const o=[];for(const e of i.getRanges()){o.push(n.mapper.toViewRange(e))}n.writer.setSelection(o,{backward:i.isBackward})}}function lk(){return(e,t,n)=>{const i=t.selection;if(!i.isCollapsed){return}if(!n.consumable.consume(i,"selection")){return}const o=n.writer;const r=i.getFirstPosition();const s=n.mapper.toViewPosition(r);const a=o.breakAttributes(s);o.setSelection(a)}}function dk(){return(e,t,n)=>{const i=n.writer;const o=i.document.selection;for(const e of o.getRanges()){if(e.isCollapsed){if(e.end.parent.isAttached()){n.writer.mergeAttributes(e.start)}}}i.setSelection(null)}}function uk(e){return(t,n,i)=>{if(!i.consumable.test(n.item,t.name)){return}const o=e(n.attributeOldValue,i,n);const r=e(n.attributeNewValue,i,n);if(!o&&!r){return}i.consumable.consume(n.item,t.name);const s=i.writer;const a=s.document.selection;if(n.item instanceof jb||n.item instanceof Jb){s.wrap(a.getFirstRange(),r)}else{let e=i.mapper.toViewRange(n.range);if(n.attributeOldValue!==null&&o){e=s.unwrap(e,o)}if(n.attributeNewValue!==null&&r){s.wrap(e,r)}}}}function hk(e,t=qk){return(n,i,o)=>{if(!t(i.item,o.consumable,{preflight:true})){return}const r=e(i.item,o,i);if(!r){return}t(i.item,o.consumable);const s=o.mapper.toViewPosition(i.range.start);o.mapper.bindElements(i.item,r);o.writer.insert(s,r);o.convertAttributes(i.item);Wk(r,i.item.getChildren(),o,{reconversion:i.reconversion})}}function fk(e,t){return(n,i,o)=>{if(!t(i.item,o.consumable,{preflight:true})){return}const r=new Map;o.writer._registerSlotFactory(Vk(i.item,r,o));const s=e(i.item,o,i);o.writer._clearSlotFactory();if(!s){return}Hk(i.item,r,o);t(i.item,o.consumable);const a=o.mapper.toViewPosition(i.range.start);o.mapper.bindElements(i.item,s);o.writer.insert(a,s);o.convertAttributes(i.item);Uk(s,r,o,{reconversion:i.reconversion})}}function gk(e){return(t,n,i)=>{n.isOpening=true;const o=e(n,i);n.isOpening=false;const r=e(n,i);if(!o||!r){return}const s=n.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,t.name)){return}for(const e of s){if(!i.consumable.consume(e.item,t.name)){return}}const a=i.mapper;const c=i.writer;c.insert(a.toViewPosition(s.start),o);i.mapper.bindElementToMarker(o,n.markerName);if(!s.isCollapsed){c.insert(a.toViewPosition(s.end),r);i.mapper.bindElementToMarker(r,n.markerName)}t.stop()}}function mk(){return(e,t,n)=>{const i=n.mapper.markerNameToElements(t.markerName);if(!i){return}for(const e of i){n.mapper.unbindElementFromMarkerName(e,t.markerName);n.writer.clear(n.writer.createRangeOn(e),e)}n.writer.clearClonedElementsGroup(t.markerName);e.stop()}}function pk(e){return(t,n,i)=>{const o=e(n.markerName,i);if(!o){return}const r=n.markerRange;if(!i.consumable.consume(r,t.name)){return}bk(r,false,i,n,o);bk(r,true,i,n,o);t.stop()}}function bk(e,t,n,i,o){const r=t?e.start:e.end;const s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null;const a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){let e;let r;if(t&&s||!t&&!a){e=s;r=true}else{e=a;r=false}const c=n.mapper.toViewElement(e);if(c){kk(c,t,r,n,i,o);return}}const c=n.mapper.toViewPosition(r);wk(c,t,n,i,o)}function kk(e,t,n,i,o,r){const s=`data-${r.group}-${t?"start":"end"}-${n?"before":"after"}`;const a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(r.name);i.writer.setAttribute(s,a.join(","),e);i.mapper.bindElementToMarker(e,o.markerName)}function wk(e,t,n,i,o){const r=`${o.group}-${t?"start":"end"}`;const s=o.name?{name:o.name}:null;const a=n.writer.createUIElement(r,s);n.writer.insert(e,a);n.mapper.bindElementToMarker(a,i.markerName)}function _k(e){return(t,n,i)=>{const o=e(n.markerName,i);if(!o){return}const r=i.mapper.markerNameToElements(n.markerName);if(!r){return}for(const e of r){i.mapper.unbindElementFromMarkerName(e,n.markerName);if(e.is("containerElement")){s(`data-${o.group}-start-before`,e);s(`data-${o.group}-start-after`,e);s(`data-${o.group}-end-before`,e);s(`data-${o.group}-end-after`,e)}else{i.writer.clear(i.writer.createRangeOn(e),e)}}i.writer.clearClonedElementsGroup(n.markerName);t.stop();function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(o.name);if(n.size==0){i.writer.removeAttribute(e,t)}else{i.writer.setAttribute(e,Array.from(n).join(","),t)}}}}}function Ak(e){return(t,n,i)=>{if(!i.consumable.test(n.item,t.name)){return}const o=e(n.attributeOldValue,i,n);const r=e(n.attributeNewValue,i,n);if(!o&&!r){return}i.consumable.consume(n.item,t.name);const s=i.mapper.toViewElement(n.item);const a=i.writer;if(!s){throw new N("conversion-attribute-to-attribute-on-text",i.dispatcher,n)}if(n.attributeOldValue!==null&&o){if(o.key=="class"){const e=il(o.value);for(const t of e){a.removeClass(t,s)}}else if(o.key=="style"){const e=Object.keys(o.value);for(const t of e){a.removeStyle(t,s)}}else{a.removeAttribute(o.key,s)}}if(n.attributeNewValue!==null&&r){if(r.key=="class"){const e=il(r.value);for(const t of e){a.addClass(t,s)}}else if(r.key=="style"){const e=Object.keys(r.value);for(const t of e){a.setStyle(t,r.value[t],s)}}else{a.setAttribute(r.key,r.value,s)}}}}function vk(e){return(t,n,i)=>{if(!n.item){return}if(!(n.item instanceof jb||n.item instanceof Jb)&&!n.item.is("$textProxy")){return}const o=Ok(e,n,i);if(!o){return}if(!i.consumable.consume(n.item,t.name)){return}const r=i.writer;const s=ak(r,o);const a=r.document.selection;if(n.item instanceof jb||n.item instanceof Jb){r.wrap(a.getFirstRange(),s)}else{const e=i.mapper.toViewRange(n.range);const t=r.wrap(e,s);for(const e of t.getItems()){if(e.is("attributeElement")&&e.isSimilar(s)){i.mapper.bindElementToMarker(e,n.markerName);break}}}}}function Ck(e){return(t,n,i)=>{if(!n.item){return}if(!(n.item instanceof _b)){return}const o=Ok(e,n,i);if(!o){return}if(!i.consumable.test(n.item,t.name)){return}const r=i.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);for(const e of Sb._createIn(n.item)){i.consumable.consume(e.item,t.name)}const e=r.getCustomProperty("addHighlight");e(r,o,i.writer);i.mapper.bindElementToMarker(r,n.markerName)}}}function yk(e){return(t,n,i)=>{if(n.markerRange.isCollapsed){return}const o=Ok(e,n,i);if(!o){return}const r=ak(i.writer,o);const s=i.mapper.markerNameToElements(n.markerName);if(!s){return}for(const e of s){i.mapper.unbindElementFromMarkerName(e,n.markerName);if(e.is("attributeElement")){i.writer.unwrap(i.writer.createRangeOn(e),r)}else{const t=e.getCustomProperty("removeHighlight");t(e,o.id,i.writer)}}i.writer.clearClonedElementsGroup(n.markerName);t.stop()}}function xk(e){const t=Bk(e.model);const n=Nk(e.view,"container");if(t.attributes.length){t.children=true}return i=>{i.on(`insert:${t.name}`,hk(n,Fk(t)),{priority:e.converterPriority||"normal"});if(t.children||t.attributes.length){i.on("reduceChanges",jk(t),{priority:"low"})}}}function Ek(e){const t=Bk(e.model);const n=Nk(e.view,"container");t.children=true;return i=>{if(i._conversionApi.schema.checkChild(t.name,"$text")){throw new N("conversion-element-to-structure-disallowed-text",i,{elementName:t.name})}i.on(`insert:${t.name}`,fk(n,Fk(t)),{priority:e.converterPriority||"normal"});i.on("reduceChanges",jk(t),{priority:"low"})}}function Dk(e){e=fb(e);let t=e.model;if(typeof t=="string"){t={key:t}}let n=`attribute:${t.key}`;if(t.name){n+=":"+t.name}if(t.values){for(const n of t.values){e.view[n]=Nk(e.view[n],"attribute")}}else{e.view=Nk(e.view,"attribute")}const i=Pk(e);return t=>{t.on(n,uk(i),{priority:e.converterPriority||"normal"})}}function Tk(e){e=fb(e);let t=e.model;if(typeof t=="string"){t={key:t}}let n=`attribute:${t.key}`;if(t.name){n+=":"+t.name}if(t.values){for(const n of t.values){e.view[n]=Lk(e.view[n])}}else{e.view=Lk(e.view)}const i=Pk(e);return t=>{t.on(n,Ak(i),{priority:e.converterPriority||"normal"})}}function Mk(e){const t=Nk(e.view,"ui");return n=>{n.on(`addMarker:${e.model}`,gk(t),{priority:e.converterPriority||"normal"});n.on(`removeMarker:${e.model}`,mk(),{priority:e.converterPriority||"normal"})}}function Ik(e){e=fb(e);const t=e.model;let n=e.view;if(!n){n=n=>({group:t,name:n.substr(e.model.length+1)})}return i=>{i.on(`addMarker:${t}`,pk(n),{priority:e.converterPriority||"normal"});i.on(`removeMarker:${t}`,_k(n),{priority:e.converterPriority||"normal"})}}function Sk(e){return t=>{t.on(`addMarker:${e.model}`,vk(e.view),{priority:e.converterPriority||"normal"});t.on(`addMarker:${e.model}`,Ck(e.view),{priority:e.converterPriority||"normal"});t.on(`removeMarker:${e.model}`,yk(e.view),{priority:e.converterPriority||"normal"})}}function Bk(e){if(typeof e=="string"){e={name:e}}if(!e.attributes){e.attributes=[]}else if(!Array.isArray(e.attributes)){e.attributes=[e.attributes]}e.children=!!e.children;return e}function Nk(e,t){if(typeof e=="function"){return e}return(n,i)=>zk(e,i,t)}function zk(e,t,n){if(typeof e=="string"){e={name:e}}let i;const o=t.writer;const r=Object.assign({},e.attributes);if(n=="container"){i=o.createContainerElement(e.name,r)}else if(n=="attribute"){const t={priority:e.priority||vg.DEFAULT_PRIORITY};i=o.createAttributeElement(e.name,r,t)}else{i=o.createUIElement(e.name,r)}if(e.styles){const t=Object.keys(e.styles);for(const n of t){o.setStyle(n,e.styles[n],i)}}if(e.classes){const t=e.classes;if(typeof t=="string"){o.addClass(t,i)}else{for(const e of t){o.addClass(e,i)}}}return i}function Pk(e){if(e.model.values){return(t,n,i)=>{const o=e.view[t];if(o){return o(t,n,i)}return null}}else{return e.view}}function Lk(e){if(typeof e=="string"){return t=>({key:e,value:t})}else if(typeof e=="object"){if(e.value){return()=>e}else{return t=>({key:e.key,value:t})}}else{return e}}function Ok(e,t,n){const i=typeof e=="function"?e(t,n):e;if(!i){return null}if(!i.priority){i.priority=10}if(!i.id){i.id=t.markerName}return i}function Rk(e){return(t,n)=>{if(!t.is("element",e.name)){return false}if(n.type=="attribute"){if(e.attributes.includes(n.attributeKey)){return true}}else{if(e.children){return true}}return false}}function jk(e){const t=Rk(e);return(e,n)=>{const i=[];if(!n.reconvertedElements){n.reconvertedElements=new Set}for(const e of n.changes){const o=e.type=="attribute"?e.range.start.nodeAfter:e.position.parent;if(!o||!t(o,e)){i.push(e);continue}if(!n.reconvertedElements.has(o)){n.reconvertedElements.add(o);const e=yb._createBefore(o);let t=i.length;for(let n=i.length-1;n>=0;n--){const o=i[n];const r=o.type=="attribute"?o.range.start:o.position;const s=r.compareWith(e);if(s=="before"||o.type=="remove"&&s=="same"){break}t=n}i.splice(t,0,{type:"remove",name:o.name,position:e,length:1},{type:"reinsert",name:o.name,position:e,length:1})}}n.changes=i}}function Fk(e){return(t,n,i={})=>{const o=["insert"];for(const n of e.attributes){if(t.hasAttribute(n)){o.push(`attribute:${n}`)}}if(!o.every((e=>n.test(t,e)))){return false}if(!i.preflight){o.forEach((e=>n.consume(t,e)))}return true}}function Vk(e,t,n){return(i,o)=>{const r=i.createContainerElement("$slot");let s=null;if(o==="children"){s=Array.from(e.getChildren())}else if(typeof o=="function"){s=Array.from(e.getChildren()).filter((e=>o(e)))}else{throw new N("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:o})}t.set(r,s);return r}}function Hk(e,t,n){const i=Array.from(t.values()).flat();const o=new Set(i);if(o.size!=i.length){throw new N("conversion-slot-filter-overlap",n.dispatcher,{element:e})}if(o.size!=e.childCount){throw new N("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}}function Uk(e,t,n,i){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let o=null;let r=null;for([o,r]of t){Wk(e,r,n,i);n.writer.move(n.writer.createRangeIn(o),n.writer.createPositionBefore(o));n.writer.remove(o)}n.mapper.off("modelToViewPosition",s);function s(e,t){const n=t.modelPosition.nodeAfter;const i=r.indexOf(n);if(i<0){return}t.viewPosition=t.mapper.findPositionIn(o,i)}}function Wk(e,t,n,i){for(const o of t){if(!$k(e.root,o,n,i)){n.convertItem(o)}}}function $k(e,t,n,i){const{writer:o,mapper:r}=n;if(!i.reconversion){return false}const s=r.toViewElement(t);if(!s||s.root==e){return false}if(!n.canReuseView(s)){return false}o.move(o.createRangeOn(s),r.toViewPosition(yb._createBefore(t)));return true}function qk(e,t,{preflight:n}={}){if(n){return t.test(e,"insert")}else{return t.consume(e,"insert")}}function Gk(e){const{schema:t,document:n}=e.model;for(const i of n.getRootNames()){const o=n.getRoot(i);if(o.isEmpty&&!t.checkChild(o,"$text")){if(t.checkChild(o,"paragraph")){e.insertElement("paragraph",o);return true}}}return false}function Yk(e,t,n){const i=n.createContext(e);if(!n.checkChild(i,"paragraph")){return false}if(!n.checkChild(i.push("paragraph"),t)){return false}return true}function Kk(e,t){const n=t.createElement("paragraph");t.insert(n,e);return t.createPositionAt(n,0)}class Zk extends nk{elementToElement(e){return this.add(ew(e))}elementToAttribute(e){return this.add(tw(e))}attributeToAttribute(e){return this.add(nw(e))}elementToMarker(e){return this.add(iw(e))}dataToMarker(e){return this.add(ow(e))}}function Qk(){return(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:true})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e;t.modelCursor=i}}}function Jk(){return(e,t,{schema:n,consumable:i,writer:o})=>{let r=t.modelCursor;if(!i.test(t.viewItem)){return}if(!n.checkChild(r,"$text")){if(!Yk(r,"$text",n)){return}if(t.viewItem.data.trim().length==0){return}const e=r.nodeBefore;r=Kk(r,o);if(e&&e.is("element","$marker")){o.move(o.createRangeOn(e),r);r=o.createPositionAfter(e)}}i.consume(t.viewItem);const s=o.createText(t.viewItem.data);o.insert(s,r);t.modelRange=o.createRange(r,r.getShiftedBy(s.offsetSize));t.modelCursor=t.modelRange.end}}function Xk(e,t){return(n,i)=>{const o=i.newSelection;const r=[];for(const e of o.getRanges()){r.push(t.toModelRange(e))}const s=e.createSelection(r,{backward:o.isBackward});if(!s.isEqual(e.document.selection)){e.change((e=>{e.setSelection(s)}))}}}function ew(e){e=fb(e);const t=aw(e);const n=sw(e.view);const i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"normal"})}}function tw(e){e=fb(e);dw(e);const t=uw(e,false);const n=sw(e.view);const i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"low"})}}function nw(e){e=fb(e);let t=null;if(typeof e.view=="string"||e.view.key){t=lw(e)}dw(e,t);const n=uw(e,true);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}function iw(e){const t=gw(e.model);return ew({...e,model:t})}function ow(e){e=fb(e);if(!e.model){e.model=t=>t?e.view+":"+t:e.view}const t={view:e.view,model:e.model};const n=aw(mw(t,"start"));const i=aw(mw(t,"end"));return o=>{o.on(`element:${e.view}-start`,n,{priority:e.converterPriority||"normal"});o.on(`element:${e.view}-end`,i,{priority:e.converterPriority||"normal"});const r=I.low;const s=I.highest;const a=I.get(e.converterPriority)/s;o.on("element",rw(t),{priority:r+a})}}function rw(e){return(t,n,i)=>{const o=`data-${e.view}`;if(!i.consumable.test(n.viewItem,{attributes:o+"-end-after"})&&!i.consumable.test(n.viewItem,{attributes:o+"-start-after"})&&!i.consumable.test(n.viewItem,{attributes:o+"-end-before"})&&!i.consumable.test(n.viewItem,{attributes:o+"-start-before"})){return}if(!n.modelRange){Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor))}if(i.consumable.consume(n.viewItem,{attributes:o+"-end-after"})){r(n.modelRange.end,n.viewItem.getAttribute(o+"-end-after").split(","))}if(i.consumable.consume(n.viewItem,{attributes:o+"-start-after"})){r(n.modelRange.end,n.viewItem.getAttribute(o+"-start-after").split(","))}if(i.consumable.consume(n.viewItem,{attributes:o+"-end-before"})){r(n.modelRange.start,n.viewItem.getAttribute(o+"-end-before").split(","))}if(i.consumable.consume(n.viewItem,{attributes:o+"-start-before"})){r(n.modelRange.start,n.viewItem.getAttribute(o+"-start-before").split(","))}function r(t,o){for(const r of o){const o=e.model(r,i);const s=i.writer.createElement("$marker",{"data-name":o});i.writer.insert(s,t);if(n.modelCursor.isEqual(t)){n.modelCursor=n.modelCursor.getShiftedBy(1)}else{n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1)}n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}}}function sw(e){if(typeof e=="string"){return e}if(typeof e=="object"&&typeof e.name=="string"){return e.name}return null}function aw(e){const t=new Ju(e.view);return(n,i,o)=>{const r=t.match(i.viewItem);if(!r){return}const s=r.match;s.name=true;if(!o.consumable.test(i.viewItem,s)){return}const a=cw(e.model,i.viewItem,o);if(!a){return}if(!o.safeInsert(a,i.modelCursor)){return}o.consumable.consume(i.viewItem,s);o.convertChildren(i.viewItem,a);o.updateConversionResult(a,i)}}function cw(e,t,n){if(e instanceof Function){return e(t,n)}else{return n.writer.createElement(e)}}function lw(e){if(typeof e.view=="string"){e.view={key:e.view}}const t=e.view.key;let n;if(t=="class"||t=="style"){const i=t=="class"?"classes":"styles";n={[i]:e.view.value}}else{const i=typeof e.view.value=="undefined"?/[\s\S]*/:e.view.value;n={attributes:{[t]:i}}}if(e.view.name){n.name=e.view.name}e.view=n;return t}function dw(e,t=null){const n=t===null?true:e=>e.getAttribute(t);const i=typeof e.model!="object"?e.model:e.model.key;const o=typeof e.model!="object"||typeof e.model.value=="undefined"?n:e.model.value;e.model={key:i,value:o}}function uw(e,t){const n=new Ju(e.view);return(i,o,r)=>{if(!o.modelRange&&t){return}const s=n.match(o.viewItem);if(!s){return}if(hw(e.view,o.viewItem)){s.match.name=true}else{delete s.match.name}if(!r.consumable.test(o.viewItem,s.match)){return}const a=e.model.key;const c=typeof e.model.value=="function"?e.model.value(o.viewItem,r):e.model.value;if(c===null){return}if(!o.modelRange){Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))}const l=fw(o.modelRange,{key:a,value:c},t,r);if(l){if(r.consumable.test(o.viewItem,{name:true})){s.match.name=true}r.consumable.consume(o.viewItem,s.match)}}}function hw(e,t){const n=typeof e=="function"?e(t):e;if(typeof n=="object"&&!sw(n)){return false}return!n.classes&&!n.attributes&&!n.styles}function fw(e,t,n,i){let o=false;for(const r of Array.from(e.getItems({shallow:n}))){if(!i.schema.checkAttribute(r,t.key)){continue}o=true;if(r.hasAttribute(t.key)){continue}i.writer.setAttribute(t.key,t.value,r)}return o}function gw(e){return(t,n)=>{const i=typeof e=="string"?e:e(t,n);return n.writer.createElement("$marker",{"data-name":i})}}function mw(e,t){const n=(t,n)=>{const i=t.getAttribute("name");const o=e.model(i,n);return n.writer.createElement("$marker",{"data-name":o})};return{view:`${e.view}-${t}`,model:n}}function pw(e){e.document.registerPostFixer((t=>bw(t,e)))}function bw(e,t){const n=t.document.selection;const i=t.schema;const o=[];let r=false;for(const e of n.getRanges()){const t=kw(e,i);if(t&&!t.isEqual(e)){o.push(t);r=true}else{o.push(e)}}if(r){e.setSelection(Cw(o),{backward:n.isBackward})}return false}function kw(e,t){if(e.isCollapsed){return ww(e,t)}return _w(e,t)}function ww(e,t){const n=e.start;const i=t.getNearestSelectionRange(n);if(!i){const e=n.getAncestors().reverse().find((e=>t.isObject(e)));if(e){return Sb._createOn(e)}return null}if(!i.isCollapsed){return i}const o=i.start;if(n.isEqual(o)){return null}return new Sb(o)}function _w(e,t){const{start:n,end:i}=e;const o=t.checkChild(n,"$text");const r=t.checkChild(i,"$text");const s=t.getLimitElement(n);const a=t.getLimitElement(i);if(s===a){if(o&&r){return null}if(vw(n,i,t)){const e=n.nodeAfter&&t.isSelectable(n.nodeAfter);const o=e?null:t.getNearestSelectionRange(n,"forward");const r=i.nodeBefore&&t.isSelectable(i.nodeBefore);const s=r?null:t.getNearestSelectionRange(i,"backward");const a=o?o.start:n;const c=s?s.end:i;return new Sb(a,c)}}const c=s&&!s.is("rootElement");const l=a&&!a.is("rootElement");if(c||l){const e=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent;const o=c&&(!e||!yw(n.nodeAfter,t));const r=l&&(!e||!yw(i.nodeBefore,t));let d=n;let u=i;if(o){d=yb._createBefore(Aw(s,t))}if(r){u=yb._createAfter(Aw(a,t))}return new Sb(d,u)}return null}function Aw(e,t){let n=e;let i=n;while(t.isLimit(i)&&i.parent){n=i;i=i.parent}return n}function vw(e,t,n){const i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text");const o=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||o}function Cw(e){const t=[...e];const n=new Set;let i=1;while(i<t.length){const e=t[i];const o=t.slice(0,i);for(const[r,s]of o.entries()){if(n.has(r)){continue}if(e.isEqual(s)){n.add(r)}else if(e.isIntersecting(s)){n.add(r);n.add(i);const o=e.getJoined(s);t.push(o)}}i++}const o=t.filter(((e,t)=>!n.has(t)));return o}function yw(e,t){return e&&t.isSelectable(e)}class xw extends(fe()){constructor(e,t){super();this.model=e;this.view=new gb(t);this.mapper=new Bb;this.downcastDispatcher=new Pb({mapper:this.mapper,schema:e.schema});const n=this.model.document;const i=n.selection;const o=this.model.markers;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(true)}),{priority:"highest"});this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(false)}),{priority:"lowest"});this.listenTo(n,"change",(()=>{this.view.change((e=>{this.downcastDispatcher.convertChanges(n.differ,o,e);this.downcastDispatcher.convertSelection(i,o,e)}))}),{priority:"low"});this.listenTo(this.view.document,"selectionChange",Xk(this.model,this.mapper));this.listenTo(this.view.document,"beforeinput",Ew(this.mapper,this.model.schema,this.view),{priority:"high"});this.downcastDispatcher.on("insert:$text",ok(),{priority:"lowest"});this.downcastDispatcher.on("insert",rk(),{priority:"lowest"});this.downcastDispatcher.on("remove",sk(),{priority:"low"});this.downcastDispatcher.on("selection",dk(),{priority:"high"});this.downcastDispatcher.on("selection",ck(),{priority:"low"});this.downcastDispatcher.on("selection",lk(),{priority:"low"});this.view.document.roots.bindTo(this.model.document.roots).using((e=>{if(e.rootName=="$graveyard"){return null}const t=new rg(this.view.document,e.name);t.rootName=e.rootName;this.mapper.bindElements(e,t);return t}))}destroy(){this.view.destroy();this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name;const n=this.model.markers.get(t);if(!n){throw new N("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t})}this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(e){this.model.change((()=>{this.model.document.differ._refreshItem(e)}))}}function Ew(e,t,n){return(i,o)=>{if(n.document.isComposing&&!a.isAndroid){return}for(let n=0;n<o.targetRanges.length;n++){const i=o.targetRanges[n];const r=e.toModelRange(i);const s=kw(r,t);if(!s||s.isEqual(r)){continue}o.targetRanges[n]=e.toViewRange(s)}}}class Dw{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,true);return}if(!this._consumables.has(e)){n=new Mw(e);this._consumables.set(e,n)}else{n=this._consumables.get(e)}n.add(t)}test(e,t){const n=this._consumables.get(e);if(n===undefined){return null}if(e.is("$text")||e.is("documentFragment")){return n}return n.test(t)}consume(e,t){if(this.test(e,t)){if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,false)}else{this._consumables.get(e).consume(t)}return true}return false}revert(e,t){const n=this._consumables.get(e);if(n!==undefined){if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,true)}else{n.revert(t)}}}static consumablesFromElement(e){const t={element:e,name:true,attributes:[],classes:[],styles:[]};const n=e.getAttributeKeys();for(const e of n){if(e=="style"||e=="class"){continue}t.attributes.push(e)}const i=e.getClassNames();for(const e of i){t.classes.push(e)}const o=e.getStyleNames();for(const e of o){t.styles.push(e)}return t}static createFrom(e,t){if(!t){t=new Dw}if(e.is("$text")){t.add(e);return t}if(e.is("element")){t.add(e,Dw.consumablesFromElement(e))}if(e.is("documentFragment")){t.add(e)}for(const n of e.getChildren()){t=Dw.createFrom(n,t)}return t}}const Tw=["attributes","classes","styles"];class Mw{constructor(e){this.element=e;this._canConsumeName=null;this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){if(e.name){this._canConsumeName=true}for(const t of Tw){if(t in e){this._add(t,e[t])}}}test(e){if(e.name&&!this._canConsumeName){return this._canConsumeName}for(const t of Tw){if(t in e){const n=this._test(t,e[t]);if(n!==true){return n}}}return true}consume(e){if(e.name){this._canConsumeName=false}for(const t of Tw){if(t in e){this._consume(t,e[t])}}}revert(e){if(e.name){this._canConsumeName=true}for(const t of Tw){if(t in e){this._revert(t,e[t])}}}_add(e,t){const n=Qe(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e==="attributes"&&(t==="class"||t==="style")){throw new N("viewconsumable-invalid-attribute",this)}i.set(t,true);if(e==="styles"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){i.set(e,true)}}}}_test(e,t){const n=Qe(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";const n=this._test(e,[...this._consumables[e].keys()]);if(n!==true){return n}}else{const e=i.get(t);if(e===undefined){return null}if(!e){return false}}}return true}_consume(e,t){const n=Qe(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}else{i.set(t,false);if(e=="styles"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){i.set(e,false)}}}}}_revert(e,t){const n=Qe(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}else{const e=i.get(t);if(e===false){i.set(t,true)}}}}}class Iw extends(fe()){constructor(){super();this._sourceDefinitions={};this._attributeProperties={};this.decorate("checkChild");this.decorate("checkAttribute");this.on("checkAttribute",((e,t)=>{t[0]=new Sw(t[0])}),{priority:"highest"});this.on("checkChild",((e,t)=>{t[0]=new Sw(t[0]);t[1]=this.getDefinition(t[1])}),{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e]){throw new N("schema-cannot-register-item-twice",this,{itemName:e})}this._sourceDefinitions[e]=[Object.assign({},t)];this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e]){throw new N("schema-cannot-extend-missing-item",this,{itemName:e})}this._sourceDefinitions[e].push(Object.assign({},t));this._clearCache()}getDefinitions(){if(!this._compiledDefinitions){this._compile()}return this._compiledDefinitions}getDefinition(e){let t;if(typeof e=="string"){t=e}else if("is"in e&&(e.is("$text")||e.is("$textProxy"))){t="$text"}else{t=e.name}return this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);if(!t){return false}return!!(t.isLimit||t.isObject)}isObject(e){const t=this.getDefinition(e);if(!t){return false}return!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);if(!t){return false}return!!(t.isSelectable||t.isObject)}isContent(e){const t=this.getDefinition(e);if(!t){return false}return!!(t.isContent||t.isObject)}checkChild(e,t){if(!t){return false}return this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);if(!n){return false}return n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof yb){const t=e.nodeBefore;const n=e.nodeAfter;if(!(t instanceof _b)){throw new N("schema-check-merge-no-element-before",this)}if(!(n instanceof _b)){throw new N("schema-check-merge-no-element-after",this)}return this.checkMerge(t,n)}for(const n of t.getChildren()){if(!this.checkChild(e,n)){return false}}return true}addChildCheck(e){this.on("checkChild",((t,[n,i])=>{if(!i){return}const o=e(n,i);if(typeof o=="boolean"){t.stop();t.return=o}}),{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",((t,[n,i])=>{const o=e(n,i);if(typeof o=="boolean"){t.stop();t.return=o}}),{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;if(e instanceof yb){t=e.parent}else{const n=e instanceof Sb?[e]:Array.from(e.getRanges());t=n.reduce(((e,t)=>{const n=t.getCommonAncestor();if(!e){return n}return e.getCommonAncestor(n,{includeSelf:true})}),null)}while(!this.isLimit(t)){if(t.parent){t=t.parent}else{break}}return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=e.getFirstPosition();const i=[...n.getAncestors(),new kb("",e.getAttributes())];return this.checkAttribute(i,t)}else{const n=e.getRanges();for(const e of n){for(const n of e){if(this.checkAttribute(n.item,t)){return true}}}}return false}*getValidRanges(e,t){e=Yw(e);for(const n of e){yield*this._getValidRangesForRange(n,t)}}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text")){return new Sb(e)}let n,i;const o=e.getAncestors().reverse().find((e=>this.isLimit(e)))||e.root;if(t=="both"||t=="backward"){n=new vb({boundaries:Sb._createIn(o),startPosition:e,direction:"backward"})}if(t=="both"||t=="forward"){i=new vb({boundaries:Sb._createIn(o),startPosition:e})}for(const e of Gw(n,i)){const t=e.walker==n?"elementEnd":"elementStart";const i=e.value;if(i.type==t&&this.isObject(i.item)){return Sb._createOn(i.item)}if(this.checkChild(i.nextPosition,"$text")){return new Sb(i.nextPosition)}}return null}findAllowedParent(e,t){let n=e.parent;while(n){if(this.checkChild(n,t)){return n}if(this.isLimit(n)){return null}n=n.parent}return null}setAllowedAttributes(e,t,n){const i=n.model;for(const[o,r]of Object.entries(t)){if(i.schema.checkAttribute(e,o)){n.setAttribute(o,r,e)}}}removeDisallowedAttributes(e,t){for(const n of e){if(n.is("$text")){Kw(this,n,t)}else{const e=Sb._createIn(n);const i=e.getPositions();for(const e of i){const n=e.nodeBefore||e.parent;Kw(this,n,t)}}}}getAttributesWithProperty(e,t,n){const i={};for(const[o,r]of e.getAttributes()){const e=this.getAttributeProperties(o);if(e[t]===undefined){continue}if(n===undefined||n===e[t]){i[o]=r}}return i}createContext(e){return new Sw(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={};const t=this._sourceDefinitions;const n=Object.keys(t);for(const i of n){e[i]=Bw(t[i],i)}for(const t of n){Nw(e,t)}for(const t of n){zw(e,t)}for(const t of n){Pw(e,t)}for(const t of n){Lw(e,t);Ow(e,t)}for(const t of n){Rw(e,t);jw(e,t);Fw(e,t)}this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(n==0){return true}else{const e=this.getDefinition(i);return this._checkContextMatch(e,t,n-1)}}else{return false}}*_getValidRangesForRange(e,t){let n=e.start;let i=e.start;for(const o of e.getItems({shallow:true})){if(o.is("element")){yield*this._getValidRangesForRange(Sb._createIn(o),t)}if(!this.checkAttribute(o,t)){if(!n.isEqual(i)){yield new Sb(n,i)}n=yb._createAfter(o)}i=yb._createAfter(o)}if(!n.isEqual(i)){yield new Sb(n,i)}}}class Sw{constructor(e){if(e instanceof Sw){return e}let t;if(typeof e=="string"){t=[e]}else if(!Array.isArray(e)){t=e.getAncestors({includeSelf:true})}else{t=e}this._items=t.map(qw)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Sw([e]);t._items=[...this._items,...t._items];return t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Bw(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};Vw(e,n);Hw(e,n,"allowIn");Hw(e,n,"allowContentOf");Hw(e,n,"allowWhere");Hw(e,n,"allowAttributes");Hw(e,n,"allowAttributesOf");Hw(e,n,"allowChildren");Hw(e,n,"inheritTypesFrom");Uw(e,n);return n}function Nw(e,t){const n=e[t];for(const i of n.allowChildren){const n=e[i];if(!n){continue}n.allowIn.push(t)}n.allowChildren.length=0}function zw(e,t){for(const n of e[t].allowContentOf){if(e[n]){const i=Ww(e,n);i.forEach((e=>{e.allowIn.push(t)}))}}delete e[t].allowContentOf}function Pw(e,t){for(const n of e[t].allowWhere){const i=e[n];if(i){const n=i.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function Lw(e,t){for(const n of e[t].allowAttributesOf){const i=e[n];if(i){const n=i.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function Ow(e,t){const n=e[t];for(const t of n.inheritTypesFrom){const i=e[t];if(i){const e=Object.keys(i).filter((e=>e.startsWith("is")));for(const t of e){if(!(t in n)){n[t]=i[t]}}}}delete n.inheritTypesFrom}function Rw(e,t){const n=e[t];const i=n.allowIn.filter((t=>e[t]));n.allowIn=Array.from(new Set(i))}function jw(e,t){const n=e[t];for(const i of n.allowIn){const n=e[i];n.allowChildren.push(t)}}function Fw(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Vw(e,t){for(const n of e){const e=Object.keys(n).filter((e=>e.startsWith("is")));for(const i of e){t[i]=!!n[i]}}}function Hw(e,t,n){for(const i of e){const e=i[n];if(typeof e=="string"){t[n].push(e)}else if(Array.isArray(e)){t[n].push(...e)}}}function Uw(e,t){for(const n of e){const e=n.inheritAllFrom;if(e){t.allowContentOf.push(e);t.allowWhere.push(e);t.allowAttributesOf.push(e);t.inheritTypesFrom.push(e)}}}function Ww(e,t){const n=e[t];return $w(e).filter((e=>e.allowIn.includes(n.name)))}function $w(e){return Object.keys(e).map((t=>e[t]))}function qw(e){if(typeof e=="string"||e.is("documentFragment")){return{name:typeof e=="string"?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}}else{return{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute(t){return e.getAttribute(t)}}}}function*Gw(e,t){let n=false;while(!n){n=true;if(e){const t=e.next();if(!t.done){n=false;yield{walker:e,value:t.value}}}if(t){const e=t.next();if(!e.done){n=false;yield{walker:t,value:e.value}}}}}function*Yw(e){for(const t of e){yield*t.getMinimalFlatRanges()}}function Kw(e,t,n){for(const i of t.getAttributeKeys()){if(!e.checkAttribute(t,i)){n.removeAttribute(i,t)}}}class Zw extends(G()){constructor(e){super();this._splitParts=new Map;this._cursorParents=new Map;this._modelCursor=null;this._emptyElementsToKeep=new Set;this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e);this._modelCursor=Jw(n,t);this.conversionApi.writer=t;this.conversionApi.consumable=Dw.createFrom(e);this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor);const o=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren())){t.append(e,o)}o.markers=Qw(o,t)}this._modelCursor=null;this._splitParts.clear();this._cursorParents.clear();this._emptyElementsToKeep.clear();this.conversionApi.writer=null;this.conversionApi.store=null;return o}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")){this.fire(`element:${e.name}`,n,this.conversionApi)}else if(e.is("$text")){this.fire("text",n,this.conversionApi)}else{this.fire("documentFragment",n,this.conversionApi)}if(n.modelRange&&!(n.modelRange instanceof Sb)){throw new N("view-conversion-dispatcher-incorrect-result",this)}return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:yb._createAt(t,0);const i=new Sb(n);for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,n);if(e.modelRange instanceof Sb){i.end=e.modelRange.end;n=e.modelCursor}}return{modelRange:i,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);if(!n){return false}this.conversionApi.writer.insert(e,n.position);return true}_updateConversionResult(e,t){const n=this._getSplitParts(e);const i=this.conversionApi.writer;if(!t.modelRange){t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1]))}const o=this._cursorParents.get(e);if(o){t.modelCursor=i.createPositionAt(o,0)}else{t.modelCursor=t.modelRange.end}}_splitToAllowedParent(e,t){const{schema:n,writer:i}=this.conversionApi;let o=n.findAllowedParent(t,e);if(o){if(o===t.parent){return{position:t}}if(this._modelCursor.parent.getAncestors().includes(o)){o=null}}if(!o){if(!Yk(t,e,n)){return null}return{position:Kk(t,i)}}const r=this.conversionApi.writer.split(t,o);const s=[];for(const e of r.range.getWalker()){if(e.type=="elementEnd"){s.push(e.item)}else{const t=s.pop();const n=e.item;this._registerSplitPair(t,n)}}const a=r.range.end.parent;this._cursorParents.set(e,a);return{position:r.position,cursorParent:a}}_registerSplitPair(e,t){if(!this._splitParts.has(e)){this._splitParts.set(e,[e])}const n=this._splitParts.get(e);this._splitParts.set(t,n);n.push(t)}_getSplitParts(e){let t;if(!this._splitParts.has(e)){t=[e]}else{t=this._splitParts.get(e)}return t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=false;for(const t of this._splitParts.keys()){if(t.isEmpty&&!this._emptyElementsToKeep.has(t)){this.conversionApi.writer.remove(t);this._splitParts.delete(t);e=true}}if(e){this._removeEmptyElements()}}}function Qw(e,t){const n=new Set;const i=new Map;const o=Sb._createIn(e).getItems();for(const e of o){if(e.is("element","$marker")){n.add(e)}}for(const e of n){const n=e.getAttribute("data-name");const o=t.createPositionBefore(e);if(!i.has(n)){i.set(n,new Sb(o.clone()))}else{i.get(n).end=o.clone()}t.remove(e)}return i}function Jw(e,t){let n;for(const i of new Sw(e)){const e={};for(const t of i.getAttributeKeys()){e[t]=i.getAttribute(t)}const o=t.createElement(i.name,e);if(n){t.insert(o,n)}n=yb._createAt(o,0)}return n}class Xw{getHtml(e){const t=document.implementation.createHTMLDocument("");const n=t.createElement("div");n.appendChild(e);return n.innerHTML}}class e_{constructor(e){this.skipComments=true;this.domParser=new DOMParser;this.domConverter=new vm(e,{renderingMode:"data"});this.htmlWriter=new Xw}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){if(!e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)){e=`<body>${e}</body>`}const t=this.domParser.parseFromString(e,"text/html");const n=t.createDocumentFragment();const i=t.body.childNodes;while(i.length>0){n.appendChild(i[0])}return n}}class t_ extends(G()){constructor(e,t){super();this.model=e;this.mapper=new Bb;this.downcastDispatcher=new Pb({mapper:this.mapper,schema:e.schema});this.downcastDispatcher.on("insert:$text",ok(),{priority:"lowest"});this.downcastDispatcher.on("insert",rk(),{priority:"lowest"});this.upcastDispatcher=new Zw({schema:e.schema});this.viewDocument=new _g(t);this.stylesProcessor=t;this.htmlProcessor=new e_(this.viewDocument);this.processor=this.htmlProcessor;this._viewWriter=new Pg(this.viewDocument);this.upcastDispatcher.on("text",Jk(),{priority:"lowest"});this.upcastDispatcher.on("element",Qk(),{priority:"lowest"});this.upcastDispatcher.on("documentFragment",Qk(),{priority:"lowest"});fe().prototype.decorate.call(this,"init");fe().prototype.decorate.call(this,"set");fe().prototype.decorate.call(this,"get");fe().prototype.decorate.call(this,"toView");fe().prototype.decorate.call(this,"toModel");this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"});this.on("ready",(()=>{this.model.enqueueChange({isUndoable:false},Gk)}),{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t])){throw new N("datacontroller-get-non-existent-root",this)}const i=this.model.document.getRoot(t);if(!i.isAttached()){z("datacontroller-get-detached-root",this)}if(n==="empty"&&!this.model.hasContent(i,{ignoreWhitespaces:true})){return""}return this.stringify(i,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument;const i=this._viewWriter;this.mapper.clearBindings();const o=Sb._createIn(e);const r=new Ng(n);this.mapper.bindElements(e,r);const s=e.is("documentFragment")?e.markers:n_(e);this.downcastDispatcher.convert(o,s,i,t);return r}init(e){if(this.model.document.version){throw new N("datacontroller-init-document-not-empty",this)}let t={};if(typeof e==="string"){t.main=e}else{t=e}if(!this._checkIfRootsExists(Object.keys(t))){throw new N("datacontroller-init-non-existent-root",this)}this.model.enqueueChange({isUndoable:false},(e=>{for(const n of Object.keys(t)){const i=this.model.document.getRoot(n);e.insert(this.parse(t[n],i),i,0)}}));return Promise.resolve()}set(e,t={}){let n={};if(typeof e==="string"){n.main=e}else{n=e}if(!this._checkIfRootsExists(Object.keys(n))){throw new N("datacontroller-set-non-existent-root",this)}this.model.enqueueChange(t.batchType||{},(e=>{e.setSelection(null);e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(n)){const i=this.model.document.getRoot(t);e.remove(e.createRangeIn(i));e.insert(this.parse(n[t],i),i,0)}}))}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change((n=>this.upcastDispatcher.convert(e,n,t)))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){if(this.processor&&this.processor!==this.htmlProcessor){this.processor.registerRawContentMatcher(e)}this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e){if(!this.model.document.getRoot(t)){return false}}return true}}function n_(e){const t=[];const n=e.root.document;if(!n){return new Map}const i=Sb._createIn(e);for(const e of n.model.markers){const n=e.getRange();const o=n.isCollapsed;const r=n.start.isEqual(i.start)||n.end.isEqual(i.end);if(o&&r){t.push([e.name,n])}else{const o=i.getIntersection(n);if(o){t.push([e.name,o])}}}t.sort((([e,t],[n,i])=>{if(t.end.compareWith(i.start)!=="after"){return 1}else if(t.start.compareWith(i.end)!=="before"){return-1}else{switch(t.start.compareWith(i.start)){case"before":return 1;case"after":return-1;default:switch(t.end.compareWith(i.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(e)}}}}));return new Map(t)}class i_{constructor(e,t){this._helpers=new Map;this._downcast=il(e);this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:true});this._upcast=il(t);this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:false})}addAlias(e,t){const n=this._downcast.includes(t);const i=this._upcast.includes(t);if(!i&&!n){throw new N("conversion-add-alias-dispatcher-not-registered",this)}this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e)){throw new N("conversion-for-unknown-group",this)}return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of o_(e)){this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of o_(e)){this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of o_(e)){this.for("upcast").attributeToAttribute({view:n,model:t})}}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e)){throw new N("conversion-group-exists",this)}const i=n?new ik(t):new Zk(t);this._helpers.set(e,i)}}function*o_(e){if(e.model.values){for(const t of e.model.values){const n={key:e.model.key,value:t};const i=e.view[t];const o=e.upcastAlso?e.upcastAlso[t]:undefined;yield*r_(n,i,o)}}else{yield*r_(e.model,e.view,e.upcastAlso)}}function*r_(e,t,n){yield{model:e,view:t};if(n){for(const t of il(n)){yield{model:e,view:t}}}}class s_{constructor(e){this.baseVersion=e;this.isDocumentOperation=this.baseVersion!==null;this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);e.__className=this.constructor.className;delete e.batch;delete e.isDocumentOperation;return e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function a_(e,t){const n=u_(t);const i=n.reduce(((e,t)=>e+t.offsetSize),0);const o=e.parent;f_(e);const r=e.index;o._insertChild(r,n);h_(o,r+n.length);h_(o,r);return new Sb(e,e.getShiftedBy(i))}function c_(e){if(!e.isFlat){throw new N("operation-utils-remove-range-not-flat",this)}const t=e.start.parent;f_(e.start);f_(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);h_(t,e.start.index);return n}function l_(e,t){if(!e.isFlat){throw new N("operation-utils-move-range-not-flat",this)}const n=c_(e);t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset);return a_(t,n)}function d_(e,t,n){f_(e.start);f_(e.end);for(const i of e.getItems({shallow:true})){const e=i.is("$textProxy")?i.textNode:i;if(n!==null){e._setAttribute(t,n)}else{e._removeAttribute(t)}h_(e.parent,e.index)}h_(e.end.parent,e.end.index)}function u_(e){const t=[];function n(e){if(typeof e=="string"){t.push(new kb(e))}else if(e instanceof wb){t.push(new kb(e.data,e.getAttributes()))}else if(e instanceof pb){t.push(e)}else if(De(e)){for(const t of e){n(t)}}}n(e);for(let e=1;e<t.length;e++){const n=t[e];const i=t[e-1];if(n instanceof kb&&i instanceof kb&&g_(n,i)){t.splice(e-1,2,new kb(i.data+n.data,i.getAttributes()));e--}}return t}function h_(e,t){const n=e.getChild(t-1);const i=e.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&g_(n,i)){const o=new kb(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2);e._insertChild(t-1,o)}}function f_(e){const t=e.textNode;const n=e.parent;if(t){const i=e.offset-t.startOffset;const o=t.index;n._removeChildren(o,1);const r=new kb(t.data.substr(0,i),t.getAttributes());const s=new kb(t.data.substr(i),t.getAttributes());n._insertChild(o,[r,s])}}function g_(e,t){const n=e.getAttributes();const i=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0])){return false}i.next()}return i.next().done}class m_ extends s_{constructor(e,t,n,i){super(i);this.sourcePosition=e.clone();this.sourcePosition.stickiness="toNext";this.howMany=t;this.targetPosition=n.clone();this.targetPosition.stickiness="toNone"}get type(){if(this.targetPosition.root.rootName=="$graveyard"){return"remove"}else if(this.sourcePosition.root.rootName=="$graveyard"){return"reinsert"}return"move"}get affectedSelectable(){return[Sb._createFromPositionAndShift(this.sourcePosition,this.howMany),Sb._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new m_(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new m_(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;const n=this.sourcePosition.offset;const i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset){throw new N("move-operation-nodes-do-not-exist",this)}else if(e===t&&n<i&&i<n+this.howMany){throw new N("move-operation-range-into-itself",this)}else if(this.sourcePosition.root==this.targetPosition.root){if(Ee(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany){throw new N("move-operation-node-into-itself",this)}}}}_execute(){l_(Sb._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();e.targetPosition=this.targetPosition.toJSON();return e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=yb.fromJSON(e.sourcePosition,t);const i=yb.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}class p_ extends s_{constructor(e,t,n){super(n);this.position=e.clone();this.position.stickiness="toNone";this.nodes=new bb(u_(t));this.shouldReceiveAttributes=false}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new bb([...this.nodes].map((e=>e._clone(true))));const t=new p_(this.position,e,this.baseVersion);t.shouldReceiveAttributes=this.shouldReceiveAttributes;return t}getReversed(){const e=this.position.root.document.graveyard;const t=new yb(e,[0]);return new m_(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset){throw new N("insert-operation-position-invalid",this)}}_execute(){const e=this.nodes;this.nodes=new bb([...e].map((e=>e._clone(true))));a_(this.position,e)}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();e.nodes=this.nodes.toJSON();return e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const t of e.nodes){if(t.name){n.push(_b.fromJSON(t))}else{n.push(kb.fromJSON(t))}}const i=new p_(yb.fromJSON(e.position,t),n,e.baseVersion);i.shouldReceiveAttributes=e.shouldReceiveAttributes;return i}}class b_ extends s_{constructor(e,t,n,i,o){super(o);this.splitPosition=e.clone();this.splitPosition.stickiness="toNext";this.howMany=t;this.insertionPosition=n;this.graveyardPosition=i?i.clone():null;if(this.graveyardPosition){this.graveyardPosition.stickiness="toNext"}}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();e.push(0);return new yb(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Sb(this.splitPosition,e)}get affectedSelectable(){const e=[Sb._createFromPositionAndShift(this.splitPosition,0),Sb._createFromPositionAndShift(this.insertionPosition,0)];if(this.graveyardPosition){e.push(Sb._createFromPositionAndShift(this.graveyardPosition,0))}return e}clone(){return new b_(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard;const t=new yb(e,[0]);return new k_(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;const t=this.splitPosition.offset;if(!e||e.maxOffset<t){throw new N("split-operation-position-invalid",this)}else if(!e.parent){throw new N("split-operation-split-in-root",this)}else if(this.howMany!=e.maxOffset-this.splitPosition.offset){throw new N("split-operation-how-many-invalid",this)}else if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter){throw new N("split-operation-graveyard-position-invalid",this)}}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition){l_(Sb._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition)}else{const t=e._clone();a_(this.insertionPosition,t)}const t=new Sb(yb._createAt(e,this.splitPosition.offset),yb._createAt(e,e.maxOffset));l_(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();e.splitPosition=this.splitPosition.toJSON();e.insertionPosition=this.insertionPosition.toJSON();if(this.graveyardPosition){e.graveyardPosition=this.graveyardPosition.toJSON()}return e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);t[t.length-1]++;return new yb(e.root,t,"toPrevious")}static fromJSON(e,t){const n=yb.fromJSON(e.splitPosition,t);const i=yb.fromJSON(e.insertionPosition,t);const o=e.graveyardPosition?yb.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,o,e.baseVersion)}}class k_ extends s_{constructor(e,t,n,i,o){super(o);this.sourcePosition=e.clone();this.sourcePosition.stickiness="toPrevious";this.howMany=t;this.targetPosition=n.clone();this.targetPosition.stickiness="toNext";this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new yb(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Sb(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Sb._createOn(e),Sb._createFromPositionAndShift(this.targetPosition,0),Sb._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new k_(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this);const t=this.sourcePosition.path.slice(0,-1);const n=new yb(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new b_(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;if(!e.parent){throw new N("merge-operation-source-position-invalid",this)}else if(!t.parent){throw new N("merge-operation-target-position-invalid",this)}else if(this.howMany!=e.maxOffset){throw new N("merge-operation-how-many-invalid",this)}}_execute(){const e=this.sourcePosition.parent;const t=Sb._createIn(e);l_(t,this.targetPosition);l_(Sb._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();e.sourcePosition=e.sourcePosition.toJSON();e.targetPosition=e.targetPosition.toJSON();e.graveyardPosition=e.graveyardPosition.toJSON();return e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=yb.fromJSON(e.sourcePosition,t);const i=yb.fromJSON(e.targetPosition,t);const o=yb.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,o,e.baseVersion)}}class w_ extends s_{constructor(e,t,n,i,o,r){super(r);this.name=e;this.oldRange=t?t.clone():null;this.newRange=n?n.clone():null;this.affectsData=o;this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];if(this.oldRange){e.push(this.oldRange.clone())}if(this.newRange){if(this.oldRange){e.push(...this.newRange.getDifference(this.oldRange))}else{e.push(this.newRange.clone())}}return e}clone(){return new w_(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new w_(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){if(this.newRange){this._markers._set(this.name,this.newRange,true,this.affectsData)}else{this._markers._remove(this.name)}}toJSON(){const e=super.toJSON();if(this.oldRange){e.oldRange=this.oldRange.toJSON()}if(this.newRange){e.newRange=this.newRange.toJSON()}delete e._markers;return e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new w_(e.name,e.oldRange?Sb.fromJSON(e.oldRange,t):null,e.newRange?Sb.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}function __(e,t){return Qp(e,t)}const A_=__;class v_ extends s_{constructor(e,t,n,i,o){super(o);this.range=e.clone();this.key=t;this.oldValue=n===undefined?null:n;this.newValue=i===undefined?null:i}get type(){if(this.oldValue===null){return"addAttribute"}else if(this.newValue===null){return"removeAttribute"}else{return"changeAttribute"}}get affectedSelectable(){return this.range.clone()}clone(){return new v_(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new v_(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();e.range=this.range.toJSON();return e}_validate(){if(!this.range.isFlat){throw new N("attribute-operation-range-not-flat",this)}for(const e of this.range.getItems({shallow:true})){if(this.oldValue!==null&&!A_(e.getAttribute(this.key),this.oldValue)){throw new N("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue})}if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key)){throw new N("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}}_execute(){if(!A_(this.oldValue,this.newValue)){d_(this.range,this.key,this.newValue)}}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new v_(Sb.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class C_ extends s_{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new C_(this.baseVersion)}getReversed(){return new C_(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class y_ extends s_{constructor(e,t,n,i){super(i);this.position=e;this.position.stickiness="toNext";this.oldName=t;this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new y_(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new y_(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof _b)){throw new N("rename-operation-wrong-position",this)}else if(e.name!==this.oldName){throw new N("rename-operation-wrong-name",this)}}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();return e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new y_(yb.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class x_ extends s_{constructor(e,t,n,i,o){super(o);this.root=e;this.key=t;this.oldValue=n===undefined?null:n;this.newValue=i===undefined?null:i}get type(){if(this.oldValue===null){return"addRootAttribute"}else if(this.newValue===null){return"removeRootAttribute"}else{return"changeRootAttribute"}}get affectedSelectable(){return this.root}clone(){return new x_(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new x_(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment")){throw new N("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key})}if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue){throw new N("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key})}if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key)){throw new N("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}}_execute(){if(this.newValue!==null){this.root._setAttribute(this.key,this.newValue)}else{this.root._removeAttribute(this.key)}}toJSON(){const e=super.toJSON();e.root=this.root.toJSON();return e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root)){throw new N("rootattribute-operation-fromjson-no-root",this,{rootName:e.root})}return new x_(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class E_ extends s_{constructor(e,t,n,i,o){super(o);this.rootName=e;this.elementName=t;this.isAdd=n;this._document=i;if(!this._document.getRoot(this.rootName)){const e=this._document.createRoot(this.elementName,this.rootName);e._isAttached=false}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new E_(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new E_(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd){throw new N("root-operation-root-attached",this)}else if(!e.isAttached()&&!this.isAdd){throw new N("root-operation-root-detached",this)}}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();delete e._document;return e}static get className(){return"RootOperation"}static fromJSON(e,t){return new E_(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const D_={};D_[v_.className]=v_;D_[p_.className]=p_;D_[w_.className]=w_;D_[m_.className]=m_;D_[C_.className]=C_;D_[s_.className]=s_;D_[y_.className]=y_;D_[x_.className]=x_;D_[E_.className]=E_;D_[b_.className]=b_;D_[k_.className]=k_;class T_{static fromJSON(e,t){return D_[e.__className].fromJSON(e,t)}}const M_=new Map;function I_(e,t,n){let i=M_.get(e);if(!i){i=new Map;M_.set(e,i)}i.set(t,n)}function S_(e,t){const n=M_.get(e);if(n&&n.has(t)){return n.get(t)}return B_}function B_(e){return[e]}function N_(e,t,n={}){const i=S_(e.constructor,t.constructor);try{e=e.clone();return i(e,t,n)}catch(e){throw e}}function z_(e,t,n){e=e.slice();t=t.slice();const i=new P_(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e);i.setOriginalOperations(t);const o=i.originalOperations;if(e.length==0||t.length==0){return{operationsA:e,operationsB:t,originalOperations:o}}const r=new WeakMap;for(const t of e){r.set(t,0)}const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;while(a<e.length){const n=e[a];const o=r.get(n);if(o==t.length){a++;continue}const s=t[o];const c=N_(n,s,i.getContext(n,s,true));const l=N_(s,n,i.getContext(s,n,false));i.updateRelation(n,s);i.setOriginalOperations(c,n);i.setOriginalOperations(l,s);for(const e of c){r.set(e,o+l.length)}e.splice(a,1,...c);t.splice(o,1,...l)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount;const i=t.length-s.originalOperationsBCount;O_(e,i-n);O_(t,n-i)}L_(e,s.nextBaseVersionB);L_(t,s.nextBaseVersionA);return{operationsA:e,operationsB:t,originalOperations:o}}class P_{constructor(e,t,n=false){this.originalOperations=new Map;this._history=e.history;this._useRelations=t;this._forceWeakRemove=!!n;this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const t of e){this.originalOperations.set(t,n||t)}}updateRelation(e,t){if(e instanceof m_){if(t instanceof k_){if(e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)){this._setRelation(e,t,"insertAtSource")}else if(e.targetPosition.isEqual(t.deletionPosition)){this._setRelation(e,t,"insertBetween")}else if(e.targetPosition.isAfter(t.sourcePosition)){this._setRelation(e,t,"moveTargetAfter")}}else if(t instanceof m_){if(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"insertBefore")}else{this._setRelation(e,t,"insertAfter")}}}else if(e instanceof b_){if(t instanceof k_){if(e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"splitBefore")}}else if(t instanceof m_){if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"splitBefore")}else{const n=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=n.end.offset-e.splitPosition.offset;const o=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:o})}}}}else if(e instanceof k_){if(t instanceof k_){if(!e.targetPosition.isEqual(t.sourcePosition)){this._setRelation(e,t,"mergeTargetNotMoved")}if(e.sourcePosition.isEqual(t.targetPosition)){this._setRelation(e,t,"mergeSourceNotMoved")}if(e.sourcePosition.isEqual(t.sourcePosition)){this._setRelation(e,t,"mergeSameElement")}}else if(t instanceof b_){if(e.sourcePosition.isEqual(t.splitPosition)){this._setRelation(e,t,"splitAtSource")}}}else if(e instanceof w_){const n=e.newRange;if(!n){return}if(t instanceof m_){const i=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);const o=i.containsPosition(n.start)||i.start.isEqual(n.start);const r=i.containsPosition(n.end)||i.end.isEqual(n.end);if((o||r)&&!i.containsRange(n)){this._setRelation(e,t,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()})}}else if(t instanceof k_){const i=n.start.isEqual(t.targetPosition);const o=n.start.isEqual(t.deletionPosition);const r=n.end.isEqual(t.deletionPosition);const s=n.end.isEqual(t.sourcePosition);if(i||o||r||s){this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s})}}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t);const i=this._history.getUndoneOperation(n);if(!i){return null}const o=this.originalOperations.get(e);const r=this._relations.get(o);if(r){return r.get(i)||null}return null}_setRelation(e,t,n){const i=this.originalOperations.get(e);const o=this.originalOperations.get(t);let r=this._relations.get(i);if(!r){r=new Map;this._relations.set(i,r)}r.set(o,n)}}function L_(e,t){for(const n of e){n.baseVersion=t++}}function O_(e,t){for(let n=0;n<t;n++){e.push(new C_(0))}}I_(v_,v_,((e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const i=e.range.getDifference(t.range).map((t=>new v_(t,e.key,e.oldValue,e.newValue,0)));const o=e.range.getIntersection(t.range);if(o){if(n.aIsStrong){i.push(new v_(o,t.key,t.newValue,e.newValue,0))}}if(i.length==0){return[new C_(0)]}return i}else{return[e]}}));I_(v_,p_,((e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes);const i=n.map((t=>new v_(t,e.key,e.oldValue,e.newValue,e.baseVersion)));if(t.shouldReceiveAttributes){const n=R_(t,e.key,e.oldValue);if(n){i.unshift(n)}}return i}e.range=e.range._getTransformedByInsertion(t.position,t.howMany,false)[0];return[e]}));function R_(e,t,n){const i=e.nodes;const o=i.getNode(0).getAttribute(t);if(o==n){return null}const r=new Sb(e.position,e.position.getShiftedBy(e.howMany));return new v_(r,t,o,n,0)}I_(v_,k_,((e,t)=>{const n=[];if(e.range.start.hasSameParentAs(t.deletionPosition)){if(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition)){n.push(Sb._createFromPositionAndShift(t.graveyardPosition,1))}}const i=e.range._getTransformedByMergeOperation(t);if(!i.isCollapsed){n.push(i)}return n.map((t=>new v_(t,e.key,e.oldValue,e.newValue,e.baseVersion)))}));I_(v_,m_,((e,t)=>{const n=j_(e.range,t);return n.map((t=>new v_(t,e.key,e.oldValue,e.newValue,e.baseVersion)))}));function j_(e,t){const n=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null;let o=[];if(n.containsRange(e,true)){i=e}else if(e.start.hasSameParentAs(n.start)){o=e.getDifference(n);i=e.getIntersection(n)}else{o=[e]}const r=[];for(let e of o){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart();const i=e.start.hasSameParentAs(n);const o=e._getTransformedByInsertion(n,t.howMany,i);r.push(...o)}if(i){r.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,false)[0])}return r}I_(v_,b_,((e,t)=>{if(e.range.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.range.end.offset++}return[e]}if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();n.range=new Sb(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition));e.range.end=t.splitPosition.clone();e.range.end.stickiness="toPrevious";return[e,n]}e.range=e.range._getTransformedBySplitOperation(t);return[e]}));I_(p_,v_,((e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const i=R_(e,t.key,t.newValue);if(i){n.push(i)}}return n}));I_(p_,p_,((e,t,n)=>{if(e.position.isEqual(t.position)&&n.aIsStrong){return[e]}e.position=e.position._getTransformedByInsertOperation(t);return[e]}));I_(p_,m_,((e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return[e]}));I_(p_,b_,((e,t)=>{e.position=e.position._getTransformedBySplitOperation(t);return[e]}));I_(p_,k_,((e,t)=>{e.position=e.position._getTransformedByMergeOperation(t);return[e]}));I_(w_,p_,((e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]}if(e.newRange){e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]}return[e]}));I_(w_,w_,((e,t,n)=>{if(e.name==t.name){if(n.aIsStrong){e.oldRange=t.newRange?t.newRange.clone():null}else{return[new C_(0)]}}return[e]}));I_(w_,k_,((e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByMergeOperation(t)}if(e.newRange){e.newRange=e.newRange._getTransformedByMergeOperation(t)}return[e]}));I_(w_,m_,((e,t,n)=>{if(e.oldRange){e.oldRange=Sb._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))}if(e.newRange){if(n.abRelation){const i=Sb._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if(n.abRelation.side=="left"&&t.targetPosition.isEqual(e.newRange.start)){e.newRange.end=i.end;e.newRange.start.path=n.abRelation.path;return[e]}else if(n.abRelation.side=="right"&&t.targetPosition.isEqual(e.newRange.end)){e.newRange.start=i.start;e.newRange.end.path=n.abRelation.path;return[e]}}e.newRange=Sb._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}));I_(w_,b_,((e,t,n)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedBySplitOperation(t)}if(e.newRange){if(n.abRelation){const i=e.newRange._getTransformedBySplitOperation(t);if(e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement){e.newRange.start=yb._createAt(t.insertionPosition)}else if(e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement){e.newRange.start=yb._createAt(t.moveTargetPosition)}if(e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement){e.newRange.end=yb._createAt(t.moveTargetPosition)}else if(e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement){e.newRange.end=yb._createAt(t.insertionPosition)}else{e.newRange.end=i.end}return[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}));I_(k_,p_,((e,t)=>{if(e.sourcePosition.hasSameParentAs(t.position)){e.howMany+=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t);e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t);return[e]}));I_(k_,k_,((e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(!n.bWasUndone){return[new C_(0)]}else{const n=t.graveyardPosition.path.slice();n.push(0);e.sourcePosition=new yb(t.graveyardPosition.root,n);e.howMany=0;return[e]}}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const i=e.targetPosition.root.rootName=="$graveyard";const o=t.targetPosition.root.rootName=="$graveyard";const r=i&&!o;const s=o&&!i;const a=s||!r&&n.aIsStrong;if(a){const n=t.targetPosition._getTransformedByMergeOperation(t);const i=e.targetPosition._getTransformedByMergeOperation(t);return[new m_(n,e.howMany,i,0)]}else{return[new C_(0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t);e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);if(!e.graveyardPosition.isEqual(t.graveyardPosition)||!n.aIsStrong){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)}return[e]}));I_(k_,m_,((e,t,n)=>{const i=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);if(t.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove){if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)){return[new C_(0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}if(e.sourcePosition.hasSameParentAs(t.sourcePosition)){e.howMany-=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t);e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t);if(!e.graveyardPosition.isEqual(t.targetPosition)){e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}return[e]}));I_(k_,b_,((e,t,n)=>{if(t.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1);if(e.deletionPosition.isEqual(t.graveyardPosition)){e.howMany=t.howMany}}if(e.targetPosition.isEqual(t.splitPosition)){const i=t.howMany!=0;const o=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||o||n.abRelation=="mergeTargetNotMoved"){e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);return[e]}}if(e.sourcePosition.isEqual(t.splitPosition)){if(n.abRelation=="mergeSourceNotMoved"){e.howMany=0;e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]}if(n.abRelation=="mergeSameElement"||e.sourcePosition.offset>0){e.sourcePosition=t.moveTargetPosition.clone();e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]}}if(e.sourcePosition.hasSameParentAs(t.splitPosition)){e.howMany=t.splitPosition.offset}e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]}));I_(m_,p_,((e,t)=>{const n=Sb._createFromPositionAndShift(e.sourcePosition,e.howMany);const i=n._getTransformedByInsertOperation(t,false)[0];e.sourcePosition=i.start;e.howMany=i.end.offset-i.start.offset;if(!e.targetPosition.isEqual(t.position)){e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)}return[e]}));I_(m_,m_,((e,t,n)=>{const i=Sb._createFromPositionAndShift(e.sourcePosition,e.howMany);const o=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=n.aIsStrong;let s=!n.aIsStrong;if(n.abRelation=="insertBefore"||n.baRelation=="insertAfter"){s=true}else if(n.abRelation=="insertAfter"||n.baRelation=="insertBefore"){s=false}let a;if(e.targetPosition.isEqual(t.targetPosition)&&s){a=e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}else{a=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}if(F_(e,t)&&F_(t,e)){return[t.getReversed()]}const c=i.containsPosition(t.targetPosition);if(c&&i.containsRange(o,true)){i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return V_([i],a)}const l=o.containsPosition(e.targetPosition);if(l&&o.containsRange(i,true)){i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart());i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart());return V_([i],a)}const d=Ee(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d=="prefix"||d=="extension"){i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return V_([i],a)}if(e.type=="remove"&&t.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove){r=true}else if(e.type!="remove"&&t.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove){r=false}const u=[];const h=i.getDifference(o);for(const e of h){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany);e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=Ee(e.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same";const i=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);u.push(...i)}const f=i.getIntersection(o);if(f!==null&&r){f.start=f.start._getCombined(t.sourcePosition,t.getMovedRangeStart());f.end=f.end._getCombined(t.sourcePosition,t.getMovedRangeStart());if(u.length===0){u.push(f)}else if(u.length==1){if(o.start.isBefore(i.start)||o.start.isEqual(i.start)){u.unshift(f)}else{u.push(f)}}else{u.splice(1,0,f)}}if(u.length===0){return[new C_(e.baseVersion)]}return V_(u,a)}));I_(m_,b_,((e,t,n)=>{let i=e.targetPosition.clone();if(!e.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||n.abRelation=="moveTargetAfter"){i=e.targetPosition._getTransformedBySplitOperation(t)}const o=Sb._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.howMany++}e.targetPosition=i;return[e]}if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let e=new Sb(t.splitPosition,o.end);e=e._getTransformedBySplitOperation(t);const n=[new Sb(o.start,t.splitPosition),e];return V_(n,i)}if(e.targetPosition.isEqual(t.splitPosition)&&n.abRelation=="insertAtSource"){i=t.moveTargetPosition}if(e.targetPosition.isEqual(t.insertionPosition)&&n.abRelation=="insertBetween"){i=e.targetPosition}const r=o._getTransformedBySplitOperation(t);const s=[r];if(t.graveyardPosition){const i=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);if(e.howMany>1&&i&&!n.aWasUndone){s.push(Sb._createFromPositionAndShift(t.insertionPosition,1))}}return V_(s,i)}));I_(m_,k_,((e,t,n)=>{const i=Sb._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(e.type=="remove"&&!n.forceWeakRemove){if(!n.aWasUndone){const n=[];let i=t.graveyardPosition.clone();let o=t.targetPosition._getTransformedByMergeOperation(t);if(e.howMany>1){n.push(new m_(e.sourcePosition,e.howMany-1,e.targetPosition,0));i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1);o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1)}const r=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition);const s=new m_(i,1,r,0);const a=s.getMovedRangeStart().path.slice();a.push(0);const c=new yb(s.targetPosition.root,a);o=o._getTransformedByMove(i,r,1);const l=new m_(o,t.howMany,c,0);n.push(s);n.push(l);return n}}else{if(e.howMany==1){if(!n.bWasUndone){return[new C_(0)]}else{e.sourcePosition=t.graveyardPosition.clone();e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return[e]}}}}const o=Sb._createFromPositionAndShift(e.sourcePosition,e.howMany);const r=o._getTransformedByMergeOperation(t);e.sourcePosition=r.start;e.howMany=r.end.offset-r.start.offset;e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return[e]}));I_(y_,p_,((e,t)=>{e.position=e.position._getTransformedByInsertOperation(t);return[e]}));I_(y_,k_,((e,t)=>{if(e.position.isEqual(t.deletionPosition)){e.position=t.graveyardPosition.clone();e.position.stickiness="toNext";return[e]}e.position=e.position._getTransformedByMergeOperation(t);return[e]}));I_(y_,m_,((e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return[e]}));I_(y_,y_,((e,t,n)=>{if(e.position.isEqual(t.position)){if(n.aIsStrong){e.oldName=t.newName}else{return[new C_(0)]}}return[e]}));I_(y_,b_,((e,t)=>{const n=e.position.path;const i=t.splitPosition.getParentPath();if(Ee(n,i)=="same"&&!t.graveyardPosition){const t=new y_(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}e.position=e.position._getTransformedBySplitOperation(t);return[e]}));I_(x_,x_,((e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue){return[new C_(0)]}else{e.oldValue=t.newValue}}return[e]}));I_(E_,E_,((e,t,n)=>{if(e.rootName===t.rootName&&e.isAdd===t.isAdd&&!n.bWasUndone){return[new C_(0)]}return[e]}));I_(b_,p_,((e,t)=>{if(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset){e.howMany+=t.howMany}e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t);e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t);return[e]}));I_(b_,k_,((e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const i=new yb(t.graveyardPosition.root,n);const o=b_.getInsertionPosition(new yb(t.graveyardPosition.root,n));const r=new b_(i,0,o,null,0);e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=b_.getInsertionPosition(e.splitPosition);e.graveyardPosition=r.insertionPosition.clone();e.graveyardPosition.stickiness="toNext";return[r,e]}if(e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)){e.howMany--}if(e.splitPosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=b_.getInsertionPosition(e.splitPosition);if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)}return[e]}));I_(b_,m_,((e,t,n)=>{const i=Sb._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const o=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&o){const n=e.splitPosition._getTransformedByMoveOperation(t);const i=e.graveyardPosition._getTransformedByMoveOperation(t);const o=i.path.slice();o.push(0);const r=new yb(i.root,o);const s=new m_(n,e.howMany,r,0);return[s]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const o=e.splitPosition.isEqual(t.targetPosition);if(o&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore")){e.howMany+=t.howMany;e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany);e.insertionPosition=b_.getInsertionPosition(e.splitPosition);return[e]}if(o&&n.abRelation&&n.abRelation.howMany){const{howMany:t,offset:i}=n.abRelation;e.howMany+=t;e.splitPosition=e.splitPosition.getShiftedBy(i);return[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);e.howMany-=n;if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany}e.splitPosition=t.sourcePosition.clone();e.insertionPosition=b_.getInsertionPosition(e.splitPosition);return[e]}if(!t.sourcePosition.isEqual(t.targetPosition)){if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset){e.howMany-=t.howMany}if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany}}e.splitPosition.stickiness="toNone";e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t);e.splitPosition.stickiness="toNext";if(e.graveyardPosition){e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t)}else{e.insertionPosition=b_.getInsertionPosition(e.splitPosition)}return[e]}));I_(b_,b_,((e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition){return[new C_(0)]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){return[new C_(0)]}if(n.abRelation=="splitBefore"){e.howMany=0;e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t);return[e]}}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const i=e.splitPosition.root.rootName=="$graveyard";const o=t.splitPosition.root.rootName=="$graveyard";const r=i&&!o;const s=o&&!i;const a=s||!r&&n.aIsStrong;if(a){const n=[];if(t.howMany){n.push(new m_(t.moveTargetPosition,t.howMany,t.splitPosition,0))}if(e.howMany){n.push(new m_(e.splitPosition,e.howMany,e.moveTargetPosition,0))}return n}else{return[new C_(0)]}}if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)}if(e.splitPosition.isEqual(t.insertionPosition)&&n.abRelation=="splitBefore"){e.howMany++;return[e]}if(t.splitPosition.isEqual(e.insertionPosition)&&n.baRelation=="splitBefore"){const n=t.insertionPosition.path.slice();n.push(0);const i=new yb(t.insertionPosition.root,n);const o=new m_(e.insertionPosition,1,i,0);return[e,o]}if(e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset){e.howMany-=t.howMany}e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t);e.insertionPosition=b_.getInsertionPosition(e.splitPosition);return[e]}));function F_(e,t){return e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function V_(e,t){const n=[];for(let i=0;i<e.length;i++){const o=e[i];const r=new m_(o.start,o.end.offset-o.start.offset,t,0);n.push(r);for(let t=i+1;t<e.length;t++){e[t]=e[t]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0]}t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}class H_ extends(G(yb)){constructor(e,t,n="toNone"){super(e,t,n);if(!this.root.is("rootElement")){throw new N("model-liveposition-root-not-rootelement",e)}U_.call(this)}detach(){this.stopListening()}toPosition(){return new yb(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t?t:e.stickiness)}}H_.prototype.is=function(e){return e==="livePosition"||e==="model:livePosition"||e=="position"||e==="model:position"};function U_(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}W_.call(this,n)}),{priority:"low"})}function W_(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path;this.root=t.root;this.fire("change",e)}}class $_{constructor(e={}){if(typeof e==="string"){e=e==="transparent"?{isUndoable:false}:{};z("batch-constructor-deprecated-string-type")}const{isUndoable:t=true,isLocal:n=true,isUndo:i=false,isTyping:o=false}=e;this.operations=[];this.isUndoable=t;this.isLocal=n;this.isUndo=i;this.isTyping=o}get type(){z("batch-type-deprecated");return"default"}get baseVersion(){for(const e of this.operations){if(e.baseVersion!==null){return e.baseVersion}}return null}addOperation(e){e.batch=this;this.operations.push(e);return e}}class q_{constructor(e){this._changesInElement=new Map;this._elementSnapshots=new Map;this._changedMarkers=new Map;this._changedRoots=new Map;this._changeCount=0;this._cachedChanges=null;this._cachedChangesWithGraveyard=null;this._refreshedItems=new Set;this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent)){return}this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const e of t.range.getItems({shallow:true})){if(this._isInInsertedElement(e.parent)){continue}this._markAttribute(e)}break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition)){return}const e=this._isInInsertedElement(t.sourcePosition.parent);const n=this._isInInsertedElement(t.targetPosition.parent);if(!e){this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany)}if(!n){this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany)}break}case"rename":{if(this._isInInsertedElement(t.position.parent)){return}this._markRemove(t.position.parent,t.position.offset,1);this._markInsert(t.position.parent,t.position.offset,1);const e=Sb._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}break}case"split":{const e=t.splitPosition.parent;if(!this._isInInsertedElement(e)){this._markRemove(e,t.splitPosition.offset,t.howMany)}if(!this._isInInsertedElement(t.insertionPosition.parent)){this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1)}if(t.graveyardPosition){this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1)}break}case"merge":{const e=t.sourcePosition.parent;if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,1)}const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;if(!this._isInInsertedElement(i)){this._markInsert(i,t.targetPosition.offset,e.maxOffset)}break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){const i=this._changedMarkers.get(e);if(!i){this._changedMarkers.set(e,{newMarkerData:n,oldMarkerData:t})}else{i.newMarkerData=n;if(i.oldMarkerData.range==null&&n.range==null){this._changedMarkers.delete(e)}}}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers){if(n.oldMarkerData.range!=null){e.push({name:t,range:n.oldMarkerData.range})}}return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers){if(n.newMarkerData.range!=null){e.push({name:t,range:n.newMarkerData.range})}}return e}getChangedMarkers(){return Array.from(this._changedMarkers).map((([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}})))}hasDataChanges(){if(this._changesInElement.size>0){return true}if(this._changedRoots.size>0){return true}for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData){return true}if(e.affectsData){const n=e.range&&!t.range;const i=!e.range&&t.range;const o=e.range&&t.range&&!e.range.isEqual(t.range);if(n||i||o){return true}}}return false}getChanges(e={}){if(this._cachedChanges){if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard.slice()}else{return this._cachedChanges.slice()}}let t=[];for(const e of this._changesInElement.keys()){const n=this._changesInElement.get(e).sort(((e,t)=>{if(e.offset===t.offset){if(e.type!=t.type){return e.type=="remove"?-1:1}return 0}return e.offset<t.offset?-1:1}));const i=this._elementSnapshots.get(e);const o=G_(e.getChildren());const r=Y_(i.length,n);let s=0;let a=0;for(const n of r){if(n==="i"){t.push(this._getInsertDiff(e,s,o[s]));s++}else if(n==="r"){t.push(this._getRemoveDiff(e,s,i[a]));a++}else if(n==="a"){const n=o[s].attributes;const r=i[a].attributes;let c;if(o[s].name=="$text"){c=new Sb(yb._createAt(e,s),yb._createAt(e,s+1))}else{const t=e.offsetToIndex(s);c=new Sb(yb._createAt(e,s),yb._createAt(e.getChild(t),0))}t.push(...this._getAttributesDiff(c,r,n));s++;a++}else{s++;a++}}}t.sort(((e,t)=>{if(e.position.root!=t.position.root){return e.position.root.rootName<t.position.root.rootName?-1:1}if(e.position.isEqual(t.position)){return e.changeCount-t.changeCount}return e.position.isBefore(t.position)?-1:1}));for(let e=1,n=0;e<t.length;e++){const i=t[n];const o=t[e];const r=i.type=="remove"&&o.type=="remove"&&i.name=="$text"&&o.name=="$text"&&i.position.isEqual(o.position);const s=i.type=="insert"&&o.type=="insert"&&i.name=="$text"&&o.name=="$text"&&i.position.parent==o.position.parent&&i.position.offset+i.length==o.position.offset;const a=i.type=="attribute"&&o.type=="attribute"&&i.position.parent==o.position.parent&&i.range.isFlat&&o.range.isFlat&&i.position.offset+i.length==o.position.offset&&i.attributeKey==o.attributeKey&&i.attributeOldValue==o.attributeOldValue&&i.attributeNewValue==o.attributeNewValue;if(r||s||a){i.length++;if(a){i.range.end=i.range.end.getShiftedBy(1)}t[e]=null}else{n=e}}t=t.filter((e=>e));for(const e of t){delete e.changeCount;if(e.type=="attribute"){delete e.position;delete e.length}}this._changeCount=0;this._cachedChangesWithGraveyard=t;this._cachedChanges=t.filter(K_);if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard.slice()}else{return this._cachedChanges.slice()}}getChangedRoots(){return Array.from(this._changedRoots.values()).map((e=>{const t={...e};if(t.state!==undefined){delete t.attributes}return t}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear();this._elementSnapshots.clear();this._changedMarkers.clear();this._changedRoots.clear();this._refreshedItems=new Set;this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);if(n.state!==undefined){delete n.state;if(n.attributes===undefined){this._changedRoots.delete(e)}}else{n.state=t?"attached":"detached"}}_bufferRootAttributeChange(e,t,n,i){const o=this._changedRoots.get(e)||{name:e};const r=o.attributes||{};if(r[t]){const e=r[t];if(i===e.oldValue){delete r[t]}else{e.newValue=i}}else{r[t]={oldValue:n,newValue:i}}if(Object.entries(r).length===0){delete o.attributes;if(o.state===undefined){this._changedRoots.delete(e)}}else{o.attributes=r;this._changedRoots.set(e,o)}}_refreshItem(e){if(this._isInInsertedElement(e.parent)){return}this._markRemove(e.parent,e.startOffset,e.offsetSize);this._markInsert(e.parent,e.startOffset,e.offsetSize);this._refreshedItems.add(e);const t=Sb._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}this._cachedChanges=null}_markInsert(e,t,n){const i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){const i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i);this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n);n.push(t);for(let e=0;e<n.length;e++){if(n[e].howMany<1){n.splice(e,1);e--}}}_getChangesForElement(e){let t;if(this._changesInElement.has(e)){t=this._changesInElement.get(e)}else{t=[];this._changesInElement.set(e,t)}return t}_makeSnapshot(e){if(!this._elementSnapshots.has(e)){this._elementSnapshots.set(e,G_(e.getChildren()))}}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany;const o=n.offset+n.howMany;if(e.type=="insert"){if(n.type=="insert"){if(e.offset<=n.offset){n.offset+=e.howMany}else if(e.offset<o){n.howMany+=e.nodesToHandle;e.nodesToHandle=0}}if(n.type=="remove"){if(e.offset<n.offset){n.offset+=e.howMany}}if(n.type=="attribute"){if(e.offset<=n.offset){n.offset+=e.howMany}else if(e.offset<o){const o=n.howMany;n.howMany=e.offset-n.offset;t.unshift({type:"attribute",offset:i,howMany:o-n.howMany,count:this._changeCount++})}}}if(e.type=="remove"){if(n.type=="insert"){if(i<=n.offset){n.offset-=e.howMany}else if(i<=o){if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset;n.howMany-=t;e.nodesToHandle-=t}else{n.howMany-=e.nodesToHandle;e.nodesToHandle=0}}else{if(e.offset<=n.offset){e.nodesToHandle-=n.howMany;n.howMany=0}else if(e.offset<o){const t=o-e.offset;n.howMany-=t;e.nodesToHandle-=t}}}if(n.type=="remove"){if(i<=n.offset){n.offset-=e.howMany}else if(e.offset<n.offset){e.nodesToHandle+=n.howMany;n.howMany=0}}if(n.type=="attribute"){if(i<=n.offset){n.offset-=e.howMany}else if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset;n.howMany-=t}else if(e.offset<o){if(i<=o){const i=n.howMany;n.howMany=e.offset-n.offset;const o=i-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:o,count:this._changeCount++})}else{n.howMany-=o-e.offset}}}}if(e.type=="attribute"){if(n.type=="insert"){if(e.offset<n.offset&&i>n.offset){if(i>o){const e={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(e,t);t.push(e)}e.nodesToHandle=n.offset-e.offset;e.howMany=e.nodesToHandle}else if(e.offset>=n.offset&&e.offset<o){if(i>o){e.nodesToHandle=i-o;e.offset=o}else{e.nodesToHandle=0}}}if(n.type=="remove"){if(e.offset<n.offset&&i>n.offset){const o={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(o,t);t.push(o);e.nodesToHandle=n.offset-e.offset;e.howMany=e.nodesToHandle}}if(n.type=="attribute"){if(e.offset>=n.offset&&i<=o){e.nodesToHandle=0;e.howMany=0;e.offset=0}else if(e.offset<=n.offset&&i>=o){n.howMany=0}}}}e.howMany=e.nodesToHandle;delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:yb._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:yb._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[o,r]of t){const t=n.has(o)?n.get(o):null;if(t!==r){i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++})}n.delete(o)}for(const[t,o]of n){i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++})}return i}_isInInsertedElement(e){const t=e.parent;if(!t){return false}const n=this._changesInElement.get(t);const i=e.startOffset;if(n){for(const e of n){if(e.type=="insert"&&i>=e.offset&&i<e.offset+e.howMany){return true}}}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new Sb(yb._createAt(e,t),yb._createAt(e,t+n));for(const e of i.getItems({shallow:true})){if(e.is("element")){this._elementSnapshots.delete(e);this._changesInElement.delete(e);this._removeAllNestedChanges(e,0,e.maxOffset)}}}}function G_(e){const t=[];for(const n of e){if(n.is("$text")){for(let e=0;e<n.data.length;e++){t.push({name:"$text",attributes:new Map(n.getAttributes())})}}else{t.push({name:n.name,attributes:new Map(n.getAttributes())})}}return t}function Y_(e,t){const n=[];let i=0;let o=0;for(const e of t){if(e.offset>i){for(let t=0;t<e.offset-i;t++){n.push("e")}o+=e.offset-i}if(e.type=="insert"){for(let t=0;t<e.howMany;t++){n.push("i")}i=e.offset+e.howMany}else if(e.type=="remove"){for(let t=0;t<e.howMany;t++){n.push("r")}i=e.offset;o+=e.howMany}else{n.push(..."a".repeat(e.howMany).split(""));i=e.offset+e.howMany;o+=e.howMany}}if(o<e){for(let t=0;t<e-o-i;t++){n.push("e")}}return n}function K_(e){const t="position"in e&&e.position.root.rootName=="$graveyard";const n="range"in e&&e.range.root.rootName=="$graveyard";return!t&&!n}class Z_{constructor(){this._operations=[];this._undoPairs=new Map;this._undoneOperations=new Set;this._baseVersionToOperationIndex=new Map;this._version=0;this._gaps=new Map}get version(){return this._version}set version(e){if(this._operations.length&&e>this._version+1){this._gaps.set(this._version,e)}this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version){throw new N("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version})}this._operations.push(e);this._version++;this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length){return[]}const n=this._operations[0];if(e===undefined){e=n.baseVersion}let i=t-1;for(const[t,n]of this._gaps){if(e>t&&e<n){e=n}if(i>t&&i<n){i=t-1}}if(i<n.baseVersion||e>this.lastOperation.baseVersion){return[]}let o=this._baseVersionToOperationIndex.get(e);if(o===undefined){o=0}let r=this._baseVersionToOperationIndex.get(i);if(r===undefined){r=this._operations.length-1}return this._operations.slice(o,r+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t===undefined){return}return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e);this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0;this._undoPairs=new Map;this._operations=[];this._undoneOperations=new Set;this._gaps=new Map;this._baseVersionToOperationIndex=new Map}}class Q_ extends _b{constructor(e,t,n="main"){super(t);this._isAttached=true;this._document=e;this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Q_.prototype.is=function(e,t){if(!t){return e==="rootElement"||e==="model:rootElement"||e==="element"||e==="model:element"||e==="node"||e==="model:node"}return t===this.name&&(e==="rootElement"||e==="model:rootElement"||e==="element"||e==="model:element")};const J_="$graveyard";class X_ extends(G()){constructor(e){super();this.model=e;this.history=new Z_;this.selection=new Jb(this);this.roots=new fl({idProperty:"rootName"});this.differ=new q_(e.markers);this.isReadOnly=false;this._postFixers=new Set;this._hasSelectionChangedFromTheLastChangeBlock=false;this.createRoot("$root",J_);this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];if(n.isDocumentOperation){this.differ.bufferOperation(n)}}),{priority:"high"});this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];if(n.isDocumentOperation){this.history.addOperation(n)}}),{priority:"low"});this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=true}));this.listenTo(e.markers,"update",((e,t,n,i,o)=>{const r={...t.getData(),range:i};this.differ.bufferMarkerChange(t.name,o,r);if(n===null){t.on("change",((e,n)=>{const i=t.getData();this.differ.bufferMarkerChange(t.name,{...i,range:n},i)}))}}));this.registerPostFixer((e=>{let t=false;for(const n of this.roots){if(!n.isAttached()&&!n.isEmpty){e.remove(e.createRangeIn(n));t=true}}for(const n of this.model.markers){if(!n.getRange().root.isAttached()){e.removeMarker(n);t=true}}return t}))}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(J_)}createRoot(e="$root",t="main"){if(this.roots.get(t)){throw new N("model-document-createroot-name-exists",this,{name:t})}const n=new Q_(this,e,t);this.roots.add(n);return n}destroy(){this.selection.destroy();this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=false){return Array.from(this.roots).filter((t=>t.rootName!=J_&&(e||t.isAttached()))).map((e=>e.rootName))}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Yu(this);e.selection="[engine.model.DocumentSelection]";e.model="[engine.model.Model]";return e}_handleChangeBlock(e){if(this._hasDocumentChangedFromTheLastChangeBlock()){this._callPostFixers(e);this.selection.refresh();if(this.differ.hasDataChanges()){this.fire("change:data",e.batch)}else{this.fire("change",e.batch)}this.selection.refresh();this.differ.reset()}this._hasSelectionChangedFromTheLastChangeBlock=false}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots){if(e!==this.graveyard){return e}}return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot();const t=this.model;const n=t.schema;const i=t.createPositionFromPath(e,[0]);const o=n.getNearestSelectionRange(i);return o||t.createRange(i)}_validateSelectionRange(e){return eA(e.start)&&eA(e.end)}_callPostFixers(e){let t=false;do{for(const n of this._postFixers){this.selection.refresh();t=n(e);if(t){break}}}while(t)}}function eA(e){const t=e.textNode;if(t){const n=t.data;const i=e.offset-t.startOffset;return!El(n,i)&&!Dl(n,i)}return true}class tA extends(G()){constructor(){super(...arguments);this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof nA?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=false,i=false){const o=e instanceof nA?e.name:e;if(o.includes(",")){throw new N("markercollection-incorrect-marker-name",this)}const r=this._markers.get(o);if(r){const e=r.getData();const s=r.getRange();let a=false;if(!s.isEqual(t)){r._attachLiveRange(Gb.fromRange(t));a=true}if(n!=r.managedUsingOperations){r._managedUsingOperations=n;a=true}if(typeof i==="boolean"&&i!=r.affectsData){r._affectsData=i;a=true}if(a){this.fire(`update:${o}`,r,s,t,e)}return r}const s=Gb.fromRange(t);const a=new nA(o,s,n,i);this._markers.set(o,a);this.fire(`update:${o}`,a,null,t,{...a.getData(),range:null});return a}_remove(e){const t=e instanceof nA?e.name:e;const n=this._markers.get(t);if(n){this._markers.delete(t);this.fire(`update:${t}`,n,n.getRange(),null,n.getData());this._destroyMarker(n);return true}return false}_refresh(e){const t=e instanceof nA?e.name:e;const n=this._markers.get(t);if(!n){throw new N("markercollection-refresh-marker-not-exists",this)}const i=n.getRange();this.fire(`update:${t}`,n,i,i,n.getData())}*getMarkersAtPosition(e){for(const t of this){if(t.getRange().containsPosition(e)){yield t}}}*getMarkersIntersectingRange(e){for(const t of this){if(t.getRange().getIntersection(e)!==null){yield t}}}destroy(){for(const e of this._markers.values()){this._destroyMarker(e)}this._markers=null;this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values()){if(t.name.startsWith(e+":")){yield t}}}_destroyMarker(e){e.stopListening();e._detachLiveRange()}}class nA extends(G(mb)){constructor(e,t,n,i){super();this.name=e;this._liveRange=this._attachLiveRange(t);this._managedUsingOperations=n;this._affectsData=i}get managedUsingOperations(){if(!this._liveRange){throw new N("marker-destroyed",this)}return this._managedUsingOperations}get affectsData(){if(!this._liveRange){throw new N("marker-destroyed",this)}return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange){throw new N("marker-destroyed",this)}return this._liveRange.start.clone()}getEnd(){if(!this._liveRange){throw new N("marker-destroyed",this)}return this._liveRange.end.clone()}getRange(){if(!this._liveRange){throw new N("marker-destroyed",this)}return this._liveRange.toRange()}_attachLiveRange(e){if(this._liveRange){this._detachLiveRange()}e.delegate("change:range").to(this);e.delegate("change:content").to(this);this._liveRange=e;return e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this);this._liveRange.stopDelegating("change:content",this);this._liveRange.detach();this._liveRange=null}}nA.prototype.is=function(e){return e==="marker"||e==="model:marker"};class iA extends s_{constructor(e,t){super(null);this.sourcePosition=e.clone();this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();return e}_validate(){if(this.sourcePosition.root.document){throw new N("detach-operation-on-document-node",this)}}_execute(){c_(Sb._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class oA extends mb{constructor(e){super();this.markers=new Map;this._children=new bb;if(e){this._insertChild(0,e)}}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return false}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e){t=t.getChild(t.offsetToIndex(n))}return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children){e.push(t.toJSON())}return e}static fromJSON(e){const t=[];for(const n of e){if(n.name){t.push(_b.fromJSON(n))}else{t.push(kb.fromJSON(n))}}return new oA(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=rA(t);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this}this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n){e.parent=null}return n}}oA.prototype.is=function(e){return e==="documentFragment"||e==="model:documentFragment"};function rA(e){if(typeof e=="string"){return[new kb(e)]}if(!De(e)){e=[e]}return Array.from(e).map((e=>{if(typeof e=="string"){return new kb(e)}if(e instanceof wb){return new kb(e.data,e.getAttributes())}return e}))}class sA{constructor(e,t){this.model=e;this.batch=t}createText(e,t){return new kb(e,t)}createElement(e,t){return new _b(e,t)}createDocumentFragment(){return new oA}cloneElement(e,t=true){return e._clone(t)}insert(e,t,n=0){this._assertWriterUsedCorrectly();if(e instanceof kb&&e.data==""){return}const i=yb._createAt(t,n);if(e.parent){if(uA(e.root,i.root)){this.move(Sb._createOn(e),i);return}else{if(e.root.document){throw new N("model-writer-insert-forbidden-move",this)}else{this.remove(e)}}}const o=i.root.document?i.root.document.version:null;const r=new p_(i,e,o);if(e instanceof kb){r.shouldReceiveAttributes=true}this.batch.addOperation(r);this.model.applyOperation(r);if(e instanceof oA){for(const[t,n]of e.markers){const e=yb._createAt(n.root,0);const o=new Sb(n.start._getCombined(e,i),n.end._getCombined(e,i));const r={range:o,usingOperation:true,affectsData:true};if(this.model.markers.has(t)){this.updateMarker(t,r)}else{this.addMarker(t,r)}}}}insertText(e,t,n,i){if(t instanceof oA||t instanceof _b||t instanceof yb){this.insert(this.createText(e),t,n)}else{this.insert(this.createText(e,t),n,i)}}insertElement(e,t,n,i){if(t instanceof oA||t instanceof _b||t instanceof yb){this.insert(this.createElement(e),t,n)}else{this.insert(this.createElement(e,t),n,i)}}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){if(t instanceof oA||t instanceof _b){this.insert(this.createText(e),t,"end")}else{this.insert(this.createText(e,t),n,"end")}}appendElement(e,t,n){if(t instanceof oA||t instanceof _b){this.insert(this.createElement(e),t,"end")}else{this.insert(this.createElement(e,t),n,"end")}}setAttribute(e,t,n){this._assertWriterUsedCorrectly();if(n instanceof Sb){const i=n.getMinimalFlatRanges();for(const n of i){aA(this,e,t,n)}}else{cA(this,e,t,n)}}setAttributes(e,t){for(const[n,i]of kl(e)){this.setAttribute(n,i,t)}}removeAttribute(e,t){this._assertWriterUsedCorrectly();if(t instanceof Sb){const n=t.getMinimalFlatRanges();for(const t of n){aA(this,e,null,t)}}else{cA(this,e,null,t)}}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys()){this.removeAttribute(t,e)}};if(!(e instanceof Sb)){t(e)}else{for(const n of e.getItems()){t(n)}}}move(e,t,n){this._assertWriterUsedCorrectly();if(!(e instanceof Sb)){throw new N("writer-move-invalid-range",this)}if(!e.isFlat){throw new N("writer-move-range-not-flat",this)}const i=yb._createAt(t,n);if(i.isEqual(e.start)){return}this._addOperationForAffectedMarkers("move",e);if(!uA(e.root,i.root)){throw new N("writer-move-different-document",this)}const o=e.root.document?e.root.document.version:null;const r=new m_(e.start,e.end.offset-e.start.offset,i,o);this.batch.addOperation(r);this.model.applyOperation(r)}remove(e){this._assertWriterUsedCorrectly();const t=e instanceof Sb?e:Sb._createOn(e);const n=t.getMinimalFlatRanges().reverse();for(const e of n){this._addOperationForAffectedMarkers("move",e);dA(e.start,e.end.offset-e.start.offset,this.batch,this.model)}}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore;const n=e.nodeAfter;this._addOperationForAffectedMarkers("merge",e);if(!(t instanceof _b)){throw new N("writer-merge-no-element-before",this)}if(!(n instanceof _b)){throw new N("writer-merge-no-element-after",this)}if(!e.root.document){this._mergeDetached(e)}else{this._merge(e)}}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore;const n=e.nodeAfter;this.move(Sb._createIn(n),yb._createAt(t,"end"));this.remove(n)}_merge(e){const t=yb._createAt(e.nodeBefore,"end");const n=yb._createAt(e.nodeAfter,0);const i=e.root.document.graveyard;const o=new yb(i,[0]);const r=e.root.document.version;const s=new k_(n,e.nodeAfter.maxOffset,t,o,r);this.batch.addOperation(s);this.model.applyOperation(s)}rename(e,t){this._assertWriterUsedCorrectly();if(!(e instanceof _b)){throw new N("writer-rename-not-element-instance",this)}const n=e.root.document?e.root.document.version:null;const i=new y_(yb._createBefore(e),e.name,t,n);this.batch.addOperation(i);this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent){throw new N("writer-split-element-no-parent",this)}if(!t){t=n.parent}if(!e.parent.getAncestors({includeSelf:true}).includes(t)){throw new N("writer-split-invalid-limit-element",this)}let i;let o;do{const t=n.root.document?n.root.document.version:null;const r=n.maxOffset-e.offset;const s=b_.getInsertionPosition(e);const a=new b_(e,r,s,null,t);this.batch.addOperation(a);this.model.applyOperation(a);if(!i&&!o){i=n;o=e.parent.nextSibling}e=this.createPositionAfter(e.parent);n=e.parent}while(n!==t);return{position:e,range:new Sb(yb._createAt(i,"end"),yb._createAt(o,0))}}wrap(e,t){this._assertWriterUsedCorrectly();if(!e.isFlat){throw new N("writer-wrap-range-not-flat",this)}const n=t instanceof _b?t:new _b(t);if(n.childCount>0){throw new N("writer-wrap-element-not-empty",this)}if(n.parent!==null){throw new N("writer-wrap-element-attached",this)}this.insert(n,e.start);const i=new Sb(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,yb._createAt(n,0))}unwrap(e){this._assertWriterUsedCorrectly();if(e.parent===null){throw new N("writer-unwrap-element-no-parent",this)}this.move(Sb._createIn(e),this.createPositionAfter(e));this.remove(e)}addMarker(e,t){this._assertWriterUsedCorrectly();if(!t||typeof t.usingOperation!="boolean"){throw new N("writer-addmarker-no-usingoperation",this)}const n=t.usingOperation;const i=t.range;const o=t.affectsData===undefined?false:t.affectsData;if(this.model.markers.has(e)){throw new N("writer-addmarker-marker-exists",this)}if(!i){throw new N("writer-addmarker-no-range",this)}if(!n){return this.model.markers._set(e,i,n,o)}lA(this,e,null,i,o);return this.model.markers.get(e)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name;const i=this.model.markers.get(n);if(!i){throw new N("writer-updatemarker-marker-not-exists",this)}if(!t){z("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n});this.model.markers._refresh(i);return}const o=typeof t.usingOperation=="boolean";const r=typeof t.affectsData=="boolean";const s=r?t.affectsData:i.affectsData;if(!o&&!t.range&&!r){throw new N("writer-updatemarker-wrong-options",this)}const a=i.getRange();const c=t.range?t.range:a;if(o&&t.usingOperation!==i.managedUsingOperations){if(t.usingOperation){lA(this,n,null,c,s)}else{lA(this,n,a,null,s);this.model.markers._set(n,c,undefined,s)}return}if(i.managedUsingOperations){lA(this,n,a,c,s)}else{this.model.markers._set(n,c,undefined,s)}}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t)){throw new N("writer-removemarker-no-marker",this)}const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const i=n.getRange();lA(this,t,i,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached()){throw new N("writer-addroot-root-exists",this)}const i=this.model.document;const o=new E_(e,t,true,i,i.version);this.batch.addOperation(o);this.model.applyOperation(o);return this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached()){throw new N("writer-detachroot-no-root",this)}for(const e of this.model.markers){if(e.getRange().root===t){this.removeMarker(e)}}for(const e of t.getAttributeKeys()){this.removeAttribute(e,t)}this.remove(this.createRangeIn(t));const n=this.model.document;const i=new E_(t.rootName,t.name,false,n,n.version);this.batch.addOperation(i);this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly();this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly();this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){this._assertWriterUsedCorrectly();if(typeof e==="string"){this._setSelectionAttribute(e,t)}else{for(const[t,n]of kl(e)){this._setSelectionAttribute(t,n)}}}removeSelectionAttribute(e){this._assertWriterUsedCorrectly();if(typeof e==="string"){this._removeSelectionAttribute(e)}else{for(const t of e){this._removeSelectionAttribute(t)}}}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Jb._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Jb._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this){throw new N("writer-incorrect-use",this)}}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations){continue}const i=n.getRange();let o=false;if(e==="move"){const e=t;o=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end)}else{const e=t;const n=e.nodeBefore;const r=e.nodeAfter;const s=i.start.parent==n&&i.start.isAtEnd;const a=i.end.parent==r&&i.end.offset==0;const c=i.end.nodeAfter==r;const l=i.start.nodeAfter==r;o=s||a||c||l}if(o){this.updateMarker(n.name,{range:i})}}}}function aA(e,t,n,i){const o=e.model;const r=o.document;let s=i.start;let a;let c;let l;for(const e of i.getWalker({shallow:true})){l=e.item.getAttribute(t);if(a&&c!=l){if(c!=n){d()}s=a}a=e.nextPosition;c=l}if(a instanceof yb&&a!=s&&c!=n){d()}function d(){const i=new Sb(s,a);const l=i.root.document?r.version:null;const d=new v_(i,t,c,n,l);e.batch.addOperation(d);o.applyOperation(d)}}function cA(e,t,n,i){const o=e.model;const r=o.document;const s=i.getAttribute(t);let a,c;if(s!=n){const l=i.root===i;if(l){const e=i.document?r.version:null;c=new x_(i,t,s,n,e)}else{a=new Sb(yb._createBefore(i),e.createPositionAfter(i));const o=a.root.document?r.version:null;c=new v_(a,t,s,n,o)}e.batch.addOperation(c);o.applyOperation(c)}}function lA(e,t,n,i,o){const r=e.model;const s=r.document;const a=new w_(t,n,i,r.markers,!!o,s.version);e.batch.addOperation(a);r.applyOperation(a)}function dA(e,t,n,i){let o;if(e.root.document){const n=i.document;const r=new yb(n.graveyard,[0]);o=new m_(e,t,r,n.version)}else{o=new iA(e,t)}n.addOperation(o);i.applyOperation(o)}function uA(e,t){if(e===t){return true}if(e instanceof Q_&&t instanceof Q_){return true}return false}function hA(e,t,n={}){if(t.isCollapsed){return}const i=t.getFirstRange();if(i.root.rootName=="$graveyard"){return}const o=e.schema;e.change((e=>{if(!n.doNotResetEntireContent&&xA(o,t)){yA(e,t);return}const r={};if(!n.doNotAutoparagraph){const e=t.getSelectedElement();if(e){Object.assign(r,o.getAttributesWithProperty(e,"copyOnReplace",true))}}const[s,a]=fA(i);if(!s.isTouching(a)){e.remove(e.createRange(s,a))}if(!n.leaveUnmerged){mA(e,s,a);o.removeDisallowedAttributes(s.parent.getChildren(),e)}EA(e,t,s);if(!n.doNotAutoparagraph&&AA(o,s)){CA(e,s,t,r)}s.detach();a.detach()}))}function fA(e){const t=e.root.document.model;const n=e.start;let i=e.end;if(t.hasContent(e,{ignoreMarkers:true})){const n=gA(i);if(n&&i.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"});const o=n.getLastPosition();const r=t.createRange(o,i);if(!t.hasContent(r,{ignoreMarkers:true})){i=o}}}return[H_.fromPosition(n,"toPrevious"),H_.fromPosition(i,"toNext")]}function gA(e){const t=e.parent;const n=t.root.document.model.schema;const i=t.getAncestors({parentFirst:true,includeSelf:true});for(const e of i){if(n.isLimit(e)){return null}if(n.isBlock(e)){return e}}}function mA(e,t,n){const i=e.model;if(!wA(e.model.schema,t,n)){return}const[o,r]=_A(t,n);if(!o||!r){return}if(!i.hasContent(o,{ignoreMarkers:true})&&i.hasContent(r,{ignoreMarkers:true})){bA(e,t,n,o.parent)}else{pA(e,t,n,o.parent)}}function pA(e,t,n,i){const o=t.parent;const r=n.parent;if(o==i||r==i){return}t=e.createPositionAfter(o);n=e.createPositionBefore(r);if(!n.isEqual(t)){e.insert(r,t)}e.merge(t);while(n.parent.isEmpty){const t=n.parent;n=e.createPositionBefore(t);e.remove(t)}if(!wA(e.model.schema,t,n)){return}pA(e,t,n,i)}function bA(e,t,n,i){const o=t.parent;const r=n.parent;if(o==i||r==i){return}t=e.createPositionAfter(o);n=e.createPositionBefore(r);if(!n.isEqual(t)){e.insert(o,n)}while(t.parent.isEmpty){const n=t.parent;t=e.createPositionBefore(n);e.remove(n)}n=e.createPositionBefore(r);kA(e,n);if(!wA(e.model.schema,t,n)){return}bA(e,t,n,i)}function kA(e,t){const n=t.nodeBefore;const i=t.nodeAfter;if(n.name!=i.name){e.rename(n,i.name)}e.clearAttributes(n);e.setAttributes(Object.fromEntries(i.getAttributes()),n);e.merge(t)}function wA(e,t,n){const i=t.parent;const o=n.parent;if(i==o){return false}if(e.isLimit(i)||e.isLimit(o)){return false}return vA(t,n,e)}function _A(e,t){const n=e.getAncestors();const i=t.getAncestors();let o=0;while(n[o]&&n[o]==i[o]){o++}return[n[o],i[o]]}function AA(e,t){const n=e.checkChild(t,"$text");const i=e.checkChild(t,"paragraph");return!n&&i}function vA(e,t,n){const i=new Sb(e,t);for(const e of i.getWalker()){if(n.isLimit(e.item)){return false}}return true}function CA(e,t,n,i={}){const o=e.createElement("paragraph");e.model.schema.setAllowedAttributes(o,i,e);e.insert(o,t);EA(e,n,e.createPositionAt(o,0))}function yA(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n));CA(e,e.createPositionAt(n,0),t)}function xA(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n)){return false}const i=t.getFirstRange();if(i.start.parent==i.end.parent){return false}return e.checkChild(n,"paragraph")}function EA(e,t,n){if(t instanceof Jb){e.setSelection(n)}else{t.setTo(n)}}function DA(e,t){return e.change((e=>{const n=e.createDocumentFragment();const i=t.getFirstRange();if(!i||i.isCollapsed){return n}const o=i.start.root;const r=i.start.getCommonPath(i.end);const s=o.getNodeByPath(r);let a;if(i.start.parent==i.end.parent){a=i}else{a=e.createRange(e.createPositionAt(s,i.start.path[r.length]),e.createPositionAt(s,i.end.path[r.length]+1))}const c=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:true})){if(t.is("$textProxy")){e.appendText(t.data,t.getAttributes(),n)}else{e.append(e.cloneElement(t,true),n)}}if(a!=i){const t=i._getTransformedByMove(a.start,e.createPositionAt(n,0),c)[0];const o=e.createRange(e.createPositionAt(n,0),t.start);const r=e.createRange(t.end,e.createPositionAt(n,"end"));TA(r,e);TA(o,e)}return n}))}function TA(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map((e=>t.createRangeOn(e))).filter((t=>{const n=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return n})).forEach((e=>{n.push(e.start.parent);t.remove(e)}));n.forEach((e=>{let n=e;while(n.parent&&n.isEmpty){const e=t.createRangeOn(n);n=n.parent;t.remove(e)}}))}function MA(e,t,n){return e.change((i=>{const o=n?n:e.document.selection;if(!o.isCollapsed){e.deleteContent(o,{doNotAutoparagraph:true})}const r=new IA(e,i,o.anchor);const s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[n,i]of t.markers){const{start:t,end:o}=i;const r=t.isEqual(o);e.push({position:t,name:n,isCollapsed:r},{position:o,name:n,isCollapsed:r})}e.sort((({position:e},{position:t})=>e.isBefore(t)?1:-1));for(const{position:n,name:o,isCollapsed:r}of e){let e=null;let a=null;const c=n.parent===t&&n.isAtStart;const l=n.parent===t&&n.isAtEnd;if(!c&&!l){e=i.createElement("$marker");i.insert(e,n)}else if(r){a=c?"start":"end"}s.push({name:o,element:e,collapsed:a})}}a=t.getChildren()}else{a=[t]}r.handleNodes(a);let c=r.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=c?Gb.fromRange(c):null;const t={};for(let e=s.length-1;e>=0;e--){const{name:n,element:o,collapsed:a}=s[e];const c=!t[n];if(c){t[n]=[]}if(o){const e=i.createPositionAt(o,"before");t[n].push(e);i.remove(o)}else{const e=r.getAffectedRange();if(!e){if(a){t[n].push(r.position)}continue}if(a){t[n].push(e[a])}else{t[n].push(c?e.start:e.end)}}}for(const[e,[n,o]]of Object.entries(t)){if(n&&o&&n.root===o.root){i.addMarker(e,{usingOperation:true,affectsData:true,range:new Sb(n,o)})}}if(e){c=e.toRange();e.detach()}}if(c){if(o instanceof Jb){i.setSelection(c)}else{o.setTo(c)}}else{}const l=r.getAffectedRange()||e.createRange(o.anchor);r.destroy();return l}))}class IA{constructor(e,t,n){this._firstNode=null;this._lastNode=null;this._lastAutoParagraph=null;this._filterAttributesOf=[];this._affectedStart=null;this._affectedEnd=null;this._nodeToSelect=null;this.model=e;this.writer=t;this.position=n;this.canMergeWith=new Set([this.position.parent]);this.schema=e.schema;this._documentFragment=t.createDocumentFragment();this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e)){this._handleNode(t)}this._insertPartialFragment();if(this._lastAutoParagraph){this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph)}this._mergeOnRight();this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer);this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode);const n=this.writer.createPositionAfter(e);if(n.isAfter(t)){this._lastNode=e;if(this.position.parent!=e||!this.position.isAtEnd){throw new N("insertcontent-invalid-insertion-position",this)}this.position=n;this._setAffectedBoundaries(this.position)}}getSelectionRange(){if(this._nodeToSelect){return Sb._createOn(this._nodeToSelect)}return this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){if(!this._affectedStart){return null}return new Sb(this._affectedStart,this._affectedEnd)}destroy(){if(this._affectedStart){this._affectedStart.detach()}if(this._affectedEnd){this._affectedEnd.detach()}}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t){t=this._checkAndSplitToAllowedPosition(e);if(!t){this._handleDisallowedNode(e);return}}this._appendToFragment(e);if(!this._firstNode){this._firstNode=e}this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty){return}const e=H_.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position);if(this._documentFragment.getChild(0)==this._firstNode){this.writer.insert(this._firstNode,this.position);this._mergeOnLeft();this.position=e.toPosition()}if(!this._documentFragment.isEmpty){this.writer.insert(this._documentFragment,this.position)}this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0);this.position=e.toPosition();e.detach()}_handleObject(e){if(this._checkAndSplitToAllowedPosition(e)){this._appendToFragment(e)}else{this._tryAutoparagraphing(e)}}_handleDisallowedNode(e){if(e.is("element")){this.handleNodes(e.getChildren())}else{this._tryAutoparagraphing(e)}}_appendToFragment(e){if(!this.schema.checkChild(this.position,e)){throw new N("insertcontent-wrong-position",this,{node:e,position:this.position})}this.writer.insert(e,this._documentFragmentPosition);this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize);if(this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")){this._nodeToSelect=e}else{this._nodeToSelect=null}this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){if(!this._affectedStart){this._affectedStart=H_.fromPosition(e,"toPrevious")}if(!this._affectedEnd||this._affectedEnd.isBefore(e)){if(this._affectedEnd){this._affectedEnd.detach()}this._affectedEnd=H_.fromPosition(e,"toNext")}}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof _b)){return}if(!this._canMergeLeft(e)){return}const t=H_._createBefore(e);t.stickiness="toNext";const n=H_.fromPosition(this.position,"toNext");if(this._affectedStart.isEqual(t)){this._affectedStart.detach();this._affectedStart=H_._createAt(t.nodeBefore,"end","toPrevious")}if(this._firstNode===this._lastNode){this._firstNode=t.nodeBefore;this._lastNode=t.nodeBefore}this.writer.merge(t);if(t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode){this._affectedEnd.detach();this._affectedEnd=H_._createAt(t.nodeBefore,"end","toNext")}this.position=n.toPosition();n.detach();this._filterAttributesOf.push(this.position.parent);t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof _b)){return}if(!this._canMergeRight(e)){return}const t=H_._createAfter(e);t.stickiness="toNext";if(!this.position.isEqual(t)){throw new N("insertcontent-invalid-insertion-position",this)}this.position=yb._createAt(t.nodeBefore,"end");const n=H_.fromPosition(this.position,"toPrevious");if(this._affectedEnd.isEqual(t)){this._affectedEnd.detach();this._affectedEnd=H_._createAt(t.nodeBefore,"end","toNext")}if(this._firstNode===this._lastNode){this._firstNode=t.nodeBefore;this._lastNode=t.nodeBefore}this.writer.merge(t);if(t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode){this._affectedStart.detach();this._affectedStart=H_._createAt(t.nodeBefore,0,"toPrevious")}this.position=n.toPosition();n.detach();this._filterAttributesOf.push(this.position.parent);t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof _b&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof _b&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");if(this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)){t._appendChild(e);this._handleNode(t)}}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e)){return true}if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e)){return false}this._insertPartialFragment();const t=this.writer.createElement("paragraph");this.writer.insert(t,this.position);this._setAffectedBoundaries(this.position);this._lastAutoParagraph=t;this.position=this.writer.createPositionAt(t,0);return true}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t){return false}if(t!=this.position.parent){this._insertPartialFragment()}while(t!=this.position.parent){if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e);if(e.isEmpty&&e.parent===t){this.writer.remove(e)}}else if(this.position.isAtEnd){this.position=this.writer.createPositionAfter(this.position.parent)}else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position);this.writer.split(this.position);this.position=e;this.canMergeWith.add(this.position.nodeAfter)}}return true}_getAllowedIn(e,t){if(this.schema.checkChild(e,t)){return e}if(this.schema.isLimit(e)){return null}return this._getAllowedIn(e.parent,t)}}function SA(e,t,n="auto"){const i=e.getSelectedElement();if(i&&t.schema.isObject(i)&&!t.schema.isInline(i)){if(n=="before"||n=="after"){return t.createRange(t.createPositionAt(i,n))}return t.createRangeOn(i)}const o=gl(e.getSelectedBlocks());if(!o){return t.createRange(e.focus)}if(o.isEmpty){return t.createRange(t.createPositionAt(o,0))}const r=t.createPositionAfter(o);if(e.focus.isTouching(r)){return t.createRange(r)}return t.createRange(t.createPositionBefore(o))}function BA(e,t,n,i={}){if(!e.schema.isObject(t)){throw new N("insertobject-element-not-an-object",e,{object:t})}const o=n?n:e.document.selection;let r=o;if(i.findOptimalPosition&&e.schema.isBlock(t)){r=e.createSelection(SA(o,e,i.findOptimalPosition))}const s=gl(o.getSelectedBlocks());const a={};if(s){Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",true))}return e.change((n=>{if(!r.isCollapsed){e.deleteContent(r,{doNotAutoparagraph:true})}let o=t;const s=r.anchor.parent;if(!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)){o=n.createElement("paragraph");n.insert(t,o)}e.schema.setAllowedAttributes(o,a,n);const c=e.insertContent(o,r);if(c.isCollapsed){return c}if(i.setSelection){NA(n,t,i.setSelection,a)}return c}))}function NA(e,t,n,i){const o=e.model;if(n=="on"){e.setSelection(t,"on");return}if(n!="after"){throw new N("insertobject-invalid-place-parameter-value",o)}let r=t.nextSibling;if(o.schema.isInline(t)){e.setSelection(t,"after");return}const s=r&&o.schema.checkChild(r,"$text");if(!s&&o.schema.checkChild(t.parent,"paragraph")){r=e.createElement("paragraph");o.schema.setAllowedAttributes(r,i,e);o.insertContent(r,e.createPositionAfter(t))}if(r){e.setSelection(r,0)}}const zA=' ,.?!:;"-()';function PA(e,t,n={}){const i=e.schema;const o=n.direction!="backward";const r=n.unit?n.unit:"character";const s=!!n.treatEmojiAsSingleUnit;const a=t.focus;const c=new vb({boundaries:jA(a,o),singleCharacters:true,direction:o?"forward":"backward"});const l={walker:c,schema:i,isForward:o,unit:r,treatEmojiAsSingleUnit:s};let d;while(d=c.next()){if(d.done){return}const n=LA(l,d.value);if(n){if(t instanceof Jb){e.change((e=>{e.setSelectionFocus(n)}))}else{t.setFocus(n)}return}}}function LA(e,t){const{isForward:n,walker:i,unit:o,schema:r,treatEmojiAsSingleUnit:s}=e;const{type:a,item:c,nextPosition:l}=t;if(a=="text"){if(e.unit==="word"){return RA(i,n)}return OA(i,o,s)}if(a==(n?"elementStart":"elementEnd")){if(r.isSelectable(c)){return yb._createAt(c,n?"after":"before")}if(r.checkChild(l,"$text")){return l}}else{if(r.isLimit(c)){i.skip((()=>true));return}if(r.checkChild(l,"$text")){return l}}}function OA(e,t,n){const i=e.position.textNode;if(i){const o=i.data;let r=e.position.offset-i.startOffset;while(El(o,r)||t=="character"&&Dl(o,r)||n&&Ml(o,r)){e.next();r=e.position.offset-i.startOffset}}return e.position}function RA(e,t){let n=e.position.textNode;if(!n){n=t?e.position.nodeAfter:e.position.nodeBefore}while(n&&n.is("$text")){const i=e.position.offset-n.startOffset;if(VA(n,i,t)){n=t?e.position.nodeAfter:e.position.nodeBefore}else if(FA(n.data,i,t)){break}else{e.next()}}return e.position}function jA(e,t){const n=e.root;const i=yb._createAt(n,t?"end":0);if(t){return new Sb(e,i)}else{return new Sb(i,e)}}function FA(e,t,n){const i=t+(n?0:-1);return zA.includes(e.charAt(i))}function VA(e,t,n){return t===(n?e.offsetSize:0)}class HA extends(fe()){constructor(){super();this.markers=new tA;this.document=new X_(this);this.schema=new Iw;this._pendingChanges=[];this._currentWriter=null;["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((e=>this.decorate(e)));this.on("applyOperation",((e,t)=>{const n=t[0];n._validate()}),{priority:"highest"});this.schema.register("$root",{isLimit:true});this.schema.register("$container",{allowIn:["$root","$container"]});this.schema.register("$block",{allowIn:["$root","$container"],isBlock:true});this.schema.register("$blockObject",{allowWhere:"$block",isBlock:true,isObject:true});this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:true,isObject:true});this.schema.register("$text",{allowIn:"$block",isInline:true,isContent:true});this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:true});this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:true});this.schema.register("$marker");this.schema.addChildCheck(((e,t)=>{if(t.name==="$marker"){return true}}));pw(this);this.document.registerPostFixer(Gk);this.on("insertContent",((e,[t,n])=>{e.return=MA(this,t,n)}));this.on("insertObject",((e,[t,n,i])=>{e.return=BA(this,t,n,i)}));this.on("canEditAt",(e=>{const t=!this.document.isReadOnly;e.return=t;if(!t){e.stop()}}))}change(e){try{if(this._pendingChanges.length===0){this._pendingChanges.push({batch:new $_,callback:e});return this._runPendingChanges()[0]}else{return e(this._currentWriter)}}catch(e){N.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{if(!e){e=new $_}else if(typeof e==="function"){t=e;e=new $_}else if(!(e instanceof $_)){e=new $_(e)}this._pendingChanges.push({batch:e,callback:t});if(this._pendingChanges.length==1){this._runPendingChanges()}}catch(e){N.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...i){const o=UA(t,n);return this.fire("insertContent",[e,o,n,...i])}insertObject(e,t,n,i,...o){const r=UA(t,n);return this.fire("insertObject",[e,r,i,i,...o])}deleteContent(e,t){hA(this,e,t)}modifySelection(e,t){PA(this,e,t)}getSelectedContent(e){return DA(this,e)}hasContent(e,t={}){const n=e instanceof Sb?e:Sb._createIn(e);if(n.isCollapsed){return false}const{ignoreWhitespaces:i=false,ignoreMarkers:o=false}=t;if(!o){for(const e of this.markers.getMarkersIntersectingRange(n)){if(e.affectsData){return true}}}for(const e of n.getItems()){if(this.schema.isContent(e)){if(e.is("$textProxy")){if(!i){return true}else if(e.data.search(/\S/)!==-1){return true}}else{return true}}}return false}canEditAt(e){const t=UA(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new yb(e,t,n)}createPositionAt(e,t){return yb._createAt(e,t)}createPositionAfter(e){return yb._createAfter(e)}createPositionBefore(e){return yb._createBefore(e)}createRange(e,t){return new Sb(e,t)}createRangeIn(e){return Sb._createIn(e)}createRangeOn(e){return Sb._createOn(e)}createSelection(...e){return new jb(...e)}createBatch(e){return new $_(e)}createOperationFromJSON(e){return T_.fromJSON(e,this.document)}destroy(){this.document.destroy();this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{while(this._pendingChanges.length){const t=this._pendingChanges[0].batch;this._currentWriter=new sA(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n);this.document._handleChangeBlock(this._currentWriter);this._pendingChanges.shift();this._currentWriter=null}}finally{this._pendingChanges.length=0;this._currentWriter=null;this.fire("_afterChanges")}return e}}function UA(e,t){if(!e){return}if(e instanceof jb||e instanceof Jb){return e}if(e instanceof pb){if(t||t===0){return new jb(e,t)}else if(e.is("rootElement")){return new jb(e,"in")}else{return new jb(e,"on")}}return new jb(e)}class WA extends Bm{constructor(){super(...arguments);this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class $A extends Bm{constructor(){super(...arguments);this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class qA{constructor(e){this.document=e}createDocumentFragment(e){return new Ng(this.document,e)}createElement(e,t,n){return new Qf(this.document,e,t,n)}createText(e){return new Zu(this.document,e)}clone(e,t=false){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;if(t){return this.removeChildren(t.getChildIndex(e),1,t)}return[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);this.removeChildren(i,1,n);this.insertChild(i,t,n);return true}return false}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e);this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Qf(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){if(mt(e)&&n===undefined){t._setStyle(e)}else{n._setStyle(e,t)}}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return ag._createAt(e,t)}createPositionAfter(e){return ag._createAfter(e)}createPositionBefore(e){return ag._createBefore(e)}createRange(e,t){return new cg(e,t)}createRangeOn(e){return cg._createOn(e)}createRangeIn(e){return cg._createIn(e)}createSelection(...e){return new dg(...e)}}const GA=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i;const YA=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i;const KA=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i;const ZA=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i;const QA=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i;const JA=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi;const XA=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function ev(e){if(e.startsWith("#")){return GA.test(e)}if(e.startsWith("rgb")){return YA.test(e)||KA.test(e)}if(e.startsWith("hsl")){return ZA.test(e)||QA.test(e)}return XA.has(e.toLowerCase())}const tv=null&&["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function nv(e){return tv.includes(e)}const iv=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function ov(e){return iv.test(e)}const rv=/^[+-]?[0-9]*([.][0-9]+)?%$/;function sv(e){return rv.test(e)}const av=null&&["repeat-x","repeat-y","repeat","space","round","no-repeat"];function cv(e){return av.includes(e)}const lv=null&&["center","top","bottom","left","right"];function dv(e){return lv.includes(e)}const uv=null&&["fixed","scroll","local"];function hv(e){return uv.includes(e)}const fv=/^url\(/;function gv(e){return fv.test(e)}function mv(e=""){if(e===""){return{top:undefined,right:undefined,bottom:undefined,left:undefined}}const t=wv(e);const n=t[0];const i=t[2]||n;const o=t[1]||n;const r=t[3]||o;return{top:n,bottom:i,right:o,left:r}}function pv(e){return t=>{const{top:n,right:i,bottom:o,left:r}=t;const s=[];if(![n,i,r,o].every((e=>!!e))){if(n){s.push([e+"-top",n])}if(i){s.push([e+"-right",i])}if(o){s.push([e+"-bottom",o])}if(r){s.push([e+"-left",r])}}else{s.push([e,bv(t)])}return s}}function bv({top:e,right:t,bottom:n,left:i}){const o=[];if(i!==t){o.push(e,t,n,i)}else if(n!==e){o.push(e,t,n)}else if(t!==e){o.push(e,t)}else{o.push(e)}return o.join(" ")}function kv(e){return t=>({path:e,value:mv(t)})}function wv(e){const t=e.matchAll(JA);return Array.from(t).map((e=>e[0]))}function _v(e){e.setNormalizer("background",Av());e.setNormalizer("background-color",vv());e.setReducer("background",Cv());e.setStyleRelation("background",["background-color"])}function Av(){return e=>{const t={};const n=getShorthandValues(e);for(const e of n){if(isRepeat(e)){t.repeat=t.repeat||[];t.repeat.push(e)}else if(isPosition(e)){t.position=t.position||[];t.position.push(e)}else if(isAttachment(e)){t.attachment=e}else if(isColor(e)){t.color=e}else if(isURL(e)){t.image=e}}return{path:"background",value:t}}}function vv(){return e=>({path:"background.color",value:e})}function Cv(){return e=>{const t=[];t.push(["background-color",e.color]);return t}}function yv(e){e.setNormalizer("border",xv());e.setNormalizer("border-top",Ev("top"));e.setNormalizer("border-right",Ev("right"));e.setNormalizer("border-bottom",Ev("bottom"));e.setNormalizer("border-left",Ev("left"));e.setNormalizer("border-color",Dv("color"));e.setNormalizer("border-width",Dv("width"));e.setNormalizer("border-style",Dv("style"));e.setNormalizer("border-top-color",Mv("color","top"));e.setNormalizer("border-top-style",Mv("style","top"));e.setNormalizer("border-top-width",Mv("width","top"));e.setNormalizer("border-right-color",Mv("color","right"));e.setNormalizer("border-right-style",Mv("style","right"));e.setNormalizer("border-right-width",Mv("width","right"));e.setNormalizer("border-bottom-color",Mv("color","bottom"));e.setNormalizer("border-bottom-style",Mv("style","bottom"));e.setNormalizer("border-bottom-width",Mv("width","bottom"));e.setNormalizer("border-left-color",Mv("color","left"));e.setNormalizer("border-left-style",Mv("style","left"));e.setNormalizer("border-left-width",Mv("width","left"));e.setExtractor("border-top",Iv("top"));e.setExtractor("border-right",Iv("right"));e.setExtractor("border-bottom",Iv("bottom"));e.setExtractor("border-left",Iv("left"));e.setExtractor("border-top-color","border.color.top");e.setExtractor("border-right-color","border.color.right");e.setExtractor("border-bottom-color","border.color.bottom");e.setExtractor("border-left-color","border.color.left");e.setExtractor("border-top-width","border.width.top");e.setExtractor("border-right-width","border.width.right");e.setExtractor("border-bottom-width","border.width.bottom");e.setExtractor("border-left-width","border.width.left");e.setExtractor("border-top-style","border.style.top");e.setExtractor("border-right-style","border.style.right");e.setExtractor("border-bottom-style","border.style.bottom");e.setExtractor("border-left-style","border.style.left");e.setReducer("border-color",getBoxSidesValueReducer("border-color"));e.setReducer("border-style",getBoxSidesValueReducer("border-style"));e.setReducer("border-width",getBoxSidesValueReducer("border-width"));e.setReducer("border-top",zv("top"));e.setReducer("border-right",zv("right"));e.setReducer("border-bottom",zv("bottom"));e.setReducer("border-left",zv("left"));e.setReducer("border",Nv());e.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]);e.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]);e.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]);e.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]);e.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]);e.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]);e.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]);e.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function xv(){return e=>{const{color:t,style:n,width:i}=Bv(e);return{path:"border",value:{color:getBoxSidesValues(t),style:getBoxSidesValues(n),width:getBoxSidesValues(i)}}}}function Ev(e){return t=>{const{color:n,style:i,width:o}=Bv(t);const r={};if(n!==undefined){r.color={[e]:n}}if(i!==undefined){r.style={[e]:i}}if(o!==undefined){r.width={[e]:o}}return{path:"border",value:r}}}function Dv(e){return t=>({path:"border",value:Tv(t,e)})}function Tv(e,t){return{[t]:getBoxSidesValues(e)}}function Mv(e,t){return n=>({path:"border",value:{[e]:{[t]:n}}})}function Iv(e){return(t,n)=>{if(n.border){return Sv(n.border,e)}}}function Sv(e,t){const n={};if(e.width&&e.width[t]){n.width=e.width[t]}if(e.style&&e.style[t]){n.style=e.style[t]}if(e.color&&e.color[t]){n.color=e.color[t]}return n}function Bv(e){const t={};const n=getShorthandValues(e);for(const e of n){if(isLength(e)||/thin|medium|thick/.test(e)){t.width=e}else if(isLineStyle(e)){t.style=e}else{t.color=e}}return t}function Nv(){return t=>{const n=Sv(t,"top");const i=Sv(t,"right");const o=Sv(t,"bottom");const r=Sv(t,"left");const s=[n,i,o,r];const a={width:e(s,"width"),style:e(s,"style"),color:e(s,"color")};const c=Pv(a,"all");if(c.length){return c}const l=Object.entries(a).reduce(((e,[t,n])=>{if(n){e.push([`border-${t}`,n]);s.forEach((e=>delete e[t]))}return e}),[]);return[...l,...Pv(n,"top"),...Pv(i,"right"),...Pv(o,"bottom"),...Pv(r,"left")]};function e(e,t){return e.map((e=>e[t])).reduce(((e,t)=>e==t?e:null))}}function zv(e){return t=>Pv(t,e)}function Pv(e,t){const n=[];if(e&&e.width){n.push("width")}if(e&&e.style){n.push("style")}if(e&&e.color){n.push("color")}if(n.length==3){const i=n.map((t=>e[t])).join(" ");return[t=="all"?["border",i]:[`border-${t}`,i]]}if(t=="all"){return[]}return n.map((n=>[`border-${t}-${n}`,e[n]]))}function Lv(e){e.setNormalizer("margin",kv("margin"));e.setNormalizer("margin-top",(e=>({path:"margin.top",value:e})));e.setNormalizer("margin-right",(e=>({path:"margin.right",value:e})));e.setNormalizer("margin-bottom",(e=>({path:"margin.bottom",value:e})));e.setNormalizer("margin-left",(e=>({path:"margin.left",value:e})));e.setReducer("margin",pv("margin"));e.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function Ov(e){e.setNormalizer("padding",getPositionShorthandNormalizer("padding"));e.setNormalizer("padding-top",(e=>({path:"padding.top",value:e})));e.setNormalizer("padding-right",(e=>({path:"padding.right",value:e})));e.setNormalizer("padding-bottom",(e=>({path:"padding.bottom",value:e})));e.setNormalizer("padding-left",(e=>({path:"padding.left",value:e})));e.setReducer("padding",getBoxSidesValueReducer("padding"));e.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}class Rv{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n){throw new N("commandcollection-command-not-found",this,{commandName:e})}return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands()){e.destroy()}}}class jv extends pl{constructor(e){super();this.editor=e}set(e,t,n={}){if(typeof t=="string"){const e=t;t=(t,n)=>{this.editor.execute(e);n()}}super.set(e,t,n)}}class Fv extends(fe()){constructor(e={}){super();const t=this.constructor;const n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new Iu({language:n});this._context._addEditor(this,!e.context);const i=Array.from(t.builtinPlugins||[]);this.config=new $a(e,t.defaultConfig);this.config.define("plugins",i);this.config.define(this._context._getEditorConfig());this.plugins=new Mu(this,i,this._context.plugins);this.locale=this._context.locale;this.t=this.locale.t;this._readOnlyLocks=new Set;this.commands=new Rv;this.set("state","initializing");this.once("ready",(()=>this.state="ready"),{priority:"high"});this.once("destroy",(()=>this.state="destroyed"),{priority:"high"});this.model=new HA;this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const o=new Gf;this.data=new t_(this.model,o);this.editing=new xw(this.model,o);this.editing.view.document.bind("isReadOnly").to(this);this.conversion=new i_([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher);this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher);this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher);this.keystrokes=new jv(this);this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new N("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!=="string"&&typeof e!=="symbol"){throw new N("editor-read-only-lock-id-invalid",null,{lockId:e})}if(this._readOnlyLocks.has(e)){return}this._readOnlyLocks.add(e);if(this._readOnlyLocks.size===1){this.fire("change:isReadOnly","isReadOnly",true,false)}}disableReadOnlyMode(e){if(typeof e!=="string"&&typeof e!=="symbol"){throw new N("editor-read-only-lock-id-invalid",null,{lockId:e})}if(!this._readOnlyLocks.has(e)){return}this._readOnlyLocks.delete(e);if(this._readOnlyLocks.size===0){this.fire("change:isReadOnly","isReadOnly",false,true)}}initPlugins(){const e=this.config;const t=e.get("plugins");const n=e.get("removePlugins")||[];const i=e.get("extraPlugins")||[];const o=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),n,o)}destroy(){let e=Promise.resolve();if(this.state=="initializing"){e=new Promise((e=>this.once("ready",e)))}return e.then((()=>{this.fire("destroy");this.stopListening();this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy();this.data.destroy();this.editing.destroy();this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(e){N.rethrowUnexpectedError(e,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function Vv(e){if(!Gt(e.updateSourceElement)){throw new N("attachtoform-missing-elementapi-interface",e)}const t=e.sourceElement;if(Hv(t)&&t.form){let n;const i=t.form;const o=()=>e.updateSourceElement();if(Gt(i.submit)){n=i.submit;i.submit=()=>{o();n.apply(i)}}i.addEventListener("submit",o);e.on("destroy",(()=>{i.removeEventListener("submit",o);if(n){i.submit=n}}))}}function Hv(e){return!!e&&e.tagName.toLowerCase()==="textarea"}function Uv(e){class t extends e{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}return t}{const e=Uv(Object);Uv.setData=e.prototype.setData;Uv.getData=e.prototype.getData}function Wv(e){class t extends e{updateSourceElement(e=this.data.get()){if(!this.sourceElement){throw new N("editor-missing-sourceelement",this)}const t=this.config.get("updateSourceElementOnDestroy");const n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n){bc(this.sourceElement,"");return}bc(this.sourceElement,e)}}return t}Wv.updateSourceElement=Wv(Object).prototype.updateSourceElement;function $v(e,t){if(t.ckeditorInstance){throw new CKEditorError("editor-source-element-already-used",e)}t.ckeditorInstance=e;e.once("destroy",(()=>{delete t.ckeditorInstance}))}class qv extends Su{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",false);this._actions=new fl({idProperty:"_id"});this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!=="string"){throw new N("pendingactions-add-invalid-message",this)}const t=new(fe());t.set("message",e);this._actions.add(t);this.hasAny=true;return t}remove(e){this._actions.remove(e);this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Gv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';const Yv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>';const Kv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';const Zv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>';const Qv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';const Jv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';const Xv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';const eC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>';const tC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>';const nC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>';const iC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';const oC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>';const rC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';const sC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';const aC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';const cC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>';const lC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';const dC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>';const uC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';const hC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>';const fC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>';const gC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>';const mC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>';const pC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>';const bC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>';const kC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>';const wC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>';const _C='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';const AC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';const vC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';const CC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>';const yC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>';const xC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>';const EC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>';const DC={bold:vC,cancel:Gv,caption:Yv,check:Kv,cog:Zv,eraser:Qv,image:Xv,lowVision:Jv,importExport:EC,paragraph:CC,plus:yC,text:xC,alignBottom:eC,alignMiddle:tC,alignTop:nC,alignLeft:iC,alignCenter:oC,alignRight:rC,alignJustify:sC,objectLeft:hC,objectCenter:cC,objectRight:fC,objectFullWidth:dC,objectInline:uC,objectBlockLeft:aC,objectBlockRight:lC,objectSizeFull:gC,objectSizeLarge:mC,objectSizeSmall:pC,objectSizeMedium:bC,pencil:kC,pilcrow:wC,quote:_C,threeVerticalDots:AC};var TC=__webpack_require__(5571);var MC={injectType:"singletonStyleTag",attributes:{"data-cke":true}};MC.insert="head";MC.singleton=true;var IC=zl()(TC.Z,MC);const SC=TC.Z.locals||{};const{threeVerticalDots:BC}=DC;const NC={alignLeft:DC.alignLeft,bold:DC.bold,importExport:DC.importExport,paragraph:DC.paragraph,plus:DC.plus,text:DC.text,threeVerticalDots:DC.threeVerticalDots};class zC extends jl{constructor(e,t){super(e);const n=this.bindTemplate;const i=this.t;this.options=t||{};this.set("ariaLabel",i("Editor toolbar"));this.set("maxWidth","auto");this.items=this.createCollection();this.focusTracker=new ml;this.keystrokes=new pl;this.set("class",undefined);this.set("isCompact",false);this.itemsView=new PC(e);this.children=this.createCollection();this.children.add(this.itemsView);this.focusables=this.createCollection();const o=e.uiLanguageDirection==="rtl";this._focusCycler=new ku({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const r=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];if(this.options.shouldGroupWhenFull&&this.options.isFloating){r.push("ck-toolbar_floating")}this.setTemplate({tag:"div",attributes:{class:r,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:vu(this)}});this._behavior=this.options.shouldGroupWhenFull?new OC(this):new LC(this)}render(){super.render();this.focusTracker.add(this.element);for(const e of this.items){this.focusTracker.add(e.element)}this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)}));this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)}));this.keystrokes.listenTo(this.element);this._behavior.render(this)}destroy(){this._behavior.destroy();this.focusTracker.destroy();this.keystrokes.destroy();return super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const i=Cu(e);const o=n||i.removeItems;const r=this._cleanItemsConfiguration(i.items,t,o).map((e=>{if(se(e)){return this._createNestedToolbarDropdown(e,t,o)}else if(e==="|"){return new _u}else if(e==="-"){return new Au}return t.create(e)})).filter((e=>!!e));return r}_cleanItemsConfiguration(e,t,n){const i=e.filter(((e,i,o)=>{if(e==="|"){return true}if(n.indexOf(e)!==-1){return false}if(e==="-"){if(this.options.shouldGroupWhenFull){z("toolbarview-line-break-ignored-when-grouping-items",o);return false}return true}if(!se(e)&&!t.has(e)){z("toolbarview-item-unavailable",{item:e});return false}return true}));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=e=>e!=="-"&&e!=="|";const n=e.length;const i=e.findIndex(t);if(i===-1){return[]}const o=n-e.slice().reverse().findIndex(t);return e.slice(i,o).filter(((e,n,i)=>{if(t(e)){return true}const o=n>0&&i[n-1]===e;return!o}))}_createNestedToolbarDropdown(e,t,n){let{label:i,icon:o,items:r,tooltip:s=true,withText:a=false}=e;r=this._cleanItemsConfiguration(r,t,n);if(!r.length){return null}const c=this.locale;const l=oy(c);if(!i){z("toolbarview-nested-toolbar-dropdown-missing-label",e)}l.class="ck-toolbar__nested-toolbar-dropdown";l.buttonView.set({label:i,tooltip:s,withText:!!a});if(o!==false){l.buttonView.icon=NC[o]||o||BC}else{l.buttonView.withText=true}ry(l,(()=>l.toolbarView._buildItemsFromConfig(r,t,n)));return l}}class PC extends jl{constructor(e){super(e);this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class LC{constructor(e){const t=e.bindTemplate;e.set("isVertical",false);e.itemsView.children.bindTo(e.items).using((e=>e));e.focusables.bindTo(e.items).using((e=>e));e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class OC{constructor(e){this.resizeObserver=null;this.cachedPadding=null;this.shouldUpdateGroupingOnNextResize=false;this.view=e;this.viewChildren=e.children;this.viewFocusables=e.focusables;this.viewItemsView=e.itemsView;this.viewFocusTracker=e.focusTracker;this.viewLocale=e.locale;this.ungroupedItems=e.createCollection();this.groupedItems=e.createCollection();this.groupedItemsDropdown=this._createGroupedItemsDropdown();e.itemsView.children.bindTo(this.ungroupedItems).using((e=>e));this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this));e.children.on("change",this._updateFocusCycleableItems.bind(this));e.items.on("change",((e,t)=>{const n=t.index;const i=Array.from(t.added);for(const e of t.removed){if(n>=this.ungroupedItems.length){this.groupedItems.remove(e)}else{this.ungroupedItems.remove(e)}}for(let e=n;e<n+i.length;e++){const t=i[e-n];if(e>this.ungroupedItems.length){this.groupedItems.add(t,e-this.ungroupedItems.length)}else{this.ungroupedItems.add(t,e)}}this._updateGrouping()}));e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element;this._enableGroupingOnResize();this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy();this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement)){return}if(!Cc(this.viewElement)){this.shouldUpdateGroupingOnNextResize=true;return}const e=this.groupedItems.length;let t;while(this._areItemsOverflowing){this._groupLastItem();t=true}if(!t&&this.groupedItems.length){while(this.groupedItems.length&&!this._areItemsOverflowing){this._ungroupFirstItem()}if(this._areItemsOverflowing){this._groupLastItem()}}if(this.groupedItems.length!==e){this.view.fire("groupedItemsUpdate")}}get _areItemsOverflowing(){if(!this.ungroupedItems.length){return false}const e=this.viewElement;const t=this.viewLocale.uiLanguageDirection;const n=new dc(e.lastChild);const i=new dc(e);if(!this.cachedPadding){const n=nc.window.getComputedStyle(e);const i=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}if(t==="ltr"){return n.right>i.right-this.cachedPadding}else{return n.left<i.left+this.cachedPadding}}_enableGroupingOnResize(){let e;this.resizeObserver=new pc(this.viewElement,(t=>{if(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize){this.shouldUpdateGroupingOnNextResize=false;this._updateGrouping();e=t.contentRect.width}}));this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){if(!this.groupedItems.length){this.viewChildren.add(new _u);this.viewChildren.add(this.groupedItemsDropdown);this.viewFocusTracker.add(this.groupedItemsDropdown.element)}this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first));if(!this.groupedItems.length){this.viewChildren.remove(this.groupedItemsDropdown);this.viewChildren.remove(this.viewChildren.last);this.viewFocusTracker.remove(this.groupedItemsDropdown.element)}}_createGroupedItemsDropdown(){const e=this.viewLocale;const t=e.t;const n=oy(e);n.class="ck-toolbar__grouped-dropdown";n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se";ry(n,this.groupedItems);n.buttonView.set({label:t("Show more items"),tooltip:true,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:BC});return n}_updateFocusCycleableItems(){this.viewFocusables.clear();this.ungroupedItems.map((e=>{this.viewFocusables.add(e)}));if(this.groupedItems.length){this.viewFocusables.add(this.groupedItemsDropdown)}}}var RC=__webpack_require__(1162);var jC={injectType:"singletonStyleTag",attributes:{"data-cke":true}};jC.insert="head";jC.singleton=true;var FC=zl()(RC.Z,jC);const VC=RC.Z.locals||{};class HC extends jl{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection();this.focusTracker=new ml;this.keystrokes=new pl;this._focusCycler=new ku({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}});this.set("ariaLabel",undefined);this.set("role",undefined);this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)}));this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)}));this.keystrokes.listenTo(this.element)}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class UC extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",true);this.children=this.createCollection();this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",(e=>!e))],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class WC extends jl{constructor(e){super(e);this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var $C=__webpack_require__(66);var qC={injectType:"singletonStyleTag",attributes:{"data-cke":true}};qC.insert="head";qC.singleton=true;var GC=zl()($C.Z,qC);const YC=$C.Z.locals||{};class KC extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("class",undefined);this.set("labelStyle",undefined);this.set("icon",undefined);this.set("isEnabled",true);this.set("isOn",false);this.set("isToggleable",false);this.set("isVisible",true);this.set("keystroke",undefined);this.set("withKeystroke",false);this.set("label",undefined);this.set("tabindex",-1);this.set("tooltip",false);this.set("tooltipPosition","s");this.set("type","button");this.set("withText",false);this.children=this.createCollection();this.actionView=this._createActionView();this.arrowView=this._createArrowView();this.keystrokes=new pl;this.focusTracker=new ml;this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",(e=>!e)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render();this.children.add(this.actionView);this.children.add(this.arrowView);this.focusTracker.add(this.actionView.element);this.focusTracker.add(this.arrowView.element);this.keystrokes.listenTo(this.element);this.keystrokes.set("arrowright",((e,t)=>{if(this.focusTracker.focusedElement===this.actionView.element){this.arrowView.focus();t()}}));this.keystrokes.set("arrowleft",((e,t)=>{if(this.focusTracker.focusedElement===this.arrowView.element){this.actionView.focus();t()}}))}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new yd;e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this);e.extendTemplate({attributes:{class:"ck-splitbutton__action"}});e.delegate("execute").to(this);return e}_createArrowView(){const e=new yd;const t=e.bindTemplate;e.icon=pu;e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":true,"aria-expanded":t.to("isOn",(e=>String(e)))}});e.bind("isEnabled").to(this);e.bind("label").to(this);e.bind("tooltip").to(this);e.delegate("execute").to(this,"open");return e}}var ZC=__webpack_require__(5075);var QC={injectType:"singletonStyleTag",attributes:{"data-cke":true}};QC.insert="head";QC.singleton=true;var JC=zl()(ZC.Z,QC);const XC=ZC.Z.locals||{};var ey=__webpack_require__(6875);var ty={injectType:"singletonStyleTag",attributes:{"data-cke":true}};ty.insert="head";ty.singleton=true;var ny=zl()(ey.Z,ty);const iy=ey.Z.locals||{};function oy(e,t=bu){const n=new t(e);const i=new du(e);const o=new mu(e,n,i);n.bind("isEnabled").to(o);if(n instanceof KC){n.arrowView.bind("isOn").to(o,"isOpen")}else{n.bind("isOn").to(o,"isOpen")}dy(o);return o}function ry(e,t,n={}){e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}});if(e.isOpen){sy(e,t,n)}else{e.once("change:isOpen",(()=>sy(e,t,n)),{priority:"highest"})}if(n.enableActiveItemFocusOnDropdownOpen){ly(e,(()=>e.toolbarView.items.find((e=>e.isOn))))}}function sy(e,t,n){const i=e.locale;const o=i.t;const r=e.toolbarView=new zC(i);const s=typeof t=="function"?t():t;r.ariaLabel=n.ariaLabel||o("Dropdown toolbar");if(n.maxWidth){r.maxWidth=n.maxWidth}if(n.class){r.class=n.class}if(n.isCompact){r.isCompact=n.isCompact}if(n.isVertical){r.isVertical=true}if(s instanceof Sl){r.items.bindTo(s).using((e=>e))}else{r.items.addMany(s)}e.panelView.children.add(r);r.items.delegate("execute").to(e)}function ay(e,t,n={}){if(e.isOpen){cy(e,t,n)}else{e.once("change:isOpen",(()=>cy(e,t,n)),{priority:"highest"})}ly(e,(()=>e.listView.items.find((e=>{if(e instanceof UC){return e.children.first.isOn}return false}))))}function cy(e,t,n){const i=e.locale;const o=e.listView=new HC(i);const r=typeof t=="function"?t():t;o.ariaLabel=n.ariaLabel;o.role=n.role;o.items.bindTo(r).using((e=>{if(e.type==="separator"){return new WC(i)}else if(e.type==="button"||e.type==="switchbutton"){const t=new UC(i);let n;if(e.type==="button"){n=new yd(i)}else{n=new Md(i)}n.bind(...Object.keys(e.model)).to(e.model);n.delegate("execute").to(t);t.children.add(n);return t}return null}));e.panelView.children.add(o);o.items.delegate("execute").to(e)}function ly(e,t){e.on("change:isOpen",(()=>{if(!e.isOpen){return}const n=t();if(!n){return}if(typeof n.focus==="function"){n.focus()}else{z("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n})}}),{priority:I.low-10})}function dy(e){uy(e);hy(e);fy(e);gy(e);my(e);py(e)}function uy(t){t.on("render",(()=>{e({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=false},contextElements:[t.element]})}))}function hy(e){e.on("execute",(t=>{if(t.source instanceof Md){return}e.isOpen=false}))}function fy(e){e.focusTracker.on("change:isFocused",((t,n,i)=>{if(e.isOpen&&!i){e.isOpen=false}}))}function gy(e){e.keystrokes.set("arrowdown",((t,n)=>{if(e.isOpen){e.panelView.focus();n()}}));e.keystrokes.set("arrowup",((t,n)=>{if(e.isOpen){e.panelView.focusLast();n()}}))}function my(e){e.on("change:isOpen",((t,n,i)=>{if(i){return}const o=e.panelView.element;if(o&&o.contains(nc.document.activeElement)){e.buttonView.focus()}}))}function py(e){e.on("change:isOpen",((t,n,i)=>{if(!i){return}e.panelView.focus()}),{priority:"low"})}function by(e,t,n){const i=new cu(e.locale);i.set({id:t,ariaDescribedById:n});i.bind("isReadOnly").to(e,"isEnabled",(e=>!e));i.bind("hasError").to(e,"errorText",(e=>!!e));i.on("input",(()=>{e.errorText=null}));e.bind("isEmpty","isFocused","placeholder").to(i);return i}function ky(e,t,n){const i=new InputNumberView(e.locale);i.set({id:t,ariaDescribedById:n,inputMode:"numeric"});i.bind("isReadOnly").to(e,"isEnabled",(e=>!e));i.bind("hasError").to(e,"errorText",(e=>!!e));i.on("input",(()=>{e.errorText=null}));e.bind("isEmpty","isFocused","placeholder").to(i);return i}function wy(e,t,n){const i=createDropdown(e.locale);i.set({id:t,ariaDescribedById:n});i.bind("isEnabled").to(e);return i}const _y=(e,t=0,n=1)=>e>n?n:e<t?t:e;const Ay=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n;const vy={grad:360/400,turn:360,rad:360/(Math.PI*2)};const Cy=e=>Wy(yy(e));const yy=e=>{if(e[0]==="#")e=e.substring(1);if(e.length<6){return{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ay(parseInt(e[3]+e[3],16)/255,2):1}}return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Ay(parseInt(e.substring(6,8),16)/255,2):1}};const xy=(e,t="deg")=>Number(e)*(vy[t]||1);const Ey=e=>{const t=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;const n=t.exec(e);if(!n)return{h:0,s:0,v:0,a:1};return Ty({h:xy(n[1],n[2]),s:Number(n[3]),l:Number(n[4]),a:n[5]===undefined?1:Number(n[5])/(n[6]?100:1)})};const Dy=null&&Ey;const Ty=({h:e,s:t,l:n,a:i})=>{t*=(n<50?n:100-n)/100;return{h:e,s:t>0?2*t/(n+t)*100:0,v:n+t,a:i}};const My=e=>Uy(Py(e));const Iy=({h:e,s:t,v:n,a:i})=>{const o=(200-t)*n/100;return{h:Ay(e),s:Ay(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Ay(o/2),a:Ay(i,2)}};const Sy=e=>{const{h:t,s:n,v:i}=$y(e);return`hsv(${t}, ${n}%, ${i}%)`};const By=e=>{const{h:t,s:n,v:i,a:o}=$y(e);return`hsva(${t}, ${n}%, ${i}%, ${o})`};const Ny=e=>{const{h:t,s:n,l:i}=Iy(e);return`hsl(${t}, ${n}%, ${i}%)`};const zy=e=>{const{h:t,s:n,l:i,a:o}=Iy(e);return`hsla(${t}, ${n}%, ${i}%, ${o})`};const Py=({h:e,s:t,v:n,a:i})=>{e=e/360*6;t=t/100;n=n/100;const o=Math.floor(e),r=n*(1-t),s=n*(1-(e-o)*t),a=n*(1-(1-e+o)*t),c=o%6;return{r:Ay([n,s,r,r,a,n][c]*255),g:Ay([a,n,n,s,r,r][c]*255),b:Ay([r,r,a,n,n,s][c]*255),a:Ay(i,2)}};const Ly=e=>{const{r:t,g:n,b:i}=Py(e);return`rgb(${t}, ${n}, ${i})`};const Oy=e=>{const{r:t,g:n,b:i,a:o}=Py(e);return`rgba(${t}, ${n}, ${i}, ${o})`};const Ry=e=>{const t=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;const n=t.exec(e);if(!n)return{h:0,s:0,v:0,a:1};return $y({h:xy(n[1],n[2]),s:Number(n[3]),v:Number(n[4]),a:n[5]===undefined?1:Number(n[5])/(n[6]?100:1)})};const jy=null&&Ry;const Fy=e=>{const t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;const n=t.exec(e);if(!n)return{h:0,s:0,v:0,a:1};return Wy({r:Number(n[1])/(n[2]?100/255:1),g:Number(n[3])/(n[4]?100/255:1),b:Number(n[5])/(n[6]?100/255:1),a:n[7]===undefined?1:Number(n[7])/(n[8]?100:1)})};const Vy=null&&Fy;const Hy=e=>{const t=e.toString(16);return t.length<2?"0"+t:t};const Uy=({r:e,g:t,b:n,a:i})=>{const o=i<1?Hy(Ay(i*255)):"";return"#"+Hy(e)+Hy(t)+Hy(n)+o};const Wy=({r:e,g:t,b:n,a:i})=>{const o=Math.max(e,t,n);const r=o-Math.min(e,t,n);const s=r?o===e?(t-n)/r:o===t?2+(n-e)/r:4+(e-t)/r:0;return{h:Ay(60*(s<0?s+6:s)),s:Ay(o?r/o*100:0),v:Ay(o/255*100),a:i}};const $y=e=>({h:round(e.h),s:round(e.s),v:round(e.v),a:round(e.a,2)});const qy=({r:e,g:t,b:n})=>({r:e,g:t,b:n});const Gy=({h:e,s:t,l:n})=>({h:e,s:t,l:n});const Yy=e=>{const{h:t,s:n,v:i}=$y(e);return{h:t,s:n,v:i}};const Ky=(e,t)=>{if(e===t)return true;for(const n in e){if(e[n]!==t[n])return false}return true};const Zy=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");const Qy=(e,t)=>{if(e.toLowerCase()===t.toLowerCase())return true;return Ky(yy(e),yy(t))};const Jy={};const Xy=e=>{let t=Jy[e];if(!t){t=document.createElement("template");t.innerHTML=e;Jy[e]=t}return t};const ex=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:true,detail:n}))};let tx=false;const nx=e=>"touches"in e;const ix=e=>{if(tx&&!nx(e))return false;if(!tx)tx=nx(e);return true};const ox=(e,t)=>{const n=nx(t)?t.touches[0]:t;const i=e.el.getBoundingClientRect();ex(e.el,"move",e.getMove({x:_y((n.pageX-(i.left+window.pageXOffset))/i.width),y:_y((n.pageY-(i.top+window.pageYOffset))/i.height)}))};const rx=(e,t)=>{const n=t.keyCode;if(n>40||e.xy&&n<37||n<33)return;t.preventDefault();ex(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},true))};class sx{constructor(e,t,n,i){const o=Xy(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(o.content.cloneNode(true));const r=e.querySelector(`[part=${t}]`);r.addEventListener("mousedown",this);r.addEventListener("touchstart",this);r.addEventListener("keydown",this);this.el=r;this.xy=i;this.nodes=[r.firstChild,r]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(tx?"touchmove":"mousemove",this);t(tx?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":e.preventDefault();if(!ix(e)||!tx&&e.button!=0)return;this.el.focus();ox(this,e);this.dragging=true;break;case"mousemove":case"touchmove":e.preventDefault();ox(this,e);break;case"mouseup":case"touchend":this.dragging=false;break;case"keydown":rx(this,e);break}}style(e){e.forEach(((e,t)=>{for(const n in e){this.nodes[t].style.setProperty(n,e[n])}}))}}class ax extends sx{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',false)}update({h:e}){this.h=e;this.style([{left:`${e/360*100}%`,color:Ny({h:e,s:100,v:100,a:1})}]);this.el.setAttribute("aria-valuenow",`${Ay(e)}`)}getMove(e,t){return{h:t?_y(this.h+e.x*360,0,360):360*e.x}}}class cx extends sx{constructor(e){super(e,"saturation",'aria-label="Color"',true)}update(e){this.hsva=e;this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:Ny(e)},{"background-color":Ny({h:e.h,s:100,v:100,a:1})}]);this.el.setAttribute("aria-valuetext",`Saturation ${Ay(e.s)}%, Brightness ${Ay(e.v)}%`)}getMove(e,t){return{s:t?_y(this.hsva.s+e.x*100,0,100):e.x*100,v:t?_y(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const lx=`:host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}`;const dx=`[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}`;const ux=`[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}`;const hx=Symbol("same");const fx=Symbol("color");const gx=Symbol("hsva");const mx=Symbol("update");const px=Symbol("parts");const bx=Symbol("css");const kx=Symbol("sliders");class wx extends HTMLElement{static get observedAttributes(){return["color"]}get[bx](){return[lx,dx,ux]}get[kx](){return[cx,ax]}get color(){return this[fx]}set color(e){if(!this[hx](e)){const t=this.colorModel.toHsva(e);this[mx](t);this[fx]=e}}constructor(){super();const e=Xy(`<style>${this[bx].join("")}</style>`);const t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(true));t.addEventListener("move",this);this[px]=this[kx].map((e=>new e(t)))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this["color"];this.color=e}else if(!this.color){this.color=this.colorModel.defaultColor}}attributeChangedCallback(e,t,n){const i=this.colorModel.fromAttr(n);if(!this[hx](i)){this.color=i}}handleEvent(e){const t=this[gx];const n={...t,...e.detail};this[mx](n);let i;if(!Ky(n,t)&&!this[hx](i=this.colorModel.fromHsva(n))){this[fx]=i;ex(this,"color-changed",{value:i})}}[hx](e){return this.color&&this.colorModel.equal(e,this.color)}[mx](e){this[gx]=e;this[px].forEach((t=>t.update(e)))}}const _x={defaultColor:"#000",toHsva:Cy,fromHsva:({h:e,s:t,v:n})=>My({h:e,s:t,v:n,a:1}),equal:Qy,fromAttr:e=>e};class Ax extends wx{get colorModel(){return _x}}class vx extends Ax{}customElements.define("hex-color-picker",vx);var Cx=__webpack_require__(2191);var yx={injectType:"singletonStyleTag",attributes:{"data-cke":true}};yx.insert="head";yx.singleton=true;var xx=zl()(Cx.Z,yx);const Ex=Cx.Z.locals||{};const Dx=150;class Tx extends(null&&View){constructor(e,t){super(e);this.set("color","");this.set("_hexColor","");this._format=t.format||"hsl";this.hexInputRow=this._createInputRow();const n=this.createCollection();n.add(this.hexInputRow);this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:n});this._debounceColorPickerEvent=debounce((e=>{this.set("color",e)}),Dx,{leading:true});this.on("set:color",((e,t,n)=>{e.return=convertColor(n,this._format)}));this.on("change:color",(()=>{this._hexColor=Mx(this.color)}));this.on("change:_hexColor",(()=>{if(document.activeElement!==this.picker){this.picker.setAttribute("color",this._hexColor)}if(Mx(this.color)!=Mx(this._hexColor)){this.color=this._hexColor}}))}render(){super.render();this.picker=global.document.createElement("hex-color-picker");this.picker.setAttribute("class","hex-color-picker");this.picker.setAttribute("tabindex","-1");this._createSlidersView();if(this.element){this.element.insertBefore(this.picker,this.hexInputRow.element);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {'+"border: 1px solid #fff;"+"outline: 1px solid var(--ck-color-focus-border);"+"box-shadow: 0 0 0 2px #fff;"+"}";this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",(e=>{const t=e;const n=t.detail.value;this._debounceColorPickerEvent(n)}))}focus(){if(env.isGecko||env.isiOS||env.isSafari){const e=this.hexInputRow.children.get(1);e.focus()}const e=this.slidersView.first;e.focus()}_createSlidersView(){const e=[...this.picker.shadowRoot.children];const t=e.filter((e=>e.getAttribute("role")==="slider"));const n=t.map((e=>{const t=new Ix(e);return t}));this.slidersView=this.createCollection();n.forEach((e=>{this.slidersView.add(e)}))}_createInputRow(){const e=new Sx;const t=this._createColorInput();return new Bx(this.locale,[e,t])}_createColorInput(){const e=new LabeledFieldView(this.locale,createLabeledInputText);const{t}=this.locale;e.set({label:t("HEX"),class:"color-picker-hex-input"});e.fieldView.bind("value").to(this,"_hexColor",(t=>{if(e.isFocused){return e.fieldView.value}else{return t.startsWith("#")?t.substring(1):t}}));e.fieldView.on("input",(()=>{const t=e.fieldView.element.value;if(t){const e=t.trim();const n=e.startsWith("#")?e.substring(1):e;const i=[3,4,6,8].includes(n.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(n);if(i){this._debounceColorPickerEvent("#"+n)}}}));return e}}function Mx(e){let t=convertToHex(e);if(!t){t="#000"}if(t.length===4){t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")}return t.toLowerCase()}class Ix extends(null&&View){constructor(e){super();this.element=e}focus(){this.element.focus()}}class Sx extends(null&&View){constructor(e){super(e);this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Bx extends(null&&View){constructor(e,t){super(e);this.children=this.createCollection(t);this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class Nx{constructor(e){this._components=new Map;this.editor=e}*names(){for(const e of this._components.values()){yield e.originalName}}add(e,t){this._components.set(zx(e),{callback:t,originalName:e})}create(e){if(!this.has(e)){throw new N("componentfactory-item-missing",this,{name:e})}return this._components.get(zx(e)).callback(this.editor.locale)}has(e){return this._components.has(zx(e))}}function zx(e){return String(e).toLowerCase()}var Px=__webpack_require__(8245);var Lx={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Lx.insert="head";Lx.singleton=true;var Ox=zl()(Px.Z,Lx);const Rx=Px.Z.locals||{};const jx=kc("px");const Fx=nc.document.body;class Vx extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("position","arrow_nw");this.set("isVisible",false);this.set("withArrow",true);this.set("class",undefined);this._pinWhenIsVisibleCallback=null;this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",(e=>`ck-balloon-panel_${e}`)),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",jx),left:t.to("left",jx)}},children:this.content})}show(){this.isVisible=true}hide(){this.isVisible=false}attachTo(e){this.show();const t=Vx.defaultPositions;const n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:Fx,fitInViewport:true},e);const i=Vx._getOptimalPosition(n);const o=parseInt(i.left);const r=parseInt(i.top);const s=i.name;const a=i.config||{};const{withArrow:c=true}=a;this.top=r;this.left=o;this.position=s;this.withArrow=c}pin(e){this.unpin();this._pinWhenIsVisibleCallback=()=>{if(this.isVisible){this._startPinning(e)}else{this._stopPinning()}};this._startPinning(e);this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){if(this._pinWhenIsVisibleCallback){this._stopPinning();this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback);this._pinWhenIsVisibleCallback=null;this.hide()}}_startPinning(e){this.attachTo(e);const t=Hx(e.target);const n=e.limiter?Hx(e.limiter):Fx;this.listenTo(nc.document,"scroll",((i,o)=>{const r=o.target;const s=t&&r.contains(t);const a=n&&r.contains(n);if(s||a||!t||!n){this.attachTo(e)}}),{useCapture:true});this.listenTo(nc.window,"resize",(()=>{this.attachTo(e)}))}_stopPinning(){this.stopListening(nc.document,"scroll");this.stopListening(nc.window,"resize")}}Vx.arrowSideOffset=25;Vx.arrowHeightOffset=10;Vx.stickyVerticalOffset=20;Vx._getOptimalPosition=xc;Vx.defaultPositions=Ux();function Hx(e){if(Wa(e)){return e}if(ac(e)){return e.commonAncestorContainer}if(typeof e=="function"){return Hx(e())}return null}function Ux(e={}){const{sideOffset:t=Vx.arrowSideOffset,heightOffset:n=Vx.arrowHeightOffset,stickyVerticalOffset:i=Vx.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(e,n)=>({top:r(e,n),left:e.left-t,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(e,n)=>({top:r(e,n),left:e.left-n.width*.25-t,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(e,t)=>({top:r(e,t),left:e.left-t.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(e,n)=>({top:r(e,n),left:e.left-n.width*.75+t,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(e,n)=>({top:r(e,n),left:e.left-n.width+t,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(e,n)=>({top:r(e,n),left:e.left+e.width/2-t,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(e,n)=>({top:r(e,n),left:e.left+e.width/2-n.width*.25-t,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(e,t)=>({top:r(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(e,n)=>({top:r(e,n),left:e.left+e.width/2-n.width*.75+t,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(e,n)=>({top:r(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(e,n)=>({top:r(e,n),left:e.right-t,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(e,n)=>({top:r(e,n),left:e.right-n.width*.25-t,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(e,t)=>({top:r(e,t),left:e.right-t.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(e,n)=>({top:r(e,n),left:e.right-n.width*.75+t,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(e,n)=>({top:r(e,n),left:e.right-n.width+t,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:e=>({top:s(e),left:e.left-t,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left-n.width*.25-t,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(e,t)=>({top:s(e),left:e.left-t.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left-n.width*.75+t,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(e,n)=>({top:s(e),left:e.left-n.width+t,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:e=>({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width*.25-t,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(e,t)=>({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width*.75+t,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:e=>({top:s(e),left:e.right-t,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.right-n.width*.25-t,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(e,t)=>({top:s(e),left:e.right-t.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.right-n.width*.75+t,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(e,n)=>({top:s(e),left:e.right-n.width+t,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.left-t.width-n,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.right+n,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(e,t,n)=>{if(!e.getIntersection(n)){return null}return{top:n.top+i,left:e.left+e.width/2-t.width/2,name:"arrowless",config:{withArrow:false,...o}}}};function r(e,t){return e.top-t.height-n}function s(e){return e.bottom+n}}var Wx=__webpack_require__(9948);var $x={injectType:"singletonStyleTag",attributes:{"data-cke":true}};$x.insert="head";$x.singleton=true;var qx=zl()(Wx.Z,$x);const Gx=Wx.Z.locals||{};const Yx="ck-tooltip";class Kx extends(Qa()){constructor(e){super();this._currentElementWithTooltip=null;this._currentTooltipPosition=null;this._resizeObserver=null;Kx._editors.add(e);if(Kx._instance){return Kx._instance}Kx._instance=this;this.tooltipTextView=new jl(e.locale);this.tooltipTextView.set("text","");this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]});this.balloonPanelView=new Vx(e.locale);this.balloonPanelView.class=Yx;this.balloonPanelView.content.add(this.tooltipTextView);this._pinTooltipDebounced=Xm(this._pinTooltip,600);this.listenTo(nc.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:true});this.listenTo(nc.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:true});this.listenTo(nc.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:true});this.listenTo(nc.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:true});this.listenTo(nc.document,"scroll",this._onScroll.bind(this),{useCapture:true});this._watchdogExcluded=true}destroy(e){const t=e.ui.view&&e.ui.view.body;Kx._editors.delete(e);this.stopListening(e.ui);if(t&&t.has(this.balloonPanelView)){t.remove(this.balloonPanelView)}if(!Kx._editors.size){this._unpinTooltip();this.balloonPanelView.destroy();this.stopListening();Kx._instance=null}}static getPositioningFunctions(e){const t=Kx.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=Zx(t);if(!n){return}if(n===this._currentElementWithTooltip){return}this._unpinTooltip();this._pinTooltipDebounced(n,Qx(n))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!Wa(t)){return}if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip){return}const e=Zx(t);const i=Zx(n);if(e&&e!==i){this._unpinTooltip()}}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip){return}this._unpinTooltip()}}_onScroll(e,{target:t}){if(!this._currentElementWithTooltip){return}if(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)){return}this._unpinTooltip()}_pinTooltip(e,{text:t,position:n,cssClass:i}){const o=gl(Kx._editors.values()).ui.view.body;if(!o.has(this.balloonPanelView)){o.add(this.balloonPanelView)}this.tooltipTextView.text=t;this.balloonPanelView.pin({target:e,positions:Kx.getPositioningFunctions(n)});this._resizeObserver=new pc(e,(()=>{if(!Cc(e)){this._unpinTooltip()}}));this.balloonPanelView.class=[Yx,i].filter((e=>e)).join(" ");for(const e of Kx._editors){this.listenTo(e.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"})}this._currentElementWithTooltip=e;this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel();this.balloonPanelView.unpin();for(const e of Kx._editors){this.stopListening(e.ui,"update")}this._currentElementWithTooltip=null;this._currentTooltipPosition=null;if(this._resizeObserver){this._resizeObserver.destroy()}}_updateTooltipPosition(){if(!Cc(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Kx.getPositioningFunctions(this._currentTooltipPosition)})}}Kx.defaultBalloonPositions=Ux({heightOffset:5,sideOffset:13});Kx._editors=new Set;Kx._instance=null;function Zx(e){if(!Wa(e)){return null}return e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])")}function Qx(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}var Jx="Expected a function";function Xx(e,t,n){var i=true,o=true;if(typeof e!="function"){throw new TypeError(Jx)}if(se(n)){i="leading"in n?!!n.leading:i;o="trailing"in n?!!n.trailing:o}return Xm(e,t,{leading:i,maxWait:t,trailing:o})}const eE=Xx;const tE='<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n';const nE=53;const iE=10;const oE=50;const rE=350;const sE="Powered by";const aE={top:-99999,left:-99999,name:"invalid",config:{withArrow:false}};class cE extends(Qa()){constructor(e){super();this.editor=e;this._balloonView=null;this._lastFocusedEditableElement=null;this._showBalloonThrottled=eE(this._showBalloon.bind(this),50,{leading:true});e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;if(e){e.unpin();this._balloonView=null}this._showBalloonThrottled.cancel();this.stopListening()}_handleEditorReady(){const e=this.editor;const t=!!e.config.get("ui.poweredBy.forceVisible");if(!t&&vl(e.config.get("licenseKey"))==="VALID"){return}if(!e.ui.view){return}e.ui.focusTracker.on("change:isFocused",((e,t,n)=>{this._updateLastFocusedEditableElement();if(n){this._showBalloon()}else{this._hideBalloon()}}));e.ui.focusTracker.on("change:focusedElement",((e,t,n)=>{this._updateLastFocusedEditableElement();if(n){this._showBalloon()}}));e.ui.on("update",(()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor;const t=this._balloonView=new Vx;const n=gE(e);const i=new lE(e.locale,n.label);t.content.add(i);t.set({class:"ck-powered-by-balloon"});e.ui.view.body.add(t);e.ui.focusTracker.add(t.element);this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement){return}const e=dE(this.editor,this._lastFocusedEditableElement);if(e){if(!this._balloonView){this._createBalloonView()}this._balloonView.pin(e)}}_hideBalloon(){if(this._balloonView){this._balloonView.unpin()}}_updateLastFocusedEditableElement(){const e=this.editor;const t=e.ui.focusTracker.isFocused;const n=e.ui.focusTracker.focusedElement;if(!t||!n){this._lastFocusedEditableElement=null;return}const i=Array.from(e.ui.getEditableElementsNames()).map((t=>e.ui.getEditableElement(t)));if(i.includes(n)){this._lastFocusedEditableElement=n}else{this._lastFocusedEditableElement=i[0]}}}class lE extends jl{constructor(e,t){super(e);const n=new wd;const i=this.bindTemplate;n.set({content:tE,isColorInherited:false});n.extendTemplate({attributes:{style:{width:nE+"px",height:iE+"px"}}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":true},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&"+"utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:i.to((e=>e.preventDefault()))}}]})}}function dE(e,t){const n=gE(e);const i=n.side==="right"?uE(t,n):hE(t,n);return{target:t,positions:[i]}}function uE(e,t){return fE(e,t,((e,n)=>e.left+e.width-n.width-t.horizontalOffset))}function hE(e,t){return fE(e,t,(e=>e.left+t.horizontalOffset))}function fE(e,t,n){return(i,o)=>{const r=i.getVisible();if(!r){return aE}if(i.width<rE||i.height<oE){return aE}let s;if(t.position==="inside"){s=i.bottom-o.height}else{s=i.bottom-o.height/2}s-=t.verticalOffset;const a=n(i,o);if(t.position==="inside"){const e=o.clone().moveTo(a,s);if(e.getIntersectionArea(r)<e.getArea()){return aE}}else{const t=ic(e);if(t){const e=new dc(t);if(r.bottom+o.height/2>e.bottom){return aE}}}return{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:false}}}}function gE(e){const t=e.config.get("ui.poweredBy");const n=t&&t.position||"border";return{position:n,label:sE,verticalOffset:n==="inside"?5:0,horizontalOffset:5,side:e.locale.contentLanguageDirection==="ltr"?"right":"left",...t}}class mE extends(fe()){constructor(e){super();this.isReady=false;this._editableElementsMap=new Map;this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e;this.componentFactory=new Nx(e);this.focusTracker=new ml;this.tooltipManager=new Kx(e);this.poweredBy=new cE(e);this.set("viewportOffset",this._readViewportOffsetFromConfig());this.once("ready",(()=>{this.isReady=true}));this.listenTo(t.document,"layoutChanged",this.update.bind(this));this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this));this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening();this.focusTracker.destroy();this.tooltipManager.destroy(this.editor);this.poweredBy.destroy();for(const e of this._editableElementsMap.values()){e.ckeditorInstance=null;this.editor.keystrokes.stopListening(e)}this._editableElementsMap=new Map;this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t);if(!t.ckeditorInstance){t.ckeditorInstance=this.editor}this.focusTracker.add(t);const n=()=>{if(this.editor.editing.view.getDomRoot(e)){return}this.editor.keystrokes.listenTo(t)};if(this.isReady){n()}else{this.once("ready",n)}}removeEditableElement(e){const t=this._editableElementsMap.get(e);if(!t){return}this._editableElementsMap.delete(e);this.editor.keystrokes.stopListening(t);this.focusTracker.remove(t);t.ckeditorInstance=null}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){if(e.isRendered){this.focusTracker.add(e.element);this.editor.keystrokes.listenTo(e.element)}else{e.once("render",(()=>{this.focusTracker.add(e.element);this.editor.keystrokes.listenTo(e.element)}))}this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){console.warn("editor-ui-deprecated-editable-elements: "+"The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this});return this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor;const t=e.config.get("ui.viewportOffset");if(t){return t}const n=e.config.get("toolbar.viewportTopOffset");if(n){console.warn("editor-ui-deprecated-viewport-offset-config: "+"The `toolbar.vieportTopOffset` configuration option is deprecated. "+"It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead.");return{top:n}}return{top:0}}_initFocusTracking(){const e=this.editor;const t=e.editing.view;let n;let i;e.keystrokes.set("Alt+F10",((e,o)=>{const r=this.focusTracker.focusedElement;if(Array.from(this._editableElementsMap.values()).includes(r)&&!Array.from(t.domRoots.values()).includes(r)){n=r}const s=this._getCurrentFocusedToolbarDefinition();if(!s||!i){i=this._getFocusableCandidateToolbarDefinitions()}for(let e=0;e<i.length;e++){const e=i.shift();i.push(e);if(e!==s&&this._focusFocusableCandidateToolbar(e)){if(s&&s.options.afterBlur){s.options.afterBlur()}break}}o()}));e.keystrokes.set("Esc",((t,i)=>{const o=this._getCurrentFocusedToolbarDefinition();if(!o){return}if(n){n.focus();n=null}else{e.editing.view.focus()}if(o.options.afterBlur){o.options.afterBlur()}i()}))}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=t;if(Cc(n.element)||i.beforeFocus){e.push(t)}}e.sort(((e,t)=>pE(e)-pE(t)));return e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions){if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement)){return e}}return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;if(n){n()}if(!Cc(t.element)){return false}t.focus();return true}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top;t.viewportOffset.bottom+=n.bottom;t.viewportOffset.left+=n.left;t.viewportOffset.right+=n.right}}function pE(e){const{toolbarView:t,options:n}=e;let i=10;if(Cc(t.element)){i--}if(n.isContextual){i--}return i}var bE=__webpack_require__(4547);var kE={injectType:"singletonStyleTag",attributes:{"data-cke":true}};kE.insert="head";kE.singleton=true;var wE=zl()(bE.Z,kE);const _E=bE.Z.locals||{};class AE extends jl{constructor(e){super(e);this.body=new gd(e)}render(){super.render();this.body.attachToDom()}destroy(){this.body.detachFromDom();return super.destroy()}}class vE extends AE{constructor(e){super(e);this.top=this.createCollection();this.main=this.createCollection();this._voiceLabelView=this._createVoiceLabel();this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t;const t=new Zd;t.text=e("Rich Text Editor");t.extendTemplate({attributes:{class:"ck-voice-label"}});return t}}class CE extends jl{constructor(e,t,n){super(e);this.name=null;this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}});this.set("isFocused",false);this._editableElement=n;this._hasExternalElement=!!this._editableElement;this._editingView=t}render(){super.render();if(this._hasExternalElement){this.template.apply(this.element=this._editableElement)}else{this._editableElement=this.element}this.on("change:isFocused",(()=>this._updateIsFocusedClasses()));this._updateIsFocusedClasses()}destroy(){if(this._hasExternalElement){this.template.revert(this._editableElement)}super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;if(e.isRenderingInProgress){n(this)}else{t(this)}function t(t){e.change((n=>{const i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i);n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}function n(i){e.once("change:isRenderingInProgress",((e,o,r)=>{if(!r){t(i)}else{n(i)}}))}}}class yE extends CE{constructor(e,t,n,i={}){super(e,t,n);const o=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}});this._generateLabel=i.label||(()=>o("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change((t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)}))}}var xE=__webpack_require__(5523);var EE={injectType:"singletonStyleTag",attributes:{"data-cke":true}};EE.insert="head";EE.singleton=true;var DE=zl()(xE.Z,EE);const TE=xE.Z.locals||{};class ME extends(null&&View){constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("label",t.label||"");this.set("class",t.class||null);this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children});const i=new View(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:n.to("label")}]});this.children.add(i)}}class IE extends(null&&View){constructor(e){super(e);const t=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:t.to("loaded")}})}render(){return new Promise((e=>{this.on("loaded",e);return super.render()}))}}class SE extends Su{static get pluginName(){return"Notification"}init(){this.on("show:warning",((e,t)=>{window.alert(t.message)}),{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class BE extends(fe()){constructor(e,t){super();if(t){Im(this,t)}if(e){this.set(e)}}}const NE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';const zE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var PE=__webpack_require__(1757);var LE={injectType:"singletonStyleTag",attributes:{"data-cke":true}};LE.insert="head";LE.singleton=true;var OE=zl()(PE.Z,LE);const RE=PE.Z.locals||{};var jE=__webpack_require__(3553);var FE={injectType:"singletonStyleTag",attributes:{"data-cke":true}};FE.insert="head";FE.singleton=true;var VE=zl()(jE.Z,FE);const HE=jE.Z.locals||{};const UE=kc("px");class WE extends yu{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e);this._viewToStack=new Map;this._idToStack=new Map;this._view=null;this._rotatorView=null;this._fakePanelsView=null;this.positionLimiter=()=>{const e=this.editor.editing.view;const t=e.document;const n=t.selection.editableElement;if(n){return e.domConverter.mapViewToDom(n.root)}return null};this.set("visibleView",null);this.set("_numberOfStacks",0);this.set("_singleViewMode",false)}destroy(){super.destroy();if(this._view){this._view.destroy()}if(this._rotatorView){this._rotatorView.destroy()}if(this._fakePanelsView){this._fakePanelsView.destroy()}}get view(){if(!this._view){this._createPanelView()}return this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(!this._view){this._createPanelView()}if(this.hasView(e.view)){throw new N("contextualballoon-add-view-exist",[this,e])}const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]]));this._viewToStack.set(e.view,this._idToStack.get(t));this._numberOfStacks=this._idToStack.size;if(!this._visibleStack||e.singleViewMode){this.showStack(t)}return}const n=this._idToStack.get(t);if(e.singleViewMode){this.showStack(t)}n.set(e.view,e);this._viewToStack.set(e.view,n);if(n===this._visibleStack){this._showView(e)}}remove(e){if(!this.hasView(e)){throw new N("contextualballoon-remove-view-not-exist",[this,e])}const t=this._viewToStack.get(e);if(this._singleViewMode&&this.visibleView===e){this._singleViewMode=false}if(this.visibleView===e){if(t.size===1){if(this._idToStack.size>1){this._showNextStack()}else{this.view.hide();this.visibleView=null;this._rotatorView.hideView()}}else{this._showView(Array.from(t.values())[t.size-2])}}if(t.size===1){this._idToStack.delete(this._getStackId(t));this._numberOfStacks=this._idToStack.size}else{t.delete(e)}this._viewToStack.delete(e)}updatePosition(e){if(e){this._visibleStack.get(this.visibleView).position=e}this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t){throw new N("contextualballoon-showstack-stack-not-exist",this)}if(this._visibleStack===t){return}this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Vx(this.editor.locale);this.editor.ui.view.body.add(this._view);this.editor.ui.focusTracker.add(this._view.element);this._rotatorView=this._createRotatorView();this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){const t=Array.from(this._idToStack.entries()).find((t=>t[1]===e));return t[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;if(!e[t]){t=0}this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;if(!e[t]){t=e.length-1}this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new $E(this.editor.locale);const t=this.editor.locale.t;this.view.content.add(e);e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>1));e.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"});e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((e,n)=>{if(n<2){return""}const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[i,n])}));e.buttonNextView.on("execute",(()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus()}this._showNextStack()}));e.buttonPrevView.on("execute",(()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus()}this._showPrevStack()}));return e}_createFakePanelsView(){const e=new qE(this.editor.locale,this.view);e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>{const n=!t&&e>=2;return n?Math.min(e-1,2):0}));e.listenTo(this.view,"change:top",(()=>e.updatePosition()));e.listenTo(this.view,"change:left",(()=>e.updatePosition()));this.editor.ui.view.body.add(e);return e}_showView({view:e,balloonClassName:t="",withArrow:n=true,singleViewMode:i=false}){this.view.class=t;this.view.withArrow=n;this._rotatorView.showView(e);this.visibleView=e;this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();if(i){this._singleViewMode=true}}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;if(e){if(!e.limiter){e=Object.assign({},e,{limiter:this.positionLimiter})}e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})}return e}}class $E extends jl{constructor(e){super(e);const t=e.t;const n=this.bindTemplate;this.set("isNavigationVisible",true);this.focusTracker=new ml;this.buttonPrevView=this._createButtonView(t("Previous"),NE);this.buttonNextView=this._createButtonView(t("Next"),zE);this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(e=>e?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render();this.focusTracker.add(this.element)}destroy(){super.destroy();this.focusTracker.destroy()}showView(e){this.hideView();this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new yd(this.locale);n.set({label:e,icon:t,tooltip:true});return n}}class qE extends jl{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("height",0);this.set("width",0);this.set("numberOfPanels",0);this.content=this.createCollection();this._balloonPanelView=t;this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(e=>e?"":"ck-hidden"))],style:{top:n.to("top",UE),left:n.to("left",UE),width:n.to("width",UE),height:n.to("height",UE)}},children:this.content});this.on("change:numberOfPanels",((e,t,n,i)=>{if(n>i){this._addPanels(n-i)}else{this._removePanels(i-n)}this.updatePosition()}))}_addPanels(e){while(e--){const e=new jl;e.setTemplate({tag:"div"});this.content.add(e);this.registerChild(e)}}_removePanels(e){while(e--){const e=this.content.last;this.content.remove(e);this.deregisterChild(e);e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView;const{width:n,height:i}=new dc(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}var GE=__webpack_require__(3609);var YE={injectType:"singletonStyleTag",attributes:{"data-cke":true}};YE.insert="head";YE.singleton=true;var KE=zl()(GE.Z,YE);const ZE=GE.Z.locals||{};const QE=kc("px");class JE extends jl{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",false);this.set("isSticky",false);this.set("limiterElement",null);this.set("limiterBottomOffset",50);this.set("viewportTopOffset",0);this.set("_marginLeft",null);this.set("_isStickyToTheLimiter",false);this.set("_hasViewportTopOffset",false);this.content=this.createCollection();this._contentPanelPlaceholder=new Vl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",(e=>e?"block":"none")),height:t.to("isSticky",(e=>e?QE(this._panelRect.height):null))}}}).render();this._contentPanel=new Vl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",(e=>e?QE(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:t.to("_hasViewportTopOffset",(e=>e?QE(this.viewportTopOffset):null)),bottom:t.to("_isStickyToTheLimiter",(e=>e?QE(this.limiterBottomOffset):null)),marginLeft:t.to("_marginLeft")}},children:this.content}).render();this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render();this._checkIfShouldBeSticky();this.listenTo(nc.window,"scroll",(()=>{this._checkIfShouldBeSticky()}));this.listenTo(this,"change:isActive",(()=>{this._checkIfShouldBeSticky()}))}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;if(!this.limiterElement){this.isSticky=false}else{t=this._limiterRect=this.limiterElement.getBoundingClientRect();this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height}if(this.isSticky){this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset;this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset;this._marginLeft=this._isStickyToTheLimiter?null:QE(-nc.window.scrollX)}else{this._isStickyToTheLimiter=false;this._hasViewportTopOffset=false;this._marginLeft=null}}}const XE=kc("px");class eD extends(null&&Plugin){static get pluginName(){return"BalloonToolbar"}static get requires(){return[ContextualBalloon]}constructor(e){super(e);this._resizeObserver=null;this._balloonConfig=normalizeToolbarConfig(e.config.get("balloonToolbar"));this.toolbarView=this._createToolbarView();this.focusTracker=new FocusTracker;e.ui.once("ready",(()=>{this.focusTracker.add(e.ui.getEditableElement());this.focusTracker.add(this.toolbarView.element)}));e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(true),afterBlur:()=>this.hide(),isContextual:true});this._balloon=e.plugins.get(ContextualBalloon);this._fireSelectionChangeDebounced=debounce((()=>this.fire("_selectionChangeDebounced")),200);this.decorate("show")}init(){const e=this.editor;const t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",((e,t,n)=>{const i=this._balloon.visibleView===this.toolbarView;if(!n&&i){this.hide()}else if(n){this.show()}}));this.listenTo(t,"change:range",((e,n)=>{if(n.directChange||t.isCollapsed){this.hide()}this._fireSelectionChangeDebounced()}));this.listenTo(this,"_selectionChangeDebounced",(()=>{if(this.editor.editing.view.document.isFocused){this.show()}}));if(!this._balloonConfig.shouldNotGroupWhenFull){this.listenTo(e,"ready",(()=>{const t=e.ui.view.editable.element;this._resizeObserver=new ResizeObserver(t,(e=>{this.toolbarView.maxWidth=XE(e.contentRect.width*.9)}))}))}this.listenTo(this.toolbarView,"groupedItemsUpdate",(()=>{this._updatePosition()}))}afterInit(){const e=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,e)}_createToolbarView(){const e=this.editor.locale.t;const t=!this._balloonConfig.shouldNotGroupWhenFull;const n=new ToolbarView(this.editor.locale,{shouldGroupWhenFull:t,isFloating:true});n.ariaLabel=e("Editor contextual toolbar");n.render();return n}show(e=false){const t=this.editor;const n=t.model.document.selection;const i=t.model.schema;if(this._balloon.hasView(this.toolbarView)){return}if(n.isCollapsed&&!e){return}if(tD(n,i)){return}if(Array.from(this.toolbarView.items).every((e=>e.isEnabled!==undefined&&!e.isEnabled))){return}this.listenTo(this.editor.ui,"update",(()=>{this._updatePosition()}));this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}hide(){if(this._balloon.hasView(this.toolbarView)){this.stopListening(this.editor.ui,"update");this._balloon.remove(this.toolbarView)}}_getBalloonPositionData(){const e=this.editor;const t=e.editing.view;const n=t.document;const i=n.selection;const o=n.selection.isBackward;return{target:()=>{const e=o?i.getFirstRange():i.getLastRange();const n=Rect.getDomRangeRects(t.domConverter.viewRangeToDom(e));if(o){return n[0]}else{if(n.length>1&&n[n.length-1].width===0){n.pop()}return n[n.length-1]}},positions:this._getBalloonPositions(o)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy();this.stopListening();this._fireSelectionChangeDebounced.cancel();this.toolbarView.destroy();this.focusTracker.destroy();if(this._resizeObserver){this._resizeObserver.destroy()}}_getBalloonPositions(e){const t=env.isSafari&&env.isiOS;const n=t?generatePositions({heightOffset:Math.max(BalloonPanelView.arrowHeightOffset,Math.round(20/global.window.visualViewport.scale))}):BalloonPanelView.defaultPositions;return e?[n.northWestArrowSouth,n.northWestArrowSouthWest,n.northWestArrowSouthEast,n.northWestArrowSouthMiddleEast,n.northWestArrowSouthMiddleWest,n.southWestArrowNorth,n.southWestArrowNorthWest,n.southWestArrowNorthEast,n.southWestArrowNorthMiddleWest,n.southWestArrowNorthMiddleEast]:[n.southEastArrowNorth,n.southEastArrowNorthEast,n.southEastArrowNorthWest,n.southEastArrowNorthMiddleEast,n.southEastArrowNorthMiddleWest,n.northEastArrowSouth,n.northEastArrowSouthEast,n.northEastArrowSouthWest,n.northEastArrowSouthMiddleEast,n.northEastArrowSouthMiddleWest]}}function tD(e,t){if(e.rangeCount===1){return false}return[...e.getRanges()].every((e=>{const n=e.getContainedElement();return n&&t.isSelectable(n)}))}var nD=__webpack_require__(6706);var iD={injectType:"singletonStyleTag",attributes:{"data-cke":true}};iD.insert="head";iD.singleton=true;var oD=zl()(nD.Z,iD);const rD=nD.Z.locals||{};const sD=kc("px");class aD extends(null&&ButtonView){constructor(e){super(e);const t=this.bindTemplate;this.isVisible=false;this.isToggleable=true;this.set("top",0);this.set("left",0);this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:t.to("top",(e=>sD(e))),left:t.to("left",(e=>sD(e)))}}})}}const cD=kc("px");const{pilcrow:lD}=DC;class dD extends(null&&Plugin){static get pluginName(){return"BlockToolbar"}constructor(e){super(e);this._resizeObserver=null;this._blockToolbarConfig=normalizeToolbarConfig(this.editor.config.get("blockToolbar"));this.toolbarView=this._createToolbarView();this.panelView=this._createPanelView();this.buttonView=this._createButtonView();clickOutsideHandler({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const e=this.editor;this.listenTo(e.model.document.selection,"change:range",((e,t)=>{if(t.directChange){this._hidePanel()}}));this.listenTo(e.ui,"update",(()=>this._updateButton()));this.listenTo(e,"change:isReadOnly",(()=>this._updateButton()),{priority:"low"});this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>this._updateButton()));this.listenTo(this.buttonView,"change:isVisible",((e,t,n)=>{if(n){this.buttonView.listenTo(window,"resize",(()=>this._updateButton()))}else{this.buttonView.stopListening(window,"resize");this._hidePanel()}}));e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const e of this.toolbarView.items){e.on("execute",(()=>this._hidePanel(true)),{priority:"high"})}}destroy(){super.destroy();this.panelView.destroy();this.buttonView.destroy();this.toolbarView.destroy();if(this._resizeObserver){this._resizeObserver.destroy()}}_createToolbarView(){const e=this.editor.locale.t;const t=!this._blockToolbarConfig.shouldNotGroupWhenFull;const n=new ToolbarView(this.editor.locale,{shouldGroupWhenFull:t,isFloating:true});n.ariaLabel=e("Editor block content toolbar");return n}_createPanelView(){const e=this.editor;const t=new BalloonPanelView(e.locale);t.content.add(this.toolbarView);t.class="ck-toolbar-container";e.ui.view.body.add(t);e.ui.focusTracker.add(t.element);this.toolbarView.keystrokes.set("Esc",((e,t)=>{this._hidePanel(true);t()}));return t}_createButtonView(){const e=this.editor;const t=e.t;const n=new BlockButtonView(e.locale);n.set({label:t("Edit block"),icon:lD,withText:false});n.bind("isOn").to(this.panelView,"isVisible");n.bind("tooltip").to(this.panelView,"isVisible",(e=>!e));this.listenTo(n,"execute",(()=>{if(!this.panelView.isVisible){this._showPanel()}else{this._hidePanel(true)}}));e.ui.view.body.add(n);e.ui.focusTracker.add(n.element);return n}_updateButton(){const e=this.editor;const t=e.model;const n=e.editing.view;if(!e.ui.focusTracker.isFocused){this._hideButton();return}if(!e.model.canEditAt(e.model.document.selection)){this._hideButton();return}const i=Array.from(t.document.selection.getSelectedBlocks())[0];if(!i||Array.from(this.toolbarView.items).every((e=>!e.isEnabled))){this._hideButton();return}const o=n.domConverter.mapViewToDom(e.editing.mapper.toViewElement(i));this.buttonView.isVisible=true;this._setupToolbarResize();this._attachButtonToElement(o);if(this.panelView.isVisible){this._showPanel()}}_hideButton(){this.buttonView.isVisible=false}_showPanel(){if(!this.buttonView.isVisible){return}const e=this.panelView.isVisible;this.panelView.show();const t=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(t);this.panelView.pin({target:this.buttonView.element,limiter:t});if(!e){this.toolbarView.items.get(0).focus()}}_getSelectedEditableElement(){const e=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(e)}_hidePanel(e){this.panelView.isVisible=false;if(e){this.editor.editing.view.focus()}}_attachButtonToElement(e){const t=window.getComputedStyle(e);const n=new Rect(this._getSelectedEditableElement());const i=parseInt(t.paddingTop,10);const o=parseInt(t.lineHeight,10)||parseInt(t.fontSize,10)*1.2;const r=getOptimalPosition({element:this.buttonView.element,target:e,positions:[(e,t)=>{let r;if(this.editor.locale.uiLanguageDirection==="ltr"){r=n.left-t.width}else{r=n.right}return{top:e.top+i+(o-t.height)/2,left:r}}]});this.buttonView.top=r.top;this.buttonView.left=r.left}_setupToolbarResize(){const e=this._getSelectedEditableElement();if(!this._blockToolbarConfig.shouldNotGroupWhenFull){if(this._resizeObserver&&this._resizeObserver.element!==e){this._resizeObserver.destroy();this._resizeObserver=null}if(!this._resizeObserver){this._resizeObserver=new ResizeObserver(e,(()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(e)}))}}}_getToolbarMaxWidth(e){const t=new Rect(e);const n=new Rect(this.buttonView.element);const i=this.editor.locale.uiLanguageDirection==="rtl";const o=i?n.left-t.right+n.width:t.left-n.left;return cD(t.width+o)}}const uD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';const hD={colorPaletteIcon:uD};class fD extends mE{constructor(e,t){super(e);this.view=t;this._toolbarConfig=Cu(e.config.get("toolbar"));this._elementReplacer=new ye;this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor;const n=this.view;const i=t.editing.view;const o=n.editable;const r=i.document.getRoot();o.name=r.rootName;n.render();const s=o.element;this.setEditableElement(o.name,s);n.editable.bind("isFocused").to(this.focusTracker);i.attachDomRoot(s);if(e){this._elementReplacer.replace(e,this.element)}this._initPlaceholder();this._initToolbar();this.fire("ready")}destroy(){super.destroy();const e=this.view;const t=this.editor.editing.view;this._elementReplacer.restore();t.detachDomRoot(e.editable.name);e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused");e.stickyPanel.limiterElement=e.element;e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:e})=>e||0));e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory);this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor;const t=e.editing.view;const n=t.document.getRoot();const i=e.sourceElement;let o;const r=e.config.get("placeholder");if(r){o=typeof r==="string"?r:r[this.view.editable.name]}if(!o&&i&&i.tagName.toLowerCase()==="textarea"){o=i.getAttribute("placeholder")}if(o){Ou({view:t,element:n,text:o,isDirectHost:false,keepOnFocus:true})}}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const i=this.view.stickyPanel;if(i.isSticky){const e=new dc(i.element).height;t.viewportOffset.top+=e}else{const e=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",e);setTimeout((()=>{this.stopListening(i,"change:isSticky",e)}),20)}}}var gD=__webpack_require__(3638);var mD={injectType:"singletonStyleTag",attributes:{"data-cke":true}};mD.insert="head";mD.singleton=true;var pD=zl()(gD.Z,mD);const bD=gD.Z.locals||{};class kD extends vE{constructor(e,t,n={}){super(e);this.stickyPanel=new JE(e);this.toolbar=new zC(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull});this.editable=new yE(e,t)}render(){super.render();this.stickyPanel.content.add(this.toolbar);this.top.add(this.stickyPanel);this.main.add(this.editable)}}class wD{constructor(e){this.crashes=[];this.state="initializing";this._now=Date.now;this.crashes=[];this._crashNumberLimit=typeof e.crashNumberLimit==="number"?e.crashNumberLimit:3;this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod==="number"?e.minimumNonErrorTimePeriod:5e3;this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;if(t instanceof Error){this._handleError(t,e)}};this._listeners={};if(!this._restart){throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. "+"Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}}destroy(){this._stopErrorHandling();this._listeners={}}on(e,t){if(!this._listeners[e]){this._listeners[e]=[]}this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter((e=>e!==t))}_fire(e,...t){const n=this._listeners[e]||[];for(const e of n){e.apply(this,[null,...t])}}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler);window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler);window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:undefined,lineno:t instanceof ErrorEvent?t.lineno:undefined,colno:t instanceof ErrorEvent?t.colno:undefined,date:this._now()});const n=this._shouldRestart();this.state="crashed";this._fire("stateChange");this._fire("error",{error:e,causesRestart:n});if(n){this._restart()}else{this.state="crashedPermanently";this._fire("stateChange")}}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==undefined&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit){return true}const e=this.crashes[this.crashes.length-1].date;const t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;const n=(e-t)/this._crashNumberLimit;return n>this._minimumNonErrorTimePeriod}}function _D(e,t=new Set){const n=[e];const i=new Set;let o=0;while(n.length>o){const e=n[o++];if(i.has(e)||!AD(e)||t.has(e)){continue}i.add(e);if(Symbol.iterator in e){try{for(const t of e){n.push(t)}}catch(e){}}else{for(const t in e){if(t==="defaultValue"){continue}n.push(e[t])}}}return i}function AD(e){const t=Object.prototype.toString.call(e);const n=typeof e;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===undefined||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function vD(e,t,n=new Set){if(e===t&&yD(e)){return true}const i=_D(e,n);const o=_D(t,n);for(const e of i){if(o.has(e)){return true}}return false}function CD(e,t,n){const{subNodes:i,prevNodeMap:o}=getSubNodes(e,n.subNodes);const{subNodes:r,prevNodeMap:s}=getSubNodes(t,n.subNodes);for(const n of i){if(r.has(n)){const i=[];i.push(n);let r=o.get(n);while(r&&r!==e){i.push(r);r=o.get(r)}r=s.get(n);while(r&&r!==t){i.unshift(r);r=s.get(r)}console.log("--------");console.log({target1:e});console.log({sharedNode:n});console.log({target2:t});console.log({connection:i});return true}}return false}function yD(e){return typeof e==="object"&&e!==null}class xD extends wD{constructor(e,t={}){super(t);this._editor=null;this._throttledSave=eE(this._save.bind(this),typeof t.saveInterval==="number"?t.saveInterval:5e3);if(e){this._creator=(t,n)=>e.create(t,n)}this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then((()=>{this.state="initializing";this._fire("stateChange");return this._destroy()})).catch((e=>{console.error("An error happened during the editor destroying.",e)})).then((()=>{if(typeof this._elementOrData==="string"){return this.create(this._data,this._config,this._config.context)}else{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}})).then((()=>{this._fire("restart")}))}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then((()=>{super._startErrorHandling();this._elementOrData=e;this._config=this._cloneEditorConfiguration(t)||{};this._config.context=n;return this._creator(e,this._config)})).then((e=>{this._editor=e;e.model.document.on("change:data",this._throttledSave);this._lastDocumentVersion=e.model.document.version;this._data=this._getData();this.state="ready";this._fire("stateChange")}))}destroy(){return Promise.resolve().then((()=>{this.state="destroyed";this._fire("stateChange");super.destroy();return this._destroy()}))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();this._throttledSave.flush();const e=this._editor;this._editor=null;e.model.document.off("change:data",this._throttledSave);return this._destructor(e)}))}_save(){const e=this._editor.model.document.version;try{this._data=this._getData();this._lastDocumentVersion=e}catch(e){console.error(e,"An error happened during restoring editor data. "+"Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames()){e[t]=this._editor.data.get({rootName:t})}return e}_isErrorComingFromThisItem(e){return vD(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Ha(e,((e,t)=>{if(Wa(e)){return e}if(t==="context"){return e}}))}}const ED=Symbol("MainQueueId");class DD extends wD{constructor(e,t={}){super(t);this._watchdogs=new Map;this._context=null;this._contextProps=new Set;this._actionQueues=new TD;this._watchdogConfig=t;this._creator=t=>e.create(t);this._destructor=e=>e.destroy();this._actionQueues.onEmpty((()=>{if(this.state==="initializing"){this.state="ready";this._fire("stateChange")}}))}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(ED,(()=>{this._contextConfig=e;return this._create()}))}getItem(e){const t=this._getWatchdog(e);return t._item}getItemState(e){const t=this._getWatchdog(e);return t.state}add(e){const t=MD(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e.id,(()=>{if(this.state==="destroyed"){throw new Error("Cannot add items to destroyed watchdog.")}if(!this._context){throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.")}let t;if(this._watchdogs.has(e.id)){throw new Error(`Item with the given id is already added: '${e.id}'.`)}if(e.type==="editor"){t=new xD(null,this._watchdogConfig);t.setCreator(e.creator);t._setExcludedProperties(this._contextProps);if(e.destructor){t.setDestructor(e.destructor)}this._watchdogs.set(e.id,t);t.on("error",((n,{error:i,causesRestart:o})=>{this._fire("itemError",{itemId:e.id,error:i});if(!o){return}this._actionQueues.enqueue(e.id,(()=>new Promise((n=>{const i=()=>{t.off("restart",i);this._fire("itemRestart",{itemId:e.id});n()};t.on("restart",i)}))))}));return t.create(e.sourceElementOrData,e.config,this._context)}else{throw new Error(`Not supported item type: '${e.type}'.`)}})))))}remove(e){const t=MD(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e,(()=>{const t=this._getWatchdog(e);this._watchdogs.delete(e);return t.destroy()})))))}destroy(){return this._actionQueues.enqueue(ED,(()=>{this.state="destroyed";this._fire("stateChange");super.destroy();return this._destroy()}))}_restart(){return this._actionQueues.enqueue(ED,(()=>{this.state="initializing";this._fire("stateChange");return this._destroy().catch((e=>{console.error("An error happened during destroying the context or items.",e)})).then((()=>this._create())).then((()=>this._fire("restart")))}))}_create(){return Promise.resolve().then((()=>{this._startErrorHandling();return this._creator(this._contextConfig)})).then((e=>{this._context=e;this._contextProps=_D(this._context);return Promise.all(Array.from(this._watchdogs.values()).map((e=>{e._setExcludedProperties(this._contextProps);return e.create(undefined,undefined,this._context)})))}))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const e=this._context;this._context=null;this._contextProps=new Set;return Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(e)))}))}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t){throw new Error(`Item with the given id was not registered: ${e}.`)}return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values()){if(t._isErrorComingFromThisItem(e)){return false}}return vD(this._context,e.context)}}class TD{constructor(){this._onEmptyCallbacks=[];this._queues=new Map;this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===ED;this._activeActions++;if(!this._queues.get(e)){this._queues.set(e,Promise.resolve())}const i=n?Promise.all(this._queues.values()):Promise.all([this._queues.get(ED),this._queues.get(e)]);const o=i.then(t);const r=o.catch((()=>{}));this._queues.set(e,r);return o.finally((()=>{this._activeActions--;if(this._queues.get(e)===r&&this._activeActions===0){this._onEmptyCallbacks.forEach((e=>e()))}}))}}function MD(e){return Array.isArray(e)?e:[e]}class ID extends(Uv(Wv(Fv))){constructor(e,t={}){if(!BD(e)&&t.initialData!==undefined){throw new N("editor-create-initial-data",null)}super(t);if(this.config.get("initialData")===undefined){this.config.set("initialData",SD(e))}if(BD(e)){this.sourceElement=e}this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull");const i=new kD(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new fD(this,i);Vv(this)}destroy(){if(this.sourceElement){this.updateSourceElement()}this.ui.destroy();return super.destroy()}static create(e,t={}){return new Promise((n=>{const i=new this(e,t);n(i.initPlugins().then((()=>i.ui.init(BD(e)?e:null))).then((()=>i.data.init(i.config.get("initialData")))).then((()=>i.fire("ready"))).then((()=>i)))}))}}ID.Context=Iu;ID.EditorWatchdog=xD;ID.ContextWatchdog=DD;function SD(e){return BD(e)?rc(e):e}function BD(e){return Wa(e)}const ND=["left","right","center","justify"];function zD(e){return ND.includes(e)}function PD(e,t){if(t.contentLanguageDirection=="rtl"){return e==="right"}else{return e==="left"}}function LD(e){const t=e.map((e=>{let t;if(typeof e=="string"){t={name:e}}else{t=e}return t})).filter((e=>{const t=ND.includes(e.name);if(!t){z("alignment-config-name-not-recognized",{option:e})}return t}));const n=t.filter((e=>Boolean(e.className))).length;if(n&&n<t.length){throw new N("alignment-config-classnames-are-missing",{configuredOptions:e})}t.forEach(((t,n,i)=>{const o=i.slice(n+1);const r=o.some((e=>e.name==t.name));if(r){throw new N("alignment-config-name-already-defined",{option:t,configuredOptions:e})}if(t.className){const n=o.some((e=>e.className==t.className));if(n){throw new N("alignment-config-classname-already-defined",{option:t,configuredOptions:e})}}}));return t}const OD="alignment";class RD extends Eu{refresh(){const e=this.editor;const t=e.locale;const n=gl(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(n)&&this._canBeAligned(n);if(this.isEnabled&&n.hasAttribute("alignment")){this.value=n.getAttribute("alignment")}else{this.value=t.contentLanguageDirection==="rtl"?"right":"left"}}execute(e={}){const t=this.editor;const n=t.locale;const i=t.model;const o=i.document;const r=e.value;i.change((e=>{const t=Array.from(o.selection.getSelectedBlocks()).filter((e=>this._canBeAligned(e)));const i=t[0].getAttribute("alignment");const s=PD(r,n)||i===r||!r;if(s){jD(t,e)}else{FD(t,e,r)}}))}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,OD)}}function jD(e,t){for(const n of e){t.removeAttribute(OD,n)}}function FD(e,t,n){for(const i of e){t.setAttribute(OD,n,i)}}class VD extends yu{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e);e.config.define("alignment",{options:ND.map((e=>({name:e})))})}init(){const e=this.editor;const t=e.locale;const n=e.model.schema;const i=LD(e.config.get("alignment.options"));const o=i.filter((e=>zD(e.name)&&!PD(e.name,t)));const r=o.some((e=>!!e.className));n.extend("$block",{allowAttributes:"alignment"});e.model.schema.setAttributeProperties("alignment",{isFormatting:true});if(r){e.conversion.attributeToAttribute($D(o))}else{e.conversion.for("downcast").attributeToAttribute(HD(o))}const s=UD(o);for(const t of s){e.conversion.for("upcast").attributeToAttribute(t)}const a=WD(o);for(const t of a){e.conversion.for("upcast").attributeToAttribute(t)}e.commands.add("alignment",new RD(e))}}function HD(e){const t={};for(const{name:n}of e){t[n]={key:"style",value:{"text-align":n}}}const n={model:{key:"alignment",values:e.map((e=>e.name))},view:t};return n}function UD(e){const t=[];for(const{name:n}of e){t.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}})}return t}function WD(e){const t=[];for(const{name:n}of e){t.push({view:{key:"align",value:n},model:{key:"alignment",value:n}})}return t}function $D(e){const t={};for(const n of e){t[n.name]={key:"class",value:n.className}}const n={model:{key:"alignment",values:e.map((e=>e.name))},view:t};return n}const qD=new Map([["left",DC.alignLeft],["right",DC.alignRight],["center",DC.alignCenter],["justify",DC.alignJustify]]);class GD extends yu{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor;const t=e.ui.componentFactory;const n=e.t;const i=LD(e.config.get("alignment.options"));i.map((e=>e.name)).filter(zD).forEach((e=>this._addButton(e)));t.add("alignment",(o=>{const r=oy(o);ry(r,(()=>i.map((e=>t.create(`alignment:${e.name}`)))),{enableActiveItemFocusOnDropdownOpen:true,isVertical:true,ariaLabel:n("Text alignment toolbar")});r.buttonView.set({label:n("Text alignment"),tooltip:true});r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s=o.contentLanguageDirection==="rtl"?qD.get("right"):qD.get("left");const a=e.commands.get("alignment");r.buttonView.bind("icon").to(a,"value",(e=>qD.get(e)||s));r.bind("isEnabled").to(a,"isEnabled");this.listenTo(r,"execute",(()=>{e.editing.view.focus()}));return r}))}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,(n=>{const i=t.commands.get("alignment");const o=new yd(n);o.set({label:this.localizedOptionTitles[e],icon:qD.get(e),tooltip:true,isToggleable:true});o.bind("isEnabled").to(i);o.bind("isOn").to(i,"value",(t=>t===e));this.listenTo(o,"execute",(()=>{t.execute("alignment",{value:e});t.editing.view.focus()}));return o}))}}class YD extends yu{static get requires(){return[VD,GD]}static get pluginName(){return"Alignment"}}class KD{constructor(e,t=20){this._batch=null;this.model=e;this._size=0;this.limit=t;this._isLocked=false;this._changeCallback=(e,t)=>{if(t.isLocal&&t.isUndoable&&t!==this._batch){this._reset(true)}};this._selectionChangeCallback=()=>{this._reset()};this.model.document.on("change",this._changeCallback);this.model.document.selection.on("change:range",this._selectionChangeCallback);this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){if(!this._batch){this._batch=this.model.createBatch({isTyping:true})}return this._batch}get size(){return this._size}input(e){this._size+=e;if(this._size>=this.limit){this._reset(true)}}get isLocked(){return this._isLocked}lock(){this._isLocked=true}unlock(){this._isLocked=false}destroy(){this.model.document.off("change",this._changeCallback);this.model.document.selection.off("change:range",this._selectionChangeCallback);this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=false){if(!this.isLocked||e){this._batch=null;this._size=0}}}class ZD extends Eu{constructor(e,t){super(e);this._buffer=new KD(e.model,t);this._isEnabledBasedOnSelection=false}get buffer(){return this._buffer}destroy(){super.destroy();this._buffer.destroy()}execute(e={}){const t=this.editor.model;const n=t.document;const i=e.text||"";const o=i.length;let r=n.selection;if(e.selection){r=e.selection}else if(e.range){r=t.createSelection(e.range)}if(!t.canEditAt(r)){return}const s=e.resultRange;t.enqueueChange(this._buffer.batch,(e=>{this._buffer.lock();t.deleteContent(r);if(i){t.insertContent(e.createText(i,n.selection.getAttributes()),r)}if(s){e.setSelection(s)}else if(!r.is("documentSelection")){e.setSelection(r)}this._buffer.unlock();this._buffer.input(o)}))}}const QD=["insertText","insertReplacementText"];class JD extends Tm{constructor(e){super(e);if(a.isAndroid){QD.push("insertCompositionText")}const t=e.document;t.on("beforeinput",((n,i)=>{if(!this.isEnabled){return}const{data:o,targetRanges:r,inputType:s,domEvent:a}=i;if(!QD.includes(s)){return}const c=new x(t,"insertText");t.fire(c,new Sm(e,a,{text:o,selection:e.createSelection(r)}));if(c.stop.called){n.stop()}}));t.on("compositionend",((n,{data:i,domEvent:o})=>{if(!this.isEnabled||a.isAndroid){return}if(!i){return}t.fire("insertText",new Sm(e,o,{text:i,selection:t.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class XD extends yu{static get pluginName(){return"Input"}init(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=t.document.selection;n.addObserver(JD);const o=new ZD(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o);e.commands.add("input",o);this.listenTo(n.document,"insertText",((i,o)=>{if(!n.document.isComposing){o.preventDefault()}const{text:r,selection:s,resultRange:c}=o;const l=Array.from(s.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));let d=r;if(a.isAndroid){const e=Array.from(l[0].getItems()).reduce(((e,t)=>e+(t.is("$textProxy")?t.data:"")),"");if(e){if(e.length<=d.length){if(d.startsWith(e)){d=d.substring(e.length);l[0].start=l[0].start.getShiftedBy(e.length)}}else{if(e.startsWith(d)){l[0].start=l[0].start.getShiftedBy(d.length);d=""}}}}const u={text:d,selection:t.createSelection(l)};if(c){u.resultRange=e.editing.mapper.toModelRange(c)}e.execute("insertText",u)}));if(a.isAndroid){this.listenTo(n.document,"keydown",((e,r)=>{if(i.isCollapsed||r.keyCode!=229||!n.document.isComposing){return}eT(t,o)}))}else{this.listenTo(n.document,"compositionstart",(()=>{if(i.isCollapsed){return}eT(t,o)}))}}}function eT(e,t){if(!t.isEnabled){return}const n=t.buffer;n.lock();e.enqueueChange(n.batch,(()=>{e.deleteContent(e.document.selection)}));n.unlock()}class tT extends Eu{constructor(e,t){super(e);this.direction=t;this._buffer=new KD(e.model,e.config.get("typing.undoStep"));this._isEnabledBasedOnSelection=false}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model;const n=t.document;t.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const o=i.createSelection(e.selection||n.selection);if(!t.canEditAt(o)){return}const r=e.sequence||1;const s=o.isCollapsed;if(o.isCollapsed){t.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:true})}if(this._shouldEntireContentBeReplacedWithParagraph(r)){this._replaceEntireContentWithParagraph(i);return}if(this._shouldReplaceFirstBlockWithParagraph(o,r)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed){return}let a=0;o.getFirstRange().getMinimalFlatRanges().forEach((e=>{a+=xe(e.getWalker({singleCharacters:true,ignoreElementEnd:true,shallow:true}))}));t.deleteContent(o,{doNotResetEntireContent:s,direction:this.direction});this._buffer.input(a);i.setSelection(o);this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1){return false}const t=this.editor.model;const n=t.document;const i=n.selection;const o=t.schema.getLimitElement(i);const r=i.isCollapsed&&i.containsEntireContent(o);if(!r){return false}if(!t.schema.checkChild(o,"paragraph")){return false}const s=o.getChild(0);if(s&&s.is("element","paragraph")){return false}return true}_replaceEntireContentWithParagraph(e){const t=this.editor.model;const n=t.document;const i=n.selection;const o=t.schema.getLimitElement(i);const r=e.createElement("paragraph");e.remove(e.createRangeIn(o));e.insert(r,o);e.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"){return false}if(!e.isCollapsed){return false}const i=e.getFirstPosition();const o=n.schema.getLimitElement(i);const r=o.getChild(0);if(i.parent!=r){return false}if(!e.containsEntireContent(r)){return false}if(!n.schema.checkChild(o,"paragraph")){return false}if(r.name=="paragraph"){return false}return true}}const nT="character";const iT="word";const oT="codePoint";const rT="selection";const sT="backward";const aT="forward";const cT={deleteContent:{unit:rT,direction:sT},deleteContentBackward:{unit:oT,direction:sT},deleteWordBackward:{unit:iT,direction:sT},deleteHardLineBackward:{unit:rT,direction:sT},deleteSoftLineBackward:{unit:rT,direction:sT},deleteContentForward:{unit:nT,direction:aT},deleteWordForward:{unit:iT,direction:aT},deleteHardLineForward:{unit:rT,direction:aT},deleteSoftLineForward:{unit:rT,direction:aT}};class lT extends Tm{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",(()=>{n++}));t.on("keyup",(()=>{n=0}));t.on("beforeinput",((i,o)=>{if(!this.isEnabled){return}const{targetRanges:r,domEvent:s,inputType:c}=o;const l=cT[c];if(!l){return}const d={direction:l.direction,unit:l.unit,sequence:n};if(d.unit==rT){d.selectionToRemove=e.createSelection(r[0])}if(c==="deleteContentBackward"){if(a.isAndroid){d.sequence=1}if(uT(r)){d.unit=rT;d.selectionToRemove=e.createSelection(r)}}const u=new hg(t,"delete",r[0]);t.fire(u,new Sm(e,s,d));if(u.stop.called){i.stop()}}));if(a.isBlink){dT(this)}}observe(){}stopObserving(){}}function dT(e){const t=e.view;const n=t.document;let i=null;let o=false;n.on("keydown",((e,{keyCode:t})=>{i=t;o=false}));n.on("keyup",((a,{keyCode:c,domEvent:l})=>{const d=n.selection;const u=e.isEnabled&&c==i&&r(c)&&!d.isCollapsed&&!o;i=null;if(u){const e=d.getFirstRange();const i=new hg(n,"delete",e);const o={unit:rT,direction:s(c),selectionToRemove:d};n.fire(i,new Sm(t,l,o))}}));n.on("beforeinput",((e,{inputType:t})=>{const n=cT[t];const a=r(i)&&n&&n.direction==s(i);if(a){o=true}}),{priority:"high"});n.on("beforeinput",((e,{inputType:t,data:n})=>{const o=i==qc.delete&&t=="insertText"&&n=="";if(o){e.stop()}}),{priority:"high"});function r(e){return e==qc.backspace||e==qc.delete}function s(e){return e==qc.backspace?sT:aT}}function uT(e){if(e.length!=1||e[0].isCollapsed){return false}const t=e[0].getWalker({direction:"backward",singleCharacters:true,ignoreElementEnd:true});let n=0;for(const{nextPosition:e}of t){if(!e.parent.is("$text")){n++}else{const t=e.parent.data;const i=e.offset;if(El(t,i)||Dl(t,i)||Ml(t,i)){continue}n++}if(n>1){return true}}return false}class hT extends yu{static get pluginName(){return"Delete"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;const i=e.model.document;t.addObserver(lT);this._undoOnBackspace=false;const o=new tT(e,"forward");e.commands.add("deleteForward",o);e.commands.add("forwardDelete",o);e.commands.add("delete",new tT(e,"backward"));this.listenTo(n,"delete",((i,o)=>{if(!n.isComposing){o.preventDefault()}const{direction:r,sequence:s,selectionToRemove:a,unit:c}=o;const l=r==="forward"?"deleteForward":"delete";const d={sequence:s};if(c=="selection"){const t=Array.from(a.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));d.selection=e.model.createSelection(t)}else{d.unit=c}e.execute(l,d);t.scrollToTheSelection()}),{priority:"low"});if(this.editor.plugins.has("UndoEditing")){this.listenTo(n,"delete",((t,n)=>{if(this._undoOnBackspace&&n.direction=="backward"&&n.sequence==1&&n.unit=="codePoint"){this._undoOnBackspace=false;e.execute("undo");n.preventDefault();t.stop()}}),{context:"$capture"});this.listenTo(i,"change",(()=>{this._undoOnBackspace=false}))}}requestUndoOnBackspace(){if(this.editor.plugins.has("UndoEditing")){this._undoOnBackspace=true}}}class fT extends yu{static get requires(){return[XD,hT]}static get pluginName(){return"Typing"}}function gT(e,t){let n=e.start;const i=Array.from(e.getWalker({ignoreElementEnd:false})).reduce(((e,{item:i})=>{if(!(i.is("$text")||i.is("$textProxy"))){n=t.createPositionAfter(i);return""}return e+i.data}),"");return{text:i,range:t.createRange(n,e.end)}}class mT extends(fe()){constructor(e,t){super();this.model=e;this.testCallback=t;this._hasMatch=false;this.set("isEnabled",true);this.on("change:isEnabled",(()=>{if(this.isEnabled){this._startListening()}else{this.stopListening(e.document.selection);this.stopListening(e.document)}}));this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model;const t=e.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{if(!n){return}if(!t.selection.isCollapsed){if(this.hasMatch){this.fire("unmatched");this._hasMatch=false}return}this._evaluateTextBeforeSelection("selection")}));this.listenTo(t,"change:data",((e,t)=>{if(t.isUndo||!t.isLocal){return}this._evaluateTextBeforeSelection("data",{batch:t})}))}_evaluateTextBeforeSelection(e,t={}){const n=this.model;const i=n.document;const o=i.selection;const r=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus);const{text:s,range:a}=gT(r,n);const c=this.testCallback(s);if(!c&&this.hasMatch){this.fire("unmatched")}this._hasMatch=!!c;if(c){const n=Object.assign(t,{text:s,range:a});if(typeof c=="object"){Object.assign(n,c)}this.fire(`matched:${e}`,n)}}}class pT extends yu{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e);this.attributes=new Set;this._overrideUid=null}init(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=e.locale;const o=t.document.selection;this.listenTo(n.document,"arrowKey",((e,t)=>{if(!o.isCollapsed){return}if(t.shiftKey||t.altKey||t.ctrlKey){return}const n=t.keyCode==qc.arrowright;const r=t.keyCode==qc.arrowleft;if(!n&&!r){return}const s=i.contentLanguageDirection;let a=false;if(s==="ltr"&&n||s==="rtl"&&r){a=this._handleForwardMovement(t)}else{a=this._handleBackwardMovement(t)}if(a===true){e.stop()}}),{context:"$text",priority:"highest"});this._isNextGravityRestorationSkipped=false;this.listenTo(o,"change:range",((e,t)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=false;return}if(!this._isGravityOverridden){return}if(!t.directChange&&AT(o.getFirstPosition(),this.attributes)){return}this._restoreGravity()}))}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes;const n=this.editor.model;const i=n.document.selection;const o=i.getFirstPosition();if(this._isGravityOverridden){return false}if(o.isAtStart&&bT(i,t)){return false}if(AT(o,t)){wT(e);this._overrideGravity();return true}return false}_handleBackwardMovement(e){const t=this.attributes;const n=this.editor.model;const i=n.document.selection;const o=i.getFirstPosition();if(this._isGravityOverridden){wT(e);this._restoreGravity();kT(n,t,o);return true}else{if(o.isAtStart){if(bT(i,t)){wT(e);kT(n,t,o);return true}return false}if(_T(o,t)){if(o.isAtEnd&&!bT(i,t)&&AT(o,t)){wT(e);kT(n,t,o);return true}this._isNextGravityRestorationSkipped=true;this._overrideGravity();return false}}return false}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((e=>e.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((e=>{e.restoreSelectionGravity(this._overrideUid);this._overrideUid=null}))}}function bT(e,t){for(const n of t){if(e.hasAttribute(n)){return true}}return false}function kT(e,t,n){const i=n.nodeBefore;e.change((e=>{if(i){e.setSelectionAttribute(i.getAttributes())}else{e.removeSelectionAttribute(t)}}))}function wT(e){e.preventDefault()}function _T(e,t){const n=e.getShiftedBy(-1);return AT(n,t)}function AT(e,t){const{nodeBefore:n,nodeAfter:i}=e;for(const e of t){const t=n?n.getAttribute(e):undefined;const o=i?i.getAttribute(e):undefined;if(o!==t){return true}}return false}var vT=/[\\^$.*+?()[\]{}|]/g,CT=RegExp(vT.source);function yT(e){e=Nh(e);return e&&CT.test(e)?e.replace(vT,"\\$&"):e}const xT=yT;const ET={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:NT('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:NT("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:NT("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:NT('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:NT('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:NT("'"),to:[null,"‚",null,"’"]}};const DT={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]};const TT=["symbols","mathematical","typography","quotes"];class MT extends yu{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e);e.config.define("typing",{transformations:{include:TT}})}init(){const e=this.editor.model;const t=e.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}));this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor;const t=e.model;const n=e.plugins.get("Delete");const i=zT(e.config.get("typing.transformations"));const o=e=>{for(const t of i){const n=t.from;const i=n.test(e);if(i){return{normalizedTransformation:t}}}};const r=new mT(e.model,o);r.on("matched:data",((e,i)=>{if(!i.batch.isTyping){return}const{from:o,to:r}=i.normalizedTransformation;const s=o.exec(i.text);const a=r(s.slice(1));const c=i.range;let l=s.index;t.enqueueChange((e=>{for(let n=1;n<s.length;n++){const i=s[n];const o=a[n-1];if(o==null){l+=i.length;continue}const r=c.start.getShiftedBy(l);const d=t.createRange(r,r.getShiftedBy(i.length));const u=BT(r);t.insertContent(e.createText(o,u),d);l+=o.length}t.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))}));r.bind("isEnabled").to(this)}}function IT(e){if(typeof e=="string"){return new RegExp(`(${xT(e)})$`)}return e}function ST(e){if(typeof e=="string"){return()=>[e]}else if(e instanceof Array){return()=>e}return e}function BT(e){const t=e.textNode?e.textNode:e.nodeAfter;return t.getAttributes()}function NT(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function zT(e){const t=e.extra||[];const n=e.remove||[];const i=e=>!n.includes(e);const o=e.include.concat(t).filter(i);return PT(o).filter(i).map((e=>typeof e=="string"&&ET[e]?ET[e]:e)).filter((e=>typeof e==="object")).map((e=>({from:IT(e.from),to:ST(e.to)})))}function PT(e){const t=new Set;for(const n of e){if(typeof n=="string"&&DT[n]){for(const e of DT[n]){t.add(e)}}else{t.add(n)}}return Array.from(t)}function LT(e,t,n,i){return i.createRange(OT(e,t,n,true,i),OT(e,t,n,false,i))}function OT(e,t,n,i,o){let r=e.textNode||(i?e.nodeBefore:e.nodeAfter);let s=null;while(r&&r.getAttribute(t)==n){s=r;r=i?r.previousSibling:r.nextSibling}return s?o.createPositionAt(s,i?"before":"after"):e}function RT(e,t,n,i){const o=e.editing.view;const r=new Set;o.document.registerPostFixer((o=>{const s=e.model.document.selection;let a=false;if(s.hasAttribute(t)){const c=LT(s.getFirstPosition(),t,s.getAttribute(t),e.model);const l=e.editing.mapper.toViewRange(c);for(const e of l.getItems()){if(e.is("element",n)&&!e.hasClass(i)){o.addClass(i,e);r.add(e);a=true}}}return a}));e.conversion.for("editingDowncast").add((e=>{e.on("insert",t,{priority:"highest"});e.on("remove",t,{priority:"highest"});e.on("attribute",t,{priority:"highest"});e.on("selection",t,{priority:"highest"});function t(){o.change((e=>{for(const t of r.values()){e.removeClass(i,t);r.delete(t)}}))}}))}function jT(e,t,n,i){let o;let r=null;if(typeof i=="function"){o=i}else{r=e.commands.get(i);o=()=>{e.execute(i)}}e.model.document.on("change:data",((s,a)=>{if(r&&!r.isEnabled||!t.isEnabled){return}const c=gl(e.model.document.selection.getRanges());if(!c.isCollapsed){return}if(a.isUndo||!a.isLocal){return}const l=Array.from(e.model.document.differ.getChanges());const d=l[0];if(l.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1){return}const u=d.position.parent;if(u.is("element","codeBlock")){return}if(u.is("element","listItem")&&typeof i!=="function"&&!["numberedList","bulletedList","todoList"].includes(i)){return}if(r&&r.value===true){return}const h=u.getChild(0);const f=e.model.createRangeOn(h);if(!f.containsRange(c)&&!c.end.isEqual(f.end)){return}const g=n.exec(h.data.substr(0,c.end.offset));if(!g){return}e.model.enqueueChange((t=>{const n=t.createPositionAt(u,0);const i=t.createPositionAt(u,g[0].length);const r=new Gb(n,i);const s=o({match:g});if(s!==false){t.remove(r);const n=e.model.document.selection.getFirstRange();const i=t.createRangeIn(u);if(u.isEmpty&&!i.isEqual(n)&&!i.containsRange(n,true)){t.remove(u)}}r.detach();e.model.enqueueChange((()=>{const t=e.plugins.get("Delete");t.requestUndoOnBackspace()}))}))}))}function FT(e,t,n,i){let o;let r;if(n instanceof RegExp){o=n}else{r=n}r=r||(e=>{let t;const n=[];const i=[];while((t=o.exec(e))!==null){if(t&&t.length<4){break}let{index:e,1:o,2:r,3:s}=t;const a=o+r+s;e+=t[0].length-a.length;const c=[e,e+o.length];const l=[e+o.length+r.length,e+o.length+r.length+s.length];n.push(c);n.push(l);i.push([e+o.length,e+o.length+r.length])}return{remove:n,format:i}});e.model.document.on("change:data",((n,o)=>{if(o.isUndo||!o.isLocal||!t.isEnabled){return}const s=e.model;const a=s.document.selection;if(!a.isCollapsed){return}const c=Array.from(s.document.differ.getChanges());const l=c[0];if(c.length!=1||l.type!=="insert"||l.name!="$text"||l.length!=1){return}const d=a.focus;const u=d.parent;const{text:h,range:f}=HT(s.createRange(s.createPositionAt(u,0),d),s);const g=r(h);const m=VT(f.start,g.format,s);const p=VT(f.start,g.remove,s);if(!(m.length&&p.length)){return}s.enqueueChange((t=>{const n=i(t,m);if(n===false){return}for(const e of p.reverse()){t.remove(e)}s.enqueueChange((()=>{const t=e.plugins.get("Delete");t.requestUndoOnBackspace()}))}))}))}function VT(e,t,n){return t.filter((e=>e[0]!==undefined&&e[1]!==undefined)).map((t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))))}function HT(e,t){let n=e.start;const i=Array.from(e.getItems()).reduce(((e,i)=>{if(!(i.is("$text")||i.is("$textProxy"))||i.getAttribute("code")){n=t.createPositionAfter(i);return""}return e+i.data}),"");return{text:i,range:t.createRange(n,e.end)}}class UT extends yu{static get requires(){return[hT]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats();this._addBasicStylesAutoformats();this._addHeadingAutoformats();this._addBlockQuoteAutoformats();this._addCodeBlockAutoformats();this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;if(e.get("bulletedList")){jT(this.editor,this,/^[*-]\s$/,"bulletedList")}if(e.get("numberedList")){jT(this.editor,this,/^1[.|)]\s$/,"numberedList")}if(e.get("todoList")){jT(this.editor,this,/^\[\s?\]\s$/,"todoList")}if(e.get("checkTodoList")){jT(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList");this.editor.execute("checkTodoList")}))}}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=WT(this.editor,"bold");FT(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e);FT(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=WT(this.editor,"italic");FT(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e);FT(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=WT(this.editor,"code");FT(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=WT(this.editor,"strikethrough");FT(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");if(e){e.modelElements.filter((e=>e.match(/^heading[1-6]$/))).forEach((t=>{const n=t[7];const i=new RegExp(`^(#{${n}})\\s$`);jT(this.editor,this,i,(()=>{if(!e.isEnabled||e.value===t){return false}this.editor.execute("heading",{value:t})}))}))}}_addBlockQuoteAutoformats(){if(this.editor.commands.get("blockQuote")){jT(this.editor,this,/^>\s$/,"blockQuote")}}_addCodeBlockAutoformats(){const e=this.editor;const t=e.model.document.selection;if(e.commands.get("codeBlock")){jT(e,this,/^```$/,(()=>{if(t.getFirstPosition().parent.is("element","listItem")){return false}this.editor.execute("codeBlock",{usePreviousLanguageChoice:true})}))}}_addHorizontalLineAutoformats(){if(this.editor.commands.get("horizontalLine")){jT(this.editor,this,/^---$/,"horizontalLine")}}}function WT(e,t){return(n,i)=>{const o=e.commands.get(t);if(!o.isEnabled){return false}const r=e.model.schema.getValidRanges(i,t);for(const e of r){n.setAttribute(t,true,e)}n.removeSelectionAttribute(t)}}function $T(e,t,n){var i=e.length;n=n===undefined?i:n;return!t&&n>=i?e:Wh(e,t,n)}const qT=$T;var GT="\\ud800-\\udfff",YT="\\u0300-\\u036f",KT="\\ufe20-\\ufe2f",ZT="\\u20d0-\\u20ff",QT=YT+KT+ZT,JT="\\ufe0e\\ufe0f";var XT="\\u200d";var eM=RegExp("["+XT+GT+QT+JT+"]");function tM(e){return eM.test(e)}const nM=tM;function iM(e){return e.split("")}const oM=iM;var rM="\\ud800-\\udfff",sM="\\u0300-\\u036f",aM="\\ufe20-\\ufe2f",cM="\\u20d0-\\u20ff",lM=sM+aM+cM,dM="\\ufe0e\\ufe0f";var uM="["+rM+"]",hM="["+lM+"]",fM="\\ud83c[\\udffb-\\udfff]",gM="(?:"+hM+"|"+fM+")",mM="[^"+rM+"]",pM="(?:\\ud83c[\\udde6-\\uddff]){2}",bM="[\\ud800-\\udbff][\\udc00-\\udfff]",kM="\\u200d";var wM=gM+"?",_M="["+dM+"]?",AM="(?:"+kM+"(?:"+[mM,pM,bM].join("|")+")"+_M+wM+")*",vM=_M+wM+AM,CM="(?:"+[mM+hM+"?",hM,pM,bM,uM].join("|")+")";var yM=RegExp(fM+"(?="+fM+")|"+CM+vM,"g");function xM(e){return e.match(yM)||[]}const EM=xM;function DM(e){return nM(e)?EM(e):oM(e)}const TM=DM;function MM(e){return function(t){t=Nh(t);var n=nM(t)?TM(t):undefined;var i=n?n[0]:t.charAt(0);var o=n?qT(n,1).join(""):t.slice(1);return i[e]()+o}}const IM=MM;var SM=IM("toUpperCase");const BM=SM;const NM=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;const zM=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;const PM=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i;const LM=/^((\w+:(\/{2,})?)|(\W))/i;const OM="Ctrl+K";function RM(e){return e.is("attributeElement")&&!!e.getCustomProperty("link")}function jM(e,{writer:t}){const n=t.createAttributeElement("a",{href:e},{priority:5});t.setCustomProperty("link",true,n);return n}function FM(e){const t=String(e);return VM(t)?t:"#"}function VM(e){const t=e.replace(NM,"");return!!t.match(zM)}function HM(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};t.forEach((e=>{if("label"in e&&n[e.label]){e.label=n[e.label]}return e}));return t}function UM(e){const t=[];if(e){for(const[n,i]of Object.entries(e)){const e=Object.assign({},i,{id:`link${BM(n)}`});t.push(e)}}return t}function WM(e,t){if(!e){return false}return t.checkAttribute(e.name,"linkHref")}function $M(e){return PM.test(e)}function qM(e,t){const n=$M(e)?"mailto:":t;const i=!!n&&!GM(e);return e&&i?n+e:e}function GM(e){return LM.test(e)}function YM(e){window.open(e,"_blank","noopener")}const KM=4;const ZM=new RegExp("(^|\\s)"+"("+"("+"(?:(?:(?:https?|ftp):)?\\/\\/)"+"(?:\\S+(?::\\S*)?@)?"+"(?:"+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])"+"(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}"+"(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))"+"|"+"("+"((?!www\\.)|(www\\.))"+"(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+"+"(?:[a-z\\u00a1-\\uffff]{2,63})"+")"+")"+"(?::\\d{2,5})?"+"(?:[/?#]\\S*)?"+")"+"|"+"("+"(www.|(\\S+@))"+"((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+"+"(?:[a-z\\u00a1-\\uffff]{2,63})"+")"+")$","i");const QM=2;class JM extends yu{static get requires(){return[hT]}static get pluginName(){return"AutoLink"}init(){const e=this.editor;const t=e.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}));this._enableTypingHandling()}afterInit(){this._enableEnterHandling();this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor;const t=new mT(e.model,(e=>{if(!XM(e)){return}const t=eI(e.substr(0,e.length-1));if(t){return{url:t}}}));t.on("matched:data",((t,n)=>{const{batch:i,range:o,url:r}=n;if(!i.isTyping){return}const s=o.end.getShiftedBy(-1);const a=s.getShiftedBy(-r.length);const c=e.model.createRange(a,s);this._applyAutoLink(r,c)}));t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor;const t=e.model;const n=e.commands.get("enter");if(!n){return}n.on("execute",(()=>{const e=t.document.selection.getFirstPosition();if(!e.parent.previousSibling){return}const n=t.createRangeIn(e.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const e=this.editor;const t=e.model;const n=e.commands.get("shiftEnter");if(!n){return}n.on("execute",(()=>{const e=t.document.selection.getFirstPosition();const n=t.createRange(t.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model;const{text:n,range:i}=gT(e,t);const o=eI(n);if(o){const e=t.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,e)}}_applyAutoLink(e,t){const n=this.editor.model;const i=this.editor.config.get("link.defaultProtocol");const o=qM(e,i);if(!this.isEnabled||!tI(t,n)||!GM(o)||nI(t)){return}this._persistAutoLink(o,t)}_persistAutoLink(e,t){const n=this.editor.model;const i=this.editor.plugins.get("Delete");n.enqueueChange((o=>{o.setAttribute("linkHref",e,t);n.enqueueChange((()=>{i.requestUndoOnBackspace()}))}))}}function XM(e){return e.length>KM&&e[e.length-1]===" "&&e[e.length-2]!==" "}function eI(e){const t=ZM.exec(e);return t?t[QM]:null}function tI(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}function nI(e){const t=e.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}class iI extends yu{static get pluginName(){return"Autosave"}static get requires(){return[qv]}constructor(e){super(e);this._action=null;const t=e.config.get("autosave")||{};const n=t.waitingTime||1e3;this.set("state","synchronized");this._debouncedSave=Xm(this._save.bind(this),n);this._lastDocumentVersion=e.model.document.version;this._savePromise=null;this._domEmitter=new(Qa());this._config=t;this._pendingActions=e.plugins.get(qv);this._makeImmediateSave=false}init(){const e=this.editor;const t=e.model.document;this.listenTo(e,"ready",(()=>{this.listenTo(t,"change:data",((e,t)=>{if(!this._saveCallbacks.length){return}if(!t.isLocal){return}if(this.state==="synchronized"){this.state="waiting";this._setPendingAction()}if(this.state==="waiting"){this._debouncedSave()}}))}));this.listenTo(e,"destroy",(()=>this._flush()),{priority:"highest"});this._domEmitter.listenTo(window,"beforeunload",((e,t)=>{if(this._pendingActions.hasAny){t.returnValue=this._pendingActions.first.message}}))}destroy(){this._domEmitter.stopListening();super.destroy()}save(){this._debouncedSave.cancel();return this._save()}_flush(){this._debouncedSave.flush()}_save(){if(this._savePromise){this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion;return this._savePromise}this._setPendingAction();this.state="saving";this._lastDocumentVersion=this.editor.model.document.version;this._savePromise=Promise.resolve().then((()=>Promise.all(this._saveCallbacks.map((e=>e(this.editor)))))).finally((()=>{this._savePromise=null})).then((()=>{if(this._makeImmediateSave){this._makeImmediateSave=false;return this._save()}else{if(this.editor.model.document.version>this._lastDocumentVersion){this.state="waiting";this._debouncedSave()}else{this.state="synchronized";this._pendingActions.remove(this._action);this._action=null}}})).catch((e=>{this.state="error";this.state="saving";this._debouncedSave();throw e}));return this._savePromise}_setPendingAction(){const e=this.editor.t;if(!this._action){this._action=this._pendingActions.add(e("Saving changes"))}}get _saveCallbacks(){const e=[];if(this.adapter&&this.adapter.save){e.push(this.adapter.save)}if(this._config.save){e.push(this._config.save)}return e}}function*oI(e,t){for(const n of t){if(n&&e.getAttributeProperties(n[0]).copyOnEnter){yield n}}}class rI extends Eu{execute(){this.editor.model.change((e=>{this.enterBlock(e);this.fire("afterExecute",{writer:e})}))}enterBlock(e){const t=this.editor.model;const n=t.document.selection;const i=t.schema;const o=n.isCollapsed;const r=n.getFirstRange();const s=r.start.parent;const a=r.end.parent;if(i.isLimit(s)||i.isLimit(a)){if(!o&&s==a){t.deleteContent(n)}return false}if(o){const t=oI(e.model.schema,n.getAttributes());sI(e,r.start);e.setSelectionAttribute(t);return true}else{const i=!(r.start.isAtStart&&r.end.isAtEnd);const o=s==a;t.deleteContent(n,{leaveUnmerged:i});if(i){if(o){sI(e,n.focus);return true}else{e.setSelection(a,0)}}}return false}}function sI(e,t){e.split(t);e.setSelection(t.parent.nextSibling,0)}const aI={insertParagraph:{isSoft:false},insertLineBreak:{isSoft:true}};class cI extends Tm{constructor(e){super(e);const t=this.document;let n=false;t.on("keydown",((e,t)=>{n=t.shiftKey}));t.on("beforeinput",((i,o)=>{if(!this.isEnabled){return}let r=o.inputType;if(a.isSafari&&n&&r=="insertParagraph"){r="insertLineBreak"}const s=o.domEvent;const c=aI[r];if(!c){return}const l=new hg(t,"enter",o.targetRanges[0]);t.fire(l,new Sm(e,s,{isSoft:c.isSoft}));if(l.stop.called){i.stop()}}))}observe(){}stopObserving(){}}class lI extends yu{static get pluginName(){return"Enter"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;t.addObserver(cI);e.commands.add("enter",new rI(e));this.listenTo(n,"enter",((i,o)=>{if(!n.isComposing){o.preventDefault()}if(o.isSoft){return}e.execute("enter");t.scrollToTheSelection()}),{priority:"low"})}}class dI extends Eu{execute(){const e=this.editor.model;const t=e.document;e.change((n=>{hI(e,n,t.selection);this.fire("afterExecute",{writer:n})}))}refresh(){const e=this.editor.model;const t=e.document;this.isEnabled=uI(e.schema,t.selection)}}function uI(e,t){if(t.rangeCount>1){return false}const n=t.anchor;if(!n||!e.checkChild(n,"softBreak")){return false}const i=t.getFirstRange();const o=i.start.parent;const r=i.end.parent;if((gI(o,e)||gI(r,e))&&o!==r){return false}return true}function hI(e,t,n){const i=n.isCollapsed;const o=n.getFirstRange();const r=o.start.parent;const s=o.end.parent;const a=r==s;if(i){const i=oI(e.schema,n.getAttributes());fI(e,t,o.end);t.removeSelectionAttribute(n.getAttributeKeys());t.setSelectionAttribute(i)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:i});if(a){fI(e,t,n.focus)}else{if(i){t.setSelection(s,0)}}}}function fI(e,t,n){const i=t.createElement("softBreak");e.insertContent(i,n);t.setSelection(i,"after")}function gI(e,t){if(e.is("rootElement")){return false}return t.isLimit(e)||gI(e.parent,t)}class mI extends yu{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor;const t=e.model.schema;const n=e.conversion;const i=e.editing.view;const o=i.document;t.register("softBreak",{allowWhere:"$text",isInline:true});n.for("upcast").elementToElement({model:"softBreak",view:"br"});n.for("downcast").elementToElement({model:"softBreak",view:(e,{writer:t})=>t.createEmptyElement("br")});i.addObserver(cI);e.commands.add("shiftEnter",new dI(e));this.listenTo(o,"enter",((t,n)=>{if(!o.isComposing){n.preventDefault()}if(!n.isSoft){return}e.execute("shiftEnter");i.scrollToTheSelection()}),{priority:"low"})}}class pI extends Eu{refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model;const n=t.schema;const i=t.document.selection;const o=Array.from(i.getSelectedBlocks());const r=e.forceValue===undefined?!this.value:e.forceValue;t.change((e=>{if(!r){this._removeQuote(e,o.filter(bI))}else{const t=o.filter((e=>bI(e)||wI(n,e)));this._applyQuote(e,t)}}))}_getValue(){const e=this.editor.model.document.selection;const t=gl(e.getSelectedBlocks());return!!(t&&bI(t))}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const n=gl(e.getSelectedBlocks());if(!n){return false}return wI(t,n)}_removeQuote(e,t){kI(e,t).reverse().forEach((t=>{if(t.start.isAtStart&&t.end.isAtEnd){e.unwrap(t.start.parent);return}if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);e.move(t,n);return}if(!t.end.isAtEnd){e.split(t.end)}const n=e.createPositionAfter(t.end.parent);e.move(t,n)}))}_applyQuote(e,t){const n=[];kI(e,t).reverse().forEach((t=>{let i=bI(t.start);if(!i){i=e.createElement("blockQuote");e.wrap(t,i)}n.push(i)}));n.reverse().reduce(((t,n)=>{if(t.nextSibling==n){e.merge(e.createPositionAfter(t));return t}return n}))}}function bI(e){return e.parent.name=="blockQuote"?e.parent:null}function kI(e,t){let n;let i=0;const o=[];while(i<t.length){const r=t[i];const s=t[i+1];if(!n){n=e.createPositionBefore(r)}if(!s||r.nextSibling!=s){o.push(e.createRange(n,e.createPositionAfter(r)));n=null}i++}return o}function wI(e,t){const n=e.checkChild(t.parent,"blockQuote");const i=e.checkChild(["$root","blockQuote"],t);return n&&i}class _I extends yu{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[lI,hT]}init(){const e=this.editor;const t=e.model.schema;e.commands.add("blockQuote",new pI(e));t.register("blockQuote",{inheritAllFrom:"$container"});e.conversion.elementToElement({model:"blockQuote",view:"blockquote"});e.model.document.registerPostFixer((n=>{const i=e.model.document.differ.getChanges();for(const e of i){if(e.type=="insert"){const i=e.position.nodeAfter;if(!i){continue}if(i.is("element","blockQuote")&&i.isEmpty){n.remove(i);return true}else if(i.is("element","blockQuote")&&!t.checkChild(e.position,i)){n.unwrap(i);return true}else if(i.is("element")){const e=n.createRangeIn(i);for(const i of e.getItems()){if(i.is("element","blockQuote")&&!t.checkChild(n.createPositionBefore(i),i)){n.unwrap(i);return true}}}}else if(e.type=="remove"){const t=e.position.parent;if(t.is("element","blockQuote")&&t.isEmpty){n.remove(t);return true}}}return false}));const n=this.editor.editing.view.document;const i=e.model.document.selection;const o=e.commands.get("blockQuote");this.listenTo(n,"enter",((t,n)=>{if(!i.isCollapsed||!o.value){return}const r=i.getLastPosition().parent;if(r.isEmpty){e.execute("blockQuote");e.editing.view.scrollToTheSelection();n.preventDefault();t.stop()}}),{context:"blockquote"});this.listenTo(n,"delete",((t,n)=>{if(n.direction!="backward"||!i.isCollapsed||!o.value){return}const r=i.getLastPosition().parent;if(r.isEmpty&&!r.previousSibling){e.execute("blockQuote");e.editing.view.scrollToTheSelection();n.preventDefault();t.stop()}}),{context:"blockquote"})}}var AI=__webpack_require__(636);var vI={injectType:"singletonStyleTag",attributes:{"data-cke":true}};vI.insert="head";vI.singleton=true;var CI=zl()(AI.Z,vI);const yI=AI.Z.locals||{};class xI extends yu{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("blockQuote",(n=>{const i=e.commands.get("blockQuote");const o=new yd(n);o.set({label:t("Block quote"),icon:DC.quote,tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(i,"value","isEnabled");this.listenTo(o,"execute",(()=>{e.execute("blockQuote");e.editing.view.focus()}));return o}))}}class EI extends yu{static get requires(){return[_I,xI]}static get pluginName(){return"BlockQuote"}}class DI extends Eu{constructor(e,t){super(e);this.attributeKey=t}refresh(){const e=this.editor.model;const t=e.document;this.value=this._getValueFromFirstAllowedNode();this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model;const n=t.document;const i=n.selection;const o=e.forceValue===undefined?!this.value:e.forceValue;t.change((e=>{if(i.isCollapsed){if(o){e.setSelectionAttribute(this.attributeKey,true)}else{e.removeSelectionAttribute(this.attributeKey)}}else{const n=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const t of n){if(o){e.setAttribute(this.attributeKey,o,t)}else{e.removeAttribute(this.attributeKey,t)}}}}))}_getValueFromFirstAllowedNode(){const e=this.editor.model;const t=e.schema;const n=e.document.selection;if(n.isCollapsed){return n.hasAttribute(this.attributeKey)}for(const e of n.getRanges()){for(const n of e.getItems()){if(t.checkAttribute(n,this.attributeKey)){return n.hasAttribute(this.attributeKey)}}}return false}}const TI="bold";class MI extends yu{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:TI});e.model.schema.setAttributeProperties(TI,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:TI,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");if(!t){return null}if(t=="bold"||Number(t)>=600){return{name:true,styles:["font-weight"]}}return null}]});e.commands.add(TI,new DI(e,TI));e.keystrokes.set("CTRL+B",TI)}}const II="bold";class SI extends yu{static get pluginName(){return"BoldUI"}init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(II,(n=>{const i=e.commands.get(II);const o=new yd(n);o.set({label:t("Bold"),icon:DC.bold,keystroke:"CTRL+B",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(i,"value","isEnabled");this.listenTo(o,"execute",(()=>{e.execute(II);e.editing.view.focus()}));return o}))}}class BI extends yu{static get requires(){return[MI,SI]}static get pluginName(){return"Bold"}}const NI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';class zI extends yu{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;const t=e.commands.get("ckbox");if(!t){return}const n=e.t;const i=e.ui.componentFactory;i.add("ckbox",(i=>{const o=new yd(i);o.set({label:n("Open file manager"),icon:NI,tooltip:true});o.bind("isOn","isEnabled").to(t,"value","isEnabled");o.on("execute",(()=>{e.execute("ckbox")}));return o}))}}const PI=4e3;const LI=80;const OI=10;function RI({token:e,id:t,origin:n,width:i,extension:o}){const r=jI(e);const s=FI(i);const a=VI(o);const c=HI({environmentId:r,id:t,origin:n,width:i,extension:a});const l=s.map((e=>{const i=HI({environmentId:r,id:t,origin:n,width:e,extension:"webp"});return`${i} ${e}w`}));const d=[{srcset:l.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:c,imageSources:d}}function jI(e){const[,t]=e.value.split(".");const n=JSON.parse(atob(t));return n.aud}function FI(e){const t=[e*OI/100,LI];const n=Math.floor(Math.max(...t));const i=[Math.min(e,PI)];let o=i[0];while(o-n>=n){o-=n;i.unshift(o)}return i}function VI(e){if(e==="bmp"||e==="tiff"||e==="jpg"){return"jpeg"}return e}function HI({environmentId:e,id:t,origin:n,width:i,extension:o}){const r=`${e}/assets/${t}/images/${i}.${o}`;return new URL(r,n).toString()}const UI=1e3;class WI extends Eu{constructor(e){super(e);this._chosenAssets=new Set;this._wrapper=null;this._initListeners()}refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage");const t=this.editor.commands.get("link");if(!e.isEnabled&&!t.isEnabled){return false}return true}_prepareOptions(){const e=this.editor;const t=e.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,assetsOrigin:t.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:e=>this.fire("ckbox:choose",e)}}}_initListeners(){const e=this.editor;const t=e.model;const n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"});this.on("ckbox:open",(()=>{if(!this.isEnabled||this.value){return}this._wrapper=it(document,"div",{class:"ck ckbox-wrapper"});document.body.appendChild(this._wrapper);window.CKBox.mount(this._wrapper,this._prepareOptions())}));this.on("ckbox:close",(()=>{if(!this.value){return}this._wrapper.remove();this._wrapper=null}));this.on("ckbox:choose",((i,o)=>{if(!this.isEnabled){return}const r=e.commands.get("insertImage");const s=e.commands.get("link");const a=e.plugins.get("CKBoxEditing");const c=e.config.get("ckbox.assetsOrigin");const l=$I({assets:o,origin:c,token:a.getToken(),isImageAllowed:r.isEnabled,isLinkAllowed:s.isEnabled});if(l.length===0){return}t.change((e=>{for(const t of l){const i=t===l[l.length-1];this._insertAsset(t,i,e);if(n){setTimeout((()=>this._chosenAssets.delete(t)),UI);this._chosenAssets.add(t)}}}))}));this.listenTo(e,"destroy",(()=>{this.fire("ckbox:close");this._chosenAssets.clear()}))}_insertAsset(e,t,n){const i=this.editor;const o=i.model;const r=o.document.selection;n.removeSelectionAttribute("linkHref");if(e.type==="image"){this._insertImage(e)}else{this._insertLink(e,n)}if(!t){n.setSelection(r.getLastPosition())}}_insertImage(e){const t=this.editor;const{imageFallbackUrl:n,imageSources:i,imageTextAlternative:o}=e.attributes;t.execute("insertImage",{source:{src:n,sources:i,alt:o}})}_insertLink(e,t){const n=this.editor;const i=n.model;const o=i.document.selection;const{linkName:r,linkHref:s}=e.attributes;if(o.isCollapsed){const e=kl(o.getAttributes());const n=t.createText(r,e);const s=i.insertContent(n);t.setSelection(s)}n.execute("link",s)}}function $I({assets:e,origin:t,token:n,isImageAllowed:i,isLinkAllowed:o}){return e.map((e=>YI(e)?{id:e.data.id,type:"image",attributes:qI(e,n,t)}:{id:e.data.id,type:"link",attributes:GI(e,n,t)})).filter((e=>e.type==="image"?i:o))}function qI(e,t,n){const{imageFallbackUrl:i,imageSources:o}=RI({token:t,origin:n,id:e.data.id,width:e.data.metadata.width,extension:e.data.extension});return{imageFallbackUrl:i,imageSources:o,imageTextAlternative:e.data.metadata.description||""}}function GI(e,t,n){return{linkName:e.data.name,linkHref:KI(e,t,n)}}function YI(e){const t=e.data.metadata;if(!t){return false}return t.width&&t.height}function KI(e,t,n){const i=jI(t);const o=new URL(`${i}/assets/${e.data.id}/file`,n);o.searchParams.set("download","true");return o.toString()}class ZI extends(fe()){constructor(){super();const e=new window.FileReader;this._reader=e;this._data=undefined;this.set("loaded",0);e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;this.total=e.size;return new Promise(((n,i)=>{t.onload=()=>{const e=t.result;this._data=e;n(e)};t.onerror=()=>{i("error")};t.onabort=()=>{i("aborted")};this._reader.readAsDataURL(e)}))}abort(){this._reader.abort()}}class QI extends yu{constructor(){super(...arguments);this.loaders=new fl;this._loadersMap=new Map;this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[qv]}init(){this.loaders.on("change",(()=>this._updatePendingAction()));this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0))}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter){z("filerepository-no-upload-adapter");return null}const t=new JI(Promise.resolve(e),this.createUploadAdapter);this.loaders.add(t);this._loadersMap.set(e,t);if(e instanceof Promise){t.file.then((e=>{this._loadersMap.set(e,t)})).catch((()=>{}))}t.on("change:uploaded",(()=>{let e=0;for(const t of this.loaders){e+=t.uploaded}this.uploaded=e}));t.on("change:uploadTotal",(()=>{let e=0;for(const t of this.loaders){if(t.uploadTotal){e+=t.uploadTotal}}this.uploadTotal=e}));return t}destroyLoader(e){const t=e instanceof JI?e:this.getLoader(e);t._destroy();this.loaders.remove(t);this._loadersMap.forEach(((e,n)=>{if(e===t){this._loadersMap.delete(n)}}))}_updatePendingAction(){const e=this.editor.plugins.get(qv);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t;const n=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent));this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else{e.remove(this._pendingAction);this._pendingAction=null}}}class JI extends(fe()){constructor(e,t){super();this.id=D();this._filePromiseWrapper=this._createFilePromiseWrapper(e);this._adapter=t(this);this._reader=new ZI;this.set("status","idle");this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0));this.set("uploadResponse",null)}get file(){if(!this._filePromiseWrapper){return Promise.resolve(null)}else{return this._filePromiseWrapper.promise.then((e=>this._filePromiseWrapper?e:null))}}get data(){return this._reader.data}read(){if(this.status!="idle"){throw new N("filerepository-read-wrong-status",this)}this.status="reading";return this.file.then((e=>this._reader.read(e))).then((e=>{if(this.status!=="reading"){throw this.status}this.status="idle";return e})).catch((e=>{if(e==="aborted"){this.status="aborted";throw"aborted"}this.status="error";throw this._reader.error?this._reader.error:e}))}upload(){if(this.status!="idle"){throw new N("filerepository-upload-wrong-status",this)}this.status="uploading";return this.file.then((()=>this._adapter.upload())).then((e=>{this.uploadResponse=e;this.status="idle";return e})).catch((e=>{if(this.status==="aborted"){throw"aborted"}this.status="error";throw e}))}abort(){const e=this.status;this.status="aborted";if(!this._filePromiseWrapper.isFulfilled){this._filePromiseWrapper.promise.catch((()=>{}));this._filePromiseWrapper.rejecter("aborted")}else if(e=="reading"){this._reader.abort()}else if(e=="uploading"&&this._adapter.abort){this._adapter.abort()}this._destroy()}_destroy(){this._filePromiseWrapper=undefined;this._reader=undefined;this._adapter=undefined;this.uploadResponse=undefined}_createFilePromiseWrapper(e){const t={};t.promise=new Promise(((n,i)=>{t.rejecter=i;t.isFulfilled=false;e.then((e=>{t.isFulfilled=true;n(e)})).catch((e=>{t.isFulfilled=true;i(e)}))}));return t}}class XI extends jl{constructor(e){super(e);this.buttonView=new yd(e);this._fileInputView=new eS(e);this._fileInputView.bind("acceptedType").to(this);this._fileInputView.bind("allowMultipleFiles").to(this);this._fileInputView.delegate("done").to(this);this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]});this.buttonView.on("execute",(()=>{this._fileInputView.open()}))}focus(){this.buttonView.focus()}}class eS extends jl{constructor(e){super(e);this.set("acceptedType",undefined);this.set("allowMultipleFiles",false);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to((()=>{if(this.element&&this.element.files&&this.element.files.length){this.fire("done",this.element.files)}this.element.value=""}))}})}open(){this.element.click()}}class tS extends(null&&Plugin){static get requires(){return[FileRepository]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(FileRepository).createUploadAdapter=e=>new nS(e)}}class nS{constructor(e){this.loader=e}upload(){return new Promise(((e,t)=>{const n=this.reader=new window.FileReader;n.addEventListener("load",(()=>{e({default:n.result})}));n.addEventListener("error",(e=>{t(e)}));n.addEventListener("abort",(()=>{t()}));this.loader.file.then((e=>{n.readAsDataURL(e)}))}))}abort(){this.reader.abort()}}class iS extends(null&&Plugin){static get requires(){return[FileRepository]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");if(!e){return}if(!e.uploadUrl){logWarning("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(FileRepository).createUploadAdapter=t=>new oS(t,e)}}class oS{constructor(e,t){this.loader=e;this.options=t}upload(){return this.loader.file.then((e=>new Promise(((t,n)=>{this._initRequest();this._initListeners(t,n,e);this._sendRequest(e)}))))}abort(){if(this.xhr){this.xhr.abort()}}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,true);e.responseType="json"}_initListeners(e,t,n){const i=this.xhr;const o=this.loader;const r=`Couldn't upload file: ${n.name}.`;i.addEventListener("error",(()=>t(r)));i.addEventListener("abort",(()=>t()));i.addEventListener("load",(()=>{const n=i.response;if(!n||n.error){return t(n&&n.error&&n.error.message?n.error.message:r)}const o=n.url?{default:n.url}:n.urls;e({...n,urls:o})}));if(i.upload){i.upload.addEventListener("progress",(e=>{if(e.lengthComputable){o.uploadTotal=e.total;o.uploaded=e.loaded}}))}}_sendRequest(e){const t=this.options.headers||{};const n=this.options.withCredentials||false;for(const e of Object.keys(t)){this.xhr.setRequestHeader(e,t[e])}this.xhr.withCredentials=n;const i=new FormData;i.append("upload",e);this.xhr.send(i)}}class rS extends yu{static get requires(){return["ImageUploadEditing","ImageUploadProgress",QI,cS]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const e=this.editor;const t=!!e.config.get("ckbox");const n=!!window.CKBox;if(!t&&!n){return}const i=e.plugins.get(QI);const o=e.plugins.get(cS);i.createUploadAdapter=t=>new sS(t,o.getToken(),e);const r=!e.config.get("ckbox.ignoreDataId");const s=e.plugins.get("ImageUploadEditing");if(r){s.on("uploadComplete",((t,{imageElement:n,data:i})=>{e.model.change((e=>{e.setAttribute("ckboxImageId",i.ckboxImageId,n)}))}))}}}class sS{constructor(e,t,n){this.loader=e;this.token=t;this.editor=n;this.controller=new AbortController;this.serviceOrigin=n.config.get("ckbox.serviceOrigin");this.assetsOrigin=n.config.get("ckbox.assetsOrigin")}async getAvailableCategories(e=0){const t=50;const n=new URL("categories",this.serviceOrigin);n.searchParams.set("limit",t.toString());n.searchParams.set("offset",e.toString());return this._sendHttpRequest({url:n}).then((async n=>{const i=n.totalCount-(e+t);if(i>0){const i=await this.getAvailableCategories(e+t);return[...n.items,...i]}return n.items})).catch((()=>{this.controller.signal.throwIfAborted();P("ckbox-fetch-category-http-error")}))}async getCategoryIdForFile(e){const t=aS(e.name);const n=await this.getAvailableCategories();if(!n){return null}const i=this.editor.config.get("ckbox.defaultUploadCategories");if(i){const e=Object.keys(i).find((e=>i[e].includes(t)));if(e){const t=n.find((t=>t.id===e||t.name===e));if(!t){return null}return t.id}}const o=n.find((e=>e.extensions.includes(t)));if(!o){return null}return o.id}async upload(){const e=this.editor.t;const t=e("Cannot determine a category for the uploaded file.");const n=await this.loader.file;const i=await this.getCategoryIdForFile(n);if(!i){return Promise.reject(t)}const o=new URL("assets",this.serviceOrigin);const r=new FormData;r.append("categoryId",i);r.append("file",n);const s={method:"POST",url:o,data:r,onUploadProgress:e=>{if(e.lengthComputable){this.loader.uploadTotal=e.total;this.loader.uploaded=e.loaded}}};return this._sendHttpRequest(s).then((async e=>{const t=await this._getImageWidth();const i=aS(n.name);const o=RI({token:this.token,id:e.id,origin:this.assetsOrigin,width:t,extension:i});return{ckboxImageId:e.id,default:o.imageFallbackUrl,sources:o.imageSources}})).catch((()=>{const t=e("Cannot upload file:")+` ${n.name}.`;return Promise.reject(t)}))}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:t="GET",data:n,onUploadProgress:i}){const o=this.controller.signal;const r=new XMLHttpRequest;r.open(t,e.toString(),true);r.setRequestHeader("Authorization",this.token.value);r.setRequestHeader("CKBox-Version","CKEditor 5");r.responseType="json";const s=()=>{r.abort()};return new Promise(((e,t)=>{o.addEventListener("abort",s);r.addEventListener("loadstart",(()=>{o.addEventListener("abort",s)}));r.addEventListener("loadend",(()=>{o.removeEventListener("abort",s)}));r.addEventListener("error",(()=>{t()}));r.addEventListener("abort",(()=>{t()}));r.addEventListener("load",(async()=>{const n=r.response;if(!n||n.statusCode>=400){return t(n&&n.message)}return e(n)}));if(i){r.upload.addEventListener("progress",(e=>{i(e)}))}r.send(n)}))}_getImageWidth(){return new Promise((e=>{const t=new Image;t.onload=()=>{URL.revokeObjectURL(t.src);e(t.width)};t.src=this.loader.data}))}}function aS(e){const t=/\.(?<ext>[^.]+)$/;const n=e.match(t);return n.groups.ext}class cS extends yu{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",rS]}async init(){const e=this.editor;const t=!!e.config.get("ckbox");const n=!!window.CKBox;if(!t&&!n){return}this._initConfig();const i=e.plugins.get("CloudServicesCore");const o=e.config.get("ckbox.tokenUrl");const r=e.config.get("cloudServices.tokenUrl");if(o===r){const t=e.plugins.get("CloudServices");this._token=t.token}else{this._token=await i.createToken(o).init()}if(!e.config.get("ckbox.ignoreDataId")){this._initSchema();this._initConversion();this._initFixers()}if(n){e.commands.add("ckbox",new WI(e))}}getToken(){return this._token}_initConfig(){const e=this.editor;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:false,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")});const t=e.config.get("ckbox.tokenUrl");if(!t){throw new N("ckbox-plugin-missing-token-url",this)}if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing")){P("ckbox-plugin-image-feature-missing",e)}}_initSchema(){const e=this.editor;const t=e.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"});if(t.isRegistered("imageBlock")){t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]})}if(t.isRegistered("imageInline")){t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]})}t.addAttributeCheck(((e,t)=>{const n=!!e.last.getAttribute("linkHref");if(!n&&t==="ckboxLinkId"){return false}}))}_initConversion(){const e=this.editor;e.conversion.for("downcast").add((e=>{e.on("attribute:ckboxLinkId:imageBlock",((e,t,n)=>{const{writer:i,mapper:o,consumable:r}=n;if(!r.consume(t.item,e.name)){return}const s=o.toViewElement(t.item);const a=[...s.getChildren()].find((e=>e.name==="a"));if(!a){return}if(t.item.hasAttribute("ckboxLinkId")){i.setAttribute("data-ckbox-resource-id",t.item.getAttribute("ckboxLinkId"),a)}else{i.removeAttribute("data-ckbox-resource-id",a)}}),{priority:"low"});e.on("attribute:ckboxLinkId",((e,t,n)=>{const{writer:i,mapper:o,consumable:r}=n;if(!r.consume(t.item,e.name)){return}if(t.attributeOldValue){const e=hS(i,t.attributeOldValue);i.unwrap(o.toViewRange(t.range),e)}if(t.attributeNewValue){const e=hS(i,t.attributeNewValue);if(t.item.is("selection")){const t=i.document.selection;i.wrap(t.getFirstRange(),e)}else{i.wrap(o.toViewRange(t.range),e)}}}),{priority:"low"})}));e.conversion.for("upcast").add((e=>{e.on("element:a",((e,t,n)=>{const{writer:i,consumable:o}=n;if(!t.viewItem.getAttribute("href")){return}const r={attributes:["data-ckbox-resource-id"]};if(!o.consume(t.viewItem,r)){return}const s=t.viewItem.getAttribute("data-ckbox-resource-id");if(!s){return}if(t.modelRange){for(let e of t.modelRange.getItems()){if(e.is("$textProxy")){e=e.textNode}if(fS(e)){i.setAttribute("ckboxLinkId",s,e)}}}else{const e=t.modelCursor.nodeBefore||t.modelCursor.parent;i.setAttribute("ckboxLinkId",s,e)}}),{priority:"low"})}));e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"});e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:e=>e.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor;const t=e.model;const n=t.document.selection;t.document.registerPostFixer(lS(e));t.document.registerPostFixer(dS(n))}}function lS(e){return t=>{let n=false;const i=e.model;const o=e.commands.get("ckbox");if(!o){return n}for(const e of i.document.differ.getChanges()){if(e.type!=="insert"&&e.type!=="attribute"){continue}const i=e.type==="insert"?new Sb(e.position,e.position.getShiftedBy(e.length)):e.range;const r=e.type==="attribute"&&e.attributeKey==="linkHref"&&e.attributeNewValue===null;for(const e of i.getItems()){if(r&&e.hasAttribute("ckboxLinkId")){t.removeAttribute("ckboxLinkId",e);n=true;continue}const i=uS(e,o._chosenAssets);for(const o of i){const i=o.type==="image"?"ckboxImageId":"ckboxLinkId";if(o.id===e.getAttribute(i)){continue}t.setAttribute(i,o.id,e);n=true}}}return n}}function dS(e){return t=>{const n=!e.hasAttribute("linkHref")&&e.hasAttribute("ckboxLinkId");if(n){t.removeSelectionAttribute("ckboxLinkId");return true}return false}}function uS(e,t){const n=e.is("element","imageInline")||e.is("element","imageBlock");const i=e.hasAttribute("linkHref");return[...t].filter((t=>{if(t.type==="image"&&n){return t.attributes.imageFallbackUrl===e.getAttribute("src")}if(t.type==="link"&&i){return t.attributes.linkHref===e.getAttribute("linkHref")}}))}function hS(e,t){const n=e.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});e.setCustomProperty("link",true,n);return n}function fS(e){if(e.is("$text")){return true}if(e.is("element","imageInline")||e.is("element","imageBlock")){return true}return false}class gS extends yu{static get pluginName(){return"CKBox"}static get requires(){return[cS,zI]}}const mS={autoRefresh:true};const pS=36e5;class bS extends(fe()){constructor(e,t={}){super();if(!e){throw new N("token-missing-token-url",this)}if(t.initValue){this._validateTokenValue(t.initValue)}this.set("value",t.initValue);if(typeof e==="function"){this._refresh=e}else{this._refresh=()=>kS(e)}this._options={...mS,...t}}init(){return new Promise(((e,t)=>{if(!this.value){this.refreshToken().then(e).catch(t);return}if(this._options.autoRefresh){this._registerRefreshTokenTimeout()}e(this)}))}refreshToken(){return this._refresh().then((e=>{this._validateTokenValue(e);this.set("value",e);if(this._options.autoRefresh){this._registerRefreshTokenTimeout()}return this}))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e==="string";const n=!/^".*"$/.test(e);const i=t&&e.split(".").length===3;if(!(n&&i)){throw new N("token-not-in-jwt-format",this)}}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout);this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split(".");const{exp:t}=JSON.parse(atob(e));if(!t){return pS}const n=Math.floor((t*1e3-Date.now())/2);return n}catch(e){return pS}}static create(e,t={}){const n=new bS(e,t);return n.init()}}function kS(e){return new Promise(((t,n)=>{const i=new XMLHttpRequest;i.open("GET",e);i.addEventListener("load",(()=>{const e=i.status;const o=i.response;if(e<200||e>299){return n(new N("token-cannot-download-new-token",null))}return t(o)}));i.addEventListener("error",(()=>n(new Error("Network Error"))));i.addEventListener("abort",(()=>n(new Error("Abort"))));i.send()}))}const wS=/^data:(\S*?);base64,/;class _S extends(G()){constructor(e,t,n){super();if(!e){throw new N("fileuploader-missing-file",null)}if(!t){throw new N("fileuploader-missing-token",null)}if(!n){throw new N("fileuploader-missing-api-address",null)}this.file=vS(e)?AS(e):e;this._token=t;this._apiAddress=n}onProgress(e){this.on("progress",((t,n)=>e(n)));return this}onError(e){this.once("error",((t,n)=>e(n)));return this}abort(){this.xhr.abort()}send(){this._prepareRequest();this._attachXHRListeners();return this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress);e.setRequestHeader("Authorization",this._token.value);e.responseType="json";this.xhr=e}_attachXHRListeners(){const e=this.xhr;const t=e=>()=>this.fire("error",e);e.addEventListener("error",t("Network Error"));e.addEventListener("abort",t("Abort"));if(e.upload){e.upload.addEventListener("progress",(e=>{if(e.lengthComputable){this.fire("progress",{total:e.total,uploaded:e.loaded})}}))}e.addEventListener("load",(()=>{const t=e.status;const n=e.response;if(t<200||t>299){return this.fire("error",n.message||n.error)}}))}_sendRequest(){const e=new FormData;const t=this.xhr;e.append("file",this.file);return new Promise(((n,i)=>{t.addEventListener("load",(()=>{const e=t.status;const o=t.response;if(e<200||e>299){if(o.message){return i(new N("fileuploader-uploading-data-failed",this,{message:o.message}))}return i(o.error)}return n(o)}));t.addEventListener("error",(()=>i(new Error("Network Error"))));t.addEventListener("abort",(()=>i(new Error("Abort"))));t.send(e)}))}}function AS(e,t=512){try{const n=e.match(wS)[1];const i=atob(e.replace(wS,""));const o=[];for(let e=0;e<i.length;e+=t){const n=i.slice(e,e+t);const r=new Array(n.length);for(let e=0;e<n.length;e++){r[e]=n.charCodeAt(e)}o.push(new Uint8Array(r))}return new Blob(o,{type:n})}catch(e){throw new N("fileuploader-decoding-image-data-error",null)}}function vS(e){if(typeof e!=="string"){return false}const t=e.match(wS);return!!(t&&t.length)}class CS{constructor(e,t){if(!e){throw new N("uploadgateway-missing-token",null)}if(!t){throw new N("uploadgateway-missing-api-address",null)}this._token=e;this._apiAddress=t}upload(e){return new _S(e,this._token,this._apiAddress)}}class yS extends Su{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new bS(e,t)}createUploadGateway(e,t){return new CS(e,t)}}class xS extends Su{constructor(){super(...arguments);this.token=null;this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[yS]}async init(){const e=this.context.config;const t=e.get("cloudServices")||{};for(const[e,n]of Object.entries(t)){this[e]=n}if(!this.tokenUrl){this.token=null;return}const n=this.context.plugins.get("CloudServicesCore");this.token=await n.createToken(this.tokenUrl).init();this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(e){if(this._tokens.has(e)){return this.getTokenFor(e)}const t=this.context.plugins.get("CloudServicesCore");const n=await t.createToken(e).init();this._tokens.set(e,n);return n}getTokenFor(e){const t=this._tokens.get(e);if(!t){throw new N("cloudservices-token-not-registered",this)}return t}destroy(){super.destroy();for(const e of this._tokens.values()){e.destroy()}}}class ES extends Bm{constructor(e){super(e);this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"});this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"});this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(e){return(n,i)=>{i.preventDefault();const o=i.dropRange?[i.dropRange]:null;const r=new x(t,e);t.fire(r,{dataTransfer:i.dataTransfer,method:n.name,targetRanges:o,target:i.target,domEvent:i.domEvent});if(r.stop.called){i.stopPropagation()}}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer;const n=e.type=="drop"||e.type=="paste";const i={dataTransfer:new rb(t,{cacheFiles:n})};if(e.type=="drop"||e.type=="dragover"){i.dropRange=DS(this.view,e)}this.fire(e.type,e,i)}}function DS(e,t){const n=t.target.ownerDocument;const i=t.clientX;const o=t.clientY;let r;if(n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)){r=n.caretRangeFromPoint(i,o)}else if(t.rangeParent){r=n.createRange();r.setStart(t.rangeParent,t.rangeOffset);r.collapse(true)}if(r){return e.domConverter.domRangeToView(r)}return null}function TS(e){e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;");if(e.includes("</p><p>")||e.includes("<br>")){e=`<p>${e}</p>`}return e}function MS(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>{if(t.length==1){return" "}return t})).replace(/<!--[\s\S]*?-->/g,"")}const IS=["figcaption","li"];function SS(e){let t="";if(e.is("$text")||e.is("$textProxy")){t=e.data}else if(e.is("element","img")&&e.hasAttribute("alt")){t=e.getAttribute("alt")}else if(e.is("element","br")){t="\n"}else{let n=null;for(const i of e.getChildren()){const e=SS(i);if(n&&(n.is("containerElement")||i.is("containerElement"))){if(IS.includes(n.name)||IS.includes(i.name)){t+="\n"}else{t+="\n\n"}}t+=e;n=i}}return t}class BS extends yu{static get pluginName(){return"ClipboardPipeline"}init(){const e=this.editor;const t=e.editing.view;t.addObserver(ES);this._setupPasteDrop();this._setupCopyCut()}_setupPasteDrop(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=n.document;this.listenTo(i,"clipboardInput",((t,n)=>{if(n.method=="paste"&&!e.model.canEditAt(e.model.document.selection)){t.stop()}}),{priority:"highest"});this.listenTo(i,"clipboardInput",((e,t)=>{const i=t.dataTransfer;let o;if(t.content){o=t.content}else{let e="";if(i.getData("text/html")){e=MS(i.getData("text/html"))}else if(i.getData("text/plain")){e=TS(i.getData("text/plain"))}o=this.editor.data.htmlProcessor.toView(e)}const r=new x(this,"inputTransformation");this.fire(r,{content:o,dataTransfer:i,targetRanges:t.targetRanges,method:t.method});if(r.stop.called){e.stop()}n.scrollToTheSelection()}),{priority:"low"});this.listenTo(this,"inputTransformation",((e,n)=>{if(n.content.isEmpty){return}const i=this.editor.data;const o=i.toModel(n.content,"$clipboardHolder");if(o.childCount==0){return}e.stop();t.change((()=>{this.fire("contentInsertion",{content:o,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})}))}),{priority:"low"});this.listenTo(this,"contentInsertion",((e,n)=>{n.resultRange=t.insertContent(n.content)}),{priority:"low"})}_setupCopyCut(){const e=this.editor;const t=e.model.document;const n=e.editing.view;const i=n.document;const o=(n,o)=>{const r=o.dataTransfer;o.preventDefault();const s=e.data.toView(e.model.getSelectedContent(t.selection));i.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name})};this.listenTo(i,"copy",o,{priority:"low"});this.listenTo(i,"cut",((t,n)=>{if(!e.model.canEditAt(e.model.document.selection)){n.preventDefault()}else{o(t,n)}}),{priority:"low"});this.listenTo(i,"clipboardOutput",((n,i)=>{if(!i.content.isEmpty){i.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(i.content));i.dataTransfer.setData("text/plain",SS(i.content))}if(i.method=="cut"){e.model.deleteContent(t.selection)}}),{priority:"low"})}}class NS extends(G()){constructor(){super(...arguments);this._stack=[]}add(e,t){const n=this._stack;const i=n[0];this._insertDescriptor(e);const o=n[0];if(i!==o&&!zS(i,o)){this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:t})}}remove(e,t){const n=this._stack;const i=n[0];this._removeDescriptor(e);const o=n[0];if(i!==o&&!zS(i,o)){this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:t})}}_insertDescriptor(e){const t=this._stack;const n=t.findIndex((t=>t.id===e.id));if(zS(e,t[n])){return}if(n>-1){t.splice(n,1)}let i=0;while(t[i]&&PS(t[i],e)){i++}t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack;const n=t.findIndex((t=>t.id===e));if(n>-1){t.splice(n,1)}}}function zS(e,t){return e&&t&&e.priority==t.priority&&LS(e.classes)==LS(t.classes)}function PS(e,t){if(e.priority>t.priority){return true}else if(e.priority<t.priority){return false}return LS(e.classes)>LS(t.classes)}function LS(e){return Array.isArray(e)?e.sort().join(","):e}const OS='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const RS="ck-widget";const jS="ck-widget_selected";function FS(e){if(!e.is("element")){return false}return!!e.getCustomProperty("widget")}function VS(e,t,n={}){if(!e.is("containerElement")){throw new N("widget-to-widget-wrong-element-type",null,{element:e})}t.setAttribute("contenteditable","false",e);t.addClass(RS,e);t.setCustomProperty("widget",true,e);e.getFillerOffset=ZS;t.setCustomProperty("widgetLabel",[],e);if(n.label){$S(e,n.label)}if(n.hasSelectionHandle){QS(e,t)}WS(e,t);return e}function HS(e,t,n){if(t.classes){n.addClass(il(t.classes),e)}if(t.attributes){for(const i in t.attributes){n.setAttribute(i,t.attributes[i],e)}}}function US(e,t,n){if(t.classes){n.removeClass(il(t.classes),e)}if(t.attributes){for(const i in t.attributes){n.removeAttribute(i,e)}}}function WS(e,t,n=HS,i=US){const o=new NS;o.on("change:top",((t,o)=>{if(o.oldDescriptor){i(e,o.oldDescriptor,o.writer)}if(o.newDescriptor){n(e,o.newDescriptor,o.writer)}}));const r=(e,t,n)=>o.add(t,n);const s=(e,t,n)=>o.remove(t,n);t.setCustomProperty("addHighlight",r,e);t.setCustomProperty("removeHighlight",s,e)}function $S(e,t){const n=e.getCustomProperty("widgetLabel");n.push(t)}function qS(e){const t=e.getCustomProperty("widgetLabel");return t.reduce(((e,t)=>{if(typeof t==="function"){return e?e+". "+t():t()}else{return e?e+". "+t:t}}),"")}function GS(e,t,n={}){t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e);t.setAttribute("role","textbox",e);if(n.label){t.setAttribute("aria-label",n.label,e)}t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e);e.on("change:isReadOnly",((n,i,o)=>{t.setAttribute("contenteditable",o?"false":"true",e)}));e.on("change:isFocused",((n,i,o)=>{if(o){t.addClass("ck-editor__nested-editable_focused",e)}else{t.removeClass("ck-editor__nested-editable_focused",e)}}));WS(e,t);return e}function YS(e,t){const n=e.getSelectedElement();if(n){const i=iB(e);if(i){return t.createRange(t.createPositionAt(n,i))}}return SA(e,t)}function KS(e,t){return(n,i)=>{const{mapper:o,viewPosition:r}=i;const s=o.findMappedViewAncestor(r);if(!t(s)){return}const a=o.toModelElement(s);i.modelPosition=e.createPositionAt(a,r.isAtStart?"before":"after")}}function ZS(){return null}function QS(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e);const n=new wd;n.set("content",OS);n.render();t.appendChild(n.element);return t}));t.insert(t.createPositionAt(e,0),n);t.addClass(["ck-widget_with-selection-handle"],e)}const JS="widget-type-around";function XS(e,t,n){return!!e&&FS(e)&&!n.isInline(t)}function eB(e){return e.closest(".ck-widget__type-around__button")}function tB(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function nB(e,t){const n=e.closest(".ck-widget");return t.mapDomToView(n)}function iB(e){return e.getAttribute(JS)}const oB='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var rB=__webpack_require__(5137);var sB={injectType:"singletonStyleTag",attributes:{"data-cke":true}};sB.insert="head";sB.singleton=true;var aB=zl()(rB.Z,sB);const cB=rB.Z.locals||{};const lB=["before","after"];const dB=(new DOMParser).parseFromString(oB,"image/svg+xml").firstChild;const uB="ck-widget__type-around_disabled";class hB extends yu{constructor(){super(...arguments);this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[lI,hT]}init(){const e=this.editor;const t=e.editing.view;this.on("change:isEnabled",((n,i,o)=>{t.change((e=>{for(const n of t.document.roots){if(o){e.removeClass(uB,n)}else{e.addClass(uB,n)}}}));if(!o){e.model.change((e=>{e.removeSelectionAttribute(JS)}))}}));this._enableTypeAroundUIInjection();this._enableInsertingParagraphsOnButtonClick();this._enableInsertingParagraphsOnEnterKeypress();this._enableInsertingParagraphsOnTypingKeystroke();this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows();this._enableDeleteIntegration();this._enableInsertContentIntegration();this._enableInsertObjectIntegration();this._enableDeleteContentIntegration()}destroy(){super.destroy();this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor;const i=n.editing.view;const o=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",true);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:o});i.focus();i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){this.listenTo(e,t,((...e)=>{if(this.isEnabled){n(...e)}}),i)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=iB(n);if(!i){return false}const o=n.getSelectedElement();this._insertParagraph(o,i);return true}_enableTypeAroundUIInjection(){const e=this.editor;const t=e.model.schema;const n=e.locale.t;const i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",((e,o,r)=>{const s=r.mapper.toViewElement(o.item);if(!s){return}if(XS(s,o.item,t)){fB(r.writer,i,s);const e=s.getCustomProperty("widgetLabel");e.push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))}}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=t.schema;const o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",((e,t)=>{this._handleArrowKeyPress(e,t)}),{context:[FS,"$text"],priority:"high"});this._listenToIfEnabled(n,"change:range",((t,n)=>{if(!n.directChange){return}e.model.change((e=>{e.removeSelectionAttribute(JS)}))}));this._listenToIfEnabled(t.document,"change:data",(()=>{const t=n.getSelectedElement();if(t){const n=e.editing.mapper.toViewElement(t);if(XS(n,t,i)){return}}e.model.change((e=>{e.removeSelectionAttribute(JS)}))}));this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",((e,t,n)=>{const o=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);if(e){o.removeClass(lB.map(r),e);this._currentFakeCaretModelElement=null}}const s=t.selection.getSelectedElement();if(!s){return}const a=n.mapper.toViewElement(s);if(!XS(a,s,i)){return}const c=iB(t.selection);if(!c){return}o.addClass(r(c),a);this._currentFakeCaretModelElement=s}));this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",((t,n,i)=>{if(!i){e.model.change((e=>{e.removeSelectionAttribute(JS)}))}}));function r(e){return`ck-widget_type-around_show-fake-caret_${e}`}}_handleArrowKeyPress(e,t){const n=this.editor;const i=n.model;const o=i.document.selection;const r=i.schema;const s=n.editing.view;const a=t.keyCode;const c=el(a,n.locale.contentLanguageDirection);const l=s.document.selection.getSelectedElement();const d=n.editing.mapper.toModelElement(l);let u;if(XS(l,d,r)){u=this._handleArrowKeyPressOnSelectedWidget(c)}else if(o.isCollapsed){u=this._handleArrowKeyPressWhenSelectionNextToAWidget(c)}else if(!t.shiftKey){u=this._handleArrowKeyPressWhenNonCollapsedSelection(c)}if(u){t.preventDefault();e.stop()}}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor;const n=t.model;const i=n.document.selection;const o=iB(i);return n.change((t=>{if(o){const n=o===(e?"after":"before");if(!n){t.removeSelectionAttribute(JS);return true}}else{t.setSelectionAttribute(JS,e?"after":"before");return true}return false}))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor;const n=t.model;const i=n.schema;const o=t.plugins.get("Widget");const r=o._getObjectElementNextToSelection(e);const s=t.editing.mapper.toViewElement(r);if(XS(s,r,i)){n.change((t=>{o._setSelectionOverElement(r);t.setSelectionAttribute(JS,e?"before":"after")}));return true}return false}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor;const n=t.model;const i=n.schema;const o=t.editing.mapper;const r=n.document.selection;const s=e?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter;const a=o.toViewElement(s);if(XS(a,s,i)){n.change((t=>{t.setSelection(s,"on");t.setSelectionAttribute(JS,e?"after":"before")}));return true}return false}_enableInsertingParagraphsOnButtonClick(){const e=this.editor;const t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",((n,i)=>{const o=eB(i.domTarget);if(!o){return}const r=tB(o);const s=nB(o,t.domConverter);const a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,r);i.preventDefault();n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor;const t=e.model.document.selection;const n=e.editing.view;this._listenToIfEnabled(n.document,"enter",((n,i)=>{if(n.eventPhase!="atTarget"){return}const o=t.getSelectedElement();const r=e.editing.mapper.toViewElement(o);const s=e.model.schema;let a;if(this._insertParagraphAccordingToFakeCaretPosition()){a=true}else if(XS(r,o,s)){this._insertParagraph(o,i.isSoft?"before":"after");a=true}if(a){i.preventDefault();n.stop()}}),{context:FS})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor;const t=e.editing.view.document;this._listenToIfEnabled(t,"insertText",((e,n)=>{if(this._insertParagraphAccordingToFakeCaretPosition()){n.selection=t.selection}}),{priority:"high"});if(a.isAndroid){this._listenToIfEnabled(t,"keydown",((e,t)=>{if(t.keyCode==229){this._insertParagraphAccordingToFakeCaretPosition()}}))}else{this._listenToIfEnabled(t,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}}_enableDeleteIntegration(){const e=this.editor;const t=e.editing.view;const n=e.model;const i=n.schema;this._listenToIfEnabled(t.document,"delete",((t,o)=>{if(t.eventPhase!="atTarget"){return}const r=iB(n.document.selection);if(!r){return}const s=o.direction;const a=n.document.selection.getSelectedElement();const c=r==="before";const l=s=="forward";const d=c===l;if(d){e.execute("delete",{selection:n.createSelection(a,"on")})}else{const t=i.getNearestSelectionRange(n.createPositionAt(a,r),s);if(t){if(!t.isCollapsed){n.change((n=>{n.setSelection(t);e.execute(l?"deleteForward":"delete")}))}else{const o=n.createSelection(t.start);n.modifySelection(o,{direction:s});if(!o.focus.isEqual(t.start)){n.change((n=>{n.setSelection(t);e.execute(l?"deleteForward":"delete")}))}else{const e=pB(i,t.start.parent);n.deleteContent(n.createSelection(e,"on"),{doNotAutoparagraph:true})}}}}o.preventDefault();t.stop()}),{context:FS})}_enableInsertContentIntegration(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",((e,[i,o])=>{if(o&&!o.is("documentSelection")){return}const r=iB(n);if(!r){return}e.stop();return t.change((e=>{const o=n.getSelectedElement();const s=t.createPositionAt(o,r);const a=e.createSelection(s);const c=t.insertContent(i,a);e.setSelection(a);return c}))}),{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;this._listenToIfEnabled(e.model,"insertObject",((e,t)=>{const[,i,o={}]=t;if(i&&!i.is("documentSelection")){return}const r=iB(n);if(!r){return}o.findOptimalPosition=r;t[3]=o}),{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;this._listenToIfEnabled(e.model,"deleteContent",((e,[t])=>{if(t&&!t.is("documentSelection")){return}const i=iB(n);if(i){e.stop()}}),{priority:"high"})}}function fB(e,t,n){const i=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const n=this.toDomElement(e);gB(n,t);mB(n);return n}));e.insert(e.createPositionAt(n,"end"),i)}function gB(e,t){for(const n of lB){const i=new Vl({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:t[n],"aria-hidden":"true"},children:[e.ownerDocument.importNode(dB,true)]});e.appendChild(i.render())}}function mB(e){const t=new Vl({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}function pB(e,t){let n=t;for(const i of t.getAncestors({parentFirst:true})){if(i.childCount>1||e.isLimit(i)){break}n=i}return n}function bB(e){const t=e.model;return(n,i)=>{const o=i.keyCode==qc.arrowup;const r=i.keyCode==qc.arrowdown;const s=i.shiftKey;const a=t.document.selection;if(!o&&!r){return}const c=r;if(s&&vB(a,c)){return}const l=kB(e,a,c);if(!l){return}if(l.isCollapsed){if(a.isCollapsed){return}else if(s){return}}if(l.isCollapsed||AB(e,l,c)){t.change((e=>{const n=c?l.end:l.start;if(s){const i=t.createSelection(a.anchor);i.setFocus(n);e.setSelection(i)}else{e.setSelection(n)}}));n.stop();i.preventDefault();i.stopPropagation()}}}function kB(e,t,n){const i=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition();const n=wB(i,e,"forward");if(!n){return null}const o=i.createRange(e,n);const r=_B(i.schema,o,"backward");if(r){return i.createRange(e,r)}return null}else{const e=t.isCollapsed?t.focus:t.getFirstPosition();const n=wB(i,e,"backward");if(!n){return null}const o=i.createRange(n,e);const r=_B(i.schema,o,"forward");if(r){return i.createRange(r,e)}return null}}function wB(e,t,n){const i=e.schema;const o=e.createRangeIn(t.root);const r=n=="forward"?"elementStart":"elementEnd";for(const{previousPosition:e,item:s,type:a}of o.getWalker({startPosition:t,direction:n})){if(i.isLimit(s)&&!i.isInline(s)){return e}if(a==r&&i.isBlock(s)){return null}}return null}function _B(e,t,n){const i=n=="backward"?t.end:t.start;if(e.checkChild(i,"$text")){return i}for(const{nextPosition:i}of t.getWalker({direction:n})){if(e.checkChild(i,"$text")){return i}}return null}function AB(e,t,n){const i=e.model;const o=e.view.domConverter;if(n){const e=i.createSelection(t.start);i.modifySelection(e);if(!e.focus.isAtEnd&&!t.start.isEqual(e.focus)){t=i.createRange(e.focus,t.end)}}const r=e.mapper.toViewRange(t);const s=o.viewRangeToDom(r);const a=dc.getDomRangeRects(s);let c;for(const e of a){if(c===undefined){c=Math.round(e.bottom);continue}if(Math.round(e.top)>=c){return false}c=Math.max(c,Math.round(e.bottom))}return true}function vB(e,t){return!e.isCollapsed&&e.isBackward==t}var CB=__webpack_require__(6507);var yB={injectType:"singletonStyleTag",attributes:{"data-cke":true}};yB.insert="head";yB.singleton=true;var xB=zl()(CB.Z,yB);const EB=CB.Z.locals||{};class DB extends yu{constructor(){super(...arguments);this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[hB,hT]}init(){const e=this.editor;const t=e.editing.view;const n=t.document;this.editor.editing.downcastDispatcher.on("selection",((t,n,i)=>{const o=i.writer;const r=n.selection;if(r.isCollapsed){return}const s=r.getSelectedElement();if(!s){return}const a=e.editing.mapper.toViewElement(s);if(!FS(a)){return}if(!i.consumable.consume(r,"selection")){return}o.setSelection(o.createRangeOn(a),{fake:true,label:qS(a)})}));this.editor.editing.downcastDispatcher.on("selection",((e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer;const o=i.document.selection;let r=null;for(const e of o.getRanges()){for(const t of e){const e=t.item;if(FS(e)&&!MB(e,r)){i.addClass(jS,e);this._previouslySelected.add(e);r=e}}}}),{priority:"low"});t.addObserver($A);this.listenTo(n,"mousedown",((...e)=>this._onMousedown(...e)));this.listenTo(n,"arrowKey",((...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)}),{context:[FS,"$text"]});this.listenTo(n,"arrowKey",((...e)=>{this._preventDefaultOnArrowKeyPress(...e)}),{context:"$root"});this.listenTo(n,"arrowKey",bB(this.editor.editing),{context:"$text"});this.listenTo(n,"delete",((e,t)=>{if(this._handleDelete(t.direction=="forward")){t.preventDefault();e.stop()}}),{context:"$root"})}_onMousedown(e,t){const n=this.editor;const i=n.editing.view;const o=i.document;let r=t.target;if(TB(r)){if((a.isSafari||a.isGecko)&&t.domEvent.detail>=3){const e=n.editing.mapper;const i=r.is("attributeElement")?r.findAncestor((e=>!e.is("attributeElement"))):r;const o=e.toModelElement(i);t.preventDefault();this.editor.model.change((e=>{e.setSelection(o,"in")}))}return}if(!FS(r)){r=r.findAncestor(FS);if(!r){return}}if(a.isAndroid){t.preventDefault()}if(!o.isFocused){i.focus()}const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode;const i=this.editor.model;const o=i.schema;const r=i.document.selection;const s=r.getSelectedElement();const a=Jc(n,this.editor.locale.contentLanguageDirection);const c=a=="down"||a=="right";const l=a=="up"||a=="down";if(s&&o.isObject(s)){const n=c?r.getLastPosition():r.getFirstPosition();const s=o.getNearestSelectionRange(n,c?"forward":"backward");if(s){i.change((e=>{e.setSelection(s)}));t.preventDefault();e.stop()}return}if(!r.isCollapsed&&!t.shiftKey){const n=r.getFirstPosition();const s=r.getLastPosition();const a=n.nodeAfter;const l=s.nodeBefore;if(a&&o.isObject(a)||l&&o.isObject(l)){i.change((e=>{e.setSelection(c?s:n)}));t.preventDefault();e.stop()}return}if(!r.isCollapsed){return}const d=this._getObjectElementNextToSelection(c);if(d&&o.isObject(d)){if(o.isInline(d)&&l){return}this._setSelectionOverElement(d);t.preventDefault();e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model;const i=n.schema;const o=n.document.selection.getSelectedElement();if(o&&i.isObject(o)){t.preventDefault();e.stop()}}_handleDelete(e){const t=this.editor.model.document;const n=t.selection;if(!this.editor.model.canEditAt(n)){return}if(!n.isCollapsed){return}const i=this._getObjectElementNextToSelection(e);if(i){this.editor.model.change((e=>{let t=n.anchor.parent;while(t.isEmpty){const n=t;t=n.parent;e.remove(n)}this._setSelectionOverElement(i)}));return true}}_setSelectionOverElement(e){this.editor.model.change((t=>{t.setSelection(t.createRangeOn(e))}))}_getObjectElementNextToSelection(e){const t=this.editor.model;const n=t.schema;const i=t.document.selection;const o=t.createSelection(i);t.modifySelection(o,{direction:e?"forward":"backward"});if(o.isEqual(i)){return null}const r=e?o.focus.nodeBefore:o.focus.nodeAfter;if(!!r&&n.isObject(r)){return r}return null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected){e.removeClass(jS,t)}this._previouslySelected.clear()}}function TB(e){let t=e;while(t){if(t.is("editableElement")&&!t.is("rootElement")){return true}if(FS(t)){return false}t=t.parent}return false}function MB(e,t){if(!t){return false}return Array.from(e.getAncestors()).includes(t)}class IB extends yu{constructor(){super(...arguments);this._toolbarDefinitions=new Map}static get requires(){return[WE]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",(t=>{if(NB(e.editing.view.document.selection)){t.stop()}}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon");this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()}));this.listenTo(e.ui,"update",(()=>{this._updateToolbarsVisibility()}));this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values()){e.view.destroy()}}register(e,{ariaLabel:t,items:n,getRelatedElement:i,balloonClassName:o="ck-toolbar-container"}){if(!n.length){z("widget-toolbar-no-items",{toolbarId:e});return}const r=this.editor;const s=r.t;const a=new zC(r.locale);a.ariaLabel=t||s("Widget toolbar");if(this._toolbarDefinitions.has(e)){throw new N("widget-toolbar-duplicated",this,{toolbarId:e})}const c={view:a,getRelatedElement:i,balloonClassName:o,itemsConfig:n,initialized:false};r.ui.addToolbar(a,{isContextual:true,beforeFocus:()=>{const e=i(r.editing.view.document.selection);if(e){this._showToolbar(c,e)}},afterBlur:()=>{this._hideToolbar(c)}});this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0;let t=null;let n=null;for(const i of this._toolbarDefinitions.values()){const o=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o){if(this._isToolbarInBalloon(i)){this._hideToolbar(i)}}else if(!this.editor.ui.focusTracker.isFocused){if(this._isToolbarVisible(i)){this._hideToolbar(i)}}else{const r=o.getAncestors().length;if(r>e){e=r;t=o;n=i}}}if(n){this._showToolbar(n,t)}}_hideToolbar(e){this._balloon.remove(e.view);this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){if(this._isToolbarVisible(e)){SB(this.editor,t)}else if(!this._isToolbarInBalloon(e)){if(!e.initialized){e.initialized=true;e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)}this._balloon.add({view:e.view,position:BB(this.editor,t),balloonClassName:e.balloonClassName});this.listenTo(this._balloon,"change:visibleView",(()=>{for(const e of this._toolbarDefinitions.values()){if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);SB(this.editor,t)}}}))}}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function SB(e,t){const n=e.plugins.get("ContextualBalloon");const i=BB(e,t);n.updatePosition(i)}function BB(e,t){const n=e.editing.view;const i=Vx.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function NB(e){const t=e.getSelectedElement();return!!(t&&FS(t))}class zB extends(fe()){constructor(e){super();this.set("activeHandlePosition",null);this.set("proposedWidthPercents",null);this.set("proposedWidth",null);this.set("proposedHeight",null);this.set("proposedHandleHostWidth",null);this.set("proposedHandleHostHeight",null);this._options=e;this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const i=new dc(t);this.activeHandlePosition=RB(e);this._referenceCoordinates=LB(t,jB(this.activeHandlePosition));this._originalWidth=i.width;this._originalHeight=i.height;this._aspectRatio=i.width/i.height;const o=n.style.width;if(o&&o.match(/^\d+(\.\d*)?%$/)){this._originalWidthPercents=parseFloat(o)}else{this._originalWidthPercents=PB(n,i)}}update(e){this.proposedWidth=e.width;this.proposedHeight=e.height;this.proposedWidthPercents=e.widthPercents;this.proposedHandleHostWidth=e.handleHostWidth;this.proposedHandleHostHeight=e.handleHostHeight}}function PB(e,t){const n=e.parentElement;let i=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);const o=5;let r=0;let s=n;while(isNaN(i)){s=s.parentElement;if(++r>o){return 0}i=parseFloat(n.ownerDocument.defaultView.getComputedStyle(s).width)}return t.width/i*100}function LB(e,t){const n=new dc(e);const i=t.split("-");const o={x:i[1]=="right"?n.right:n.left,y:i[0]=="bottom"?n.bottom:n.top};o.x+=e.ownerDocument.defaultView.scrollX;o.y+=e.ownerDocument.defaultView.scrollY;return o}function OB(e){return`ck-widget__resizer__handle-${e}`}function RB(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t){if(e.classList.contains(OB(n))){return n}}}function jB(e){const t=e.split("-");const n={top:"bottom",bottom:"top",left:"right",right:"left"};return`${n[t[0]]}-${n[t[1]]}`}class FB extends jl{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",(e=>e?`ck-orientation-${e}`:""))],style:{display:e.if("_isVisible","none",(e=>!e))}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",((e,t)=>e!==null&&t!==null));this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",((t,n,i)=>{if(e.unit==="px"){return`${t}×${n}`}else{return`${i}%`}}));this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",((e,t,n)=>t<50||n<50?"above-center":e))}_dismiss(){this.unbind();this._isVisible=false}}class VB extends(fe()){constructor(e){super();this._viewResizerWrapper=null;this._options=e;this.set("isEnabled",true);this.set("isSelected",false);this.bind("isVisible").to(this,"isEnabled",this,"isSelected",((e,t)=>e&&t));this.decorate("begin");this.decorate("cancel");this.decorate("commit");this.decorate("updateSize");this.on("commit",(e=>{if(!this.state.proposedWidth&&!this.state.proposedWidthPercents){this._cleanup();e.stop()}}),{priority:"high"})}get state(){return this._state}show(){const e=this._options.editor.editing.view;e.change((e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)}))}hide(){const e=this._options.editor.editing.view;e.change((e=>{e.addClass("ck-hidden",this._viewResizerWrapper)}))}attach(){const e=this;const t=this._options.viewElement;const n=this._options.editor.editing.view;n.change((n=>{const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(t){const n=this.toDomElement(t);e._appendHandles(n);e._appendSizeUI(n);return n}));n.insert(n.createPositionAt(t,"end"),i);n.addClass("ck-widget_with-resizer",t);this._viewResizerWrapper=i;if(!this.isVisible){this.hide()}}));this.on("change:isVisible",(()=>{if(this.isVisible){this.show();this.redraw()}else{this.hide()}}))}begin(e){this._state=new zB(this._options);this._sizeView._bindToState(this._options,this.state);this._initialViewWidth=this._options.viewElement.getStyle("width");this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);const n=this._options.editor.editing.view;n.change((e=>{const n=this._options.unit||"%";const i=(n==="%"?t.widthPercents:t.width)+n;e.setStyle("width",i,this._options.viewElement)}));const i=this._getHandleHost();const o=new dc(i);const r=Math.round(o.width);const s=Math.round(o.height);const a=new dc(i);t.width=Math.round(a.width);t.height=Math.round(a.height);this.redraw(o);this.state.update({...t,handleHostWidth:r,handleHostHeight:s})}commit(){const e=this._options.unit||"%";const t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change((()=>{this._cleanup();this._options.onCommit(t)}))}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!WB(t)){return}const n=t.parentElement;const i=this._getHandleHost();const o=this._viewResizerWrapper;const r=[o.getStyle("width"),o.getStyle("height"),o.getStyle("left"),o.getStyle("top")];let s;if(n.isSameNode(i)){const t=e||new dc(i);s=[t.width+"px",t.height+"px",undefined,undefined]}else{s=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"]}if(Ee(r,s)!=="same"){this._options.editor.editing.view.change((e=>{e.setStyle({width:s[0],height:s[1],left:s[2],top:s[3]},o)}))}}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss();const e=this._options.editor.editing.view;e.change((e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)}))}_proposeNewSize(e){const t=this.state;const n=UB(e);const i=this._options.isCentered?this._options.isCentered(this):true;const o={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};if(i&&t.activeHandlePosition.endsWith("-right")){o.x=n.x-(t._referenceCoordinates.x+t.originalWidth)}if(i){o.x*=2}let r=Math.abs(t.originalWidth+o.x);let s=Math.abs(t.originalHeight+o.y);const a=r/t.aspectRatio>s?"width":"height";if(a=="width"){s=r/t.aspectRatio}else{r=s*t.aspectRatio}return{width:Math.round(r),height:Math.round(s),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*r*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t){e.appendChild(new Vl({tag:"div",attributes:{class:`ck-widget__resizer__handle ${HB(n)}`}}).render())}}_appendSizeUI(e){this._sizeView=new FB;this._sizeView.render();e.appendChild(this._sizeView.element)}}function HB(e){return`ck-widget__resizer__handle-${e}`}function UB(e){return{x:e.pageX,y:e.pageY}}function WB(e){return e&&e.ownerDocument&&e.ownerDocument.contains(e)}var $B=__webpack_require__(2263);var qB={injectType:"singletonStyleTag",attributes:{"data-cke":true}};qB.insert="head";qB.singleton=true;var GB=zl()($B.Z,qB);const YB=$B.Z.locals||{};class KB extends yu{constructor(){super(...arguments);this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing;const t=nc.window.document;this.set("selectedResizer",null);this.set("_activeResizer",null);e.view.addObserver($A);this._observer=new(Qa());this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"});this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this));this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this));this._redrawSelectedResizerThrottled=eE((()=>this.redrawSelectedResizer()),200);this.editor.ui.on("update",this._redrawSelectedResizerThrottled);this.editor.model.document.on("change",(()=>{for(const[e,t]of this._resizers){if(!e.isAttached()){this._resizers.delete(e);t.destroy()}}}),{priority:"lowest"});this._observer.listenTo(nc.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",(()=>{const e=n.getSelectedElement();const t=this.getResizerByViewElement(e)||null;if(t){this.select(t)}else{this.deselect()}}))}redrawSelectedResizer(){if(this.selectedResizer&&this.selectedResizer.isVisible){this.selectedResizer.redraw()}}destroy(){super.destroy();this._observer.stopListening();for(const e of this._resizers.values()){e.destroy()}this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect();this.selectedResizer=e;this.selectedResizer.isSelected=true}deselect(){if(this.selectedResizer){this.selectedResizer.isSelected=false}this.selectedResizer=null}attachTo(e){const t=new VB(e);const n=this.editor.plugins;t.attach();if(n.has("WidgetToolbarRepository")){const e=n.get("WidgetToolbarRepository");t.on("begin",(()=>{e.forceDisabled("resize")}),{priority:"lowest"});t.on("cancel",(()=>{e.clearForceDisabled("resize")}),{priority:"highest"});t.on("commit",(()=>{e.clearForceDisabled("resize")}),{priority:"highest"})}this._resizers.set(e.viewElement,t);const i=this.editor.editing.view.document.selection;const o=i.getSelectedElement();if(this.getResizerByViewElement(o)==t){this.select(t)}return t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values()){if(t.containsHandle(e)){return t}}}_mouseDownListener(e,t){const n=t.domTarget;if(!VB.isResizeHandle(n)){return}this._activeResizer=this._getResizerByHandle(n)||null;if(this._activeResizer){this._activeResizer.begin(n);e.stop();t.preventDefault()}}_mouseMoveListener(e,t){if(this._activeResizer){this._activeResizer.updateSize(t)}}_mouseUpListener(){if(this._activeResizer){this._activeResizer.commit();this._activeResizer=null}}}var ZB=__webpack_require__(390);var QB={injectType:"singletonStyleTag",attributes:{"data-cke":true}};QB.insert="head";QB.singleton=true;var JB=zl()(ZB.Z,QB);const XB=ZB.Z.locals||{};class eN extends yu{static get pluginName(){return"DragDrop"}static get requires(){return[BS,DB]}init(){const e=this.editor;const t=e.editing.view;this._draggedRange=null;this._draggingUid="";this._draggableElement=null;this._updateDropMarkerThrottled=eE((e=>this._updateDropMarker(e)),40);this._removeDropMarkerDelayed=Al((()=>this._removeDropMarker()),40);this._clearDraggableAttributesDelayed=Al((()=>this._clearDraggableAttributes()),40);if(e.plugins.has("DragDropExperimental")){this.forceDisabled("DragDropExperimental");return}t.addObserver(ES);t.addObserver($A);this._setupDragging();this._setupContentInsertionIntegration();this._setupClipboardInputIntegration();this._setupDropMarker();this._setupDraggableAttributeHandling();this.listenTo(e,"change:isReadOnly",((e,t,n)=>{if(n){this.forceDisabled("readOnlyMode")}else{this.clearForceDisabled("readOnlyMode")}}));this.on("change:isEnabled",((e,t,n)=>{if(!n){this._finalizeDragging(false)}}));if(a.isAndroid){this.forceDisabled("noAndroidSupport")}}destroy(){if(this._draggedRange){this._draggedRange.detach();this._draggedRange=null}this._updateDropMarkerThrottled.cancel();this._removeDropMarkerDelayed.cancel();this._clearDraggableAttributesDelayed.cancel();return super.destroy()}_setupDragging(){const e=this.editor;const t=e.model;const n=t.document;const i=e.editing.view;const o=i.document;this.listenTo(o,"dragstart",((i,r)=>{const s=n.selection;if(r.target&&r.target.is("editableElement")){r.preventDefault();return}const a=r.target?cN(r.target):null;if(a){const n=e.editing.mapper.toModelElement(a);this._draggedRange=Gb.fromRange(t.createRangeOn(n));if(e.plugins.has("WidgetToolbarRepository")){const t=e.plugins.get("WidgetToolbarRepository");t.forceDisabled("dragDrop")}}else if(!o.selection.isCollapsed){const e=o.selection.getSelectedElement();if(!e||!FS(e)){this._draggedRange=Gb.fromRange(s.getFirstRange())}}if(!this._draggedRange){r.preventDefault();return}this._draggingUid=D();const c=this.isEnabled&&e.model.canEditAt(this._draggedRange);r.dataTransfer.effectAllowed=c?"copyMove":"copy";r.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const l=t.createSelection(this._draggedRange.toRange());const d=e.data.toView(t.getSelectedContent(l));o.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:d,method:"dragstart"});if(!c){this._draggedRange.detach();this._draggedRange=null;this._draggingUid=""}}),{priority:"low"});this.listenTo(o,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&t.dataTransfer.dropEffect=="move")}),{priority:"low"});this.listenTo(o,"dragenter",(()=>{if(!this.isEnabled){return}i.focus()}));this.listenTo(o,"dragleave",(()=>{this._removeDropMarkerDelayed()}));this.listenTo(o,"dragging",((t,n)=>{if(!this.isEnabled){n.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const i=tN(e,n.targetRanges,n.target);if(!e.model.canEditAt(i)){n.dataTransfer.dropEffect="none";return}if(!this._draggedRange){n.dataTransfer.dropEffect="copy"}if(!a.isGecko){if(n.dataTransfer.effectAllowed=="copy"){n.dataTransfer.dropEffect="copy"}else if(["all","copyMove"].includes(n.dataTransfer.effectAllowed)){n.dataTransfer.dropEffect="move"}}if(i){this._updateDropMarkerThrottled(i)}}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;const t=e.editing.view;const n=t.document;this.listenTo(n,"clipboardInput",((t,n)=>{if(n.method!="drop"){return}const i=tN(e,n.targetRanges,n.target);this._removeDropMarker();if(!i||!e.model.canEditAt(i)){this._finalizeDragging(false);t.stop();return}if(this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")){this._draggedRange.detach();this._draggedRange=null;this._draggingUid=""}const o=aN(n.dataTransfer)=="move";if(o&&this._draggedRange&&this._draggedRange.containsRange(i,true)){this._finalizeDragging(false);t.stop();return}n.targetRanges=[e.editing.mapper.toViewRange(i)]}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(BS);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||t.method!=="drop"){return}const n=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(n)))}),{priority:"high"});e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||t.method!=="drop"){return}const n=aN(t.dataTransfer)=="move";const i=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(i&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor;const t=e.editing.view;const n=t.document;this.listenTo(n,"mousedown",((i,o)=>{if(a.isAndroid||!o){return}this._clearDraggableAttributesDelayed.cancel();let r=cN(o.target);if(a.isBlink&&!r&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();if(!e||!FS(e)){const e=n.selection.editableElement;if(e&&!e.isReadOnly){r=e}}}if(r){t.change((e=>{e.setAttribute("draggable","true",r)}));this._draggableElement=e.editing.mapper.toModelElement(r)}}));this.listenTo(n,"mouseup",(()=>{if(!a.isAndroid){this._clearDraggableAttributesDelayed()}}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{if(this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"){t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement))}this._draggableElement=null}))}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}});e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{const i=e.model.schema.checkChild(t.markerRange.start,"$text");if(!i){return}return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);t.append("⁠",e.createElement("span"),"⁠");return t}))}})}_updateDropMarker(e){const t=this.editor;const n=t.model.markers;t.model.change((t=>{if(n.has("drop-target")){if(!n.get("drop-target").getRange().isEqual(e)){t.updateMarker("drop-target",{range:e})}}else{t.addMarker("drop-target",{range:e,usingOperation:false,affectsData:false})}}))}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel();this._updateDropMarkerThrottled.cancel();if(e.markers.has("drop-target")){e.change((e=>{e.removeMarker("drop-target")}))}}_finalizeDragging(e){const t=this.editor;const n=t.model;this._removeDropMarker();this._clearDraggableAttributes();if(t.plugins.has("WidgetToolbarRepository")){const e=t.plugins.get("WidgetToolbarRepository");e.clearForceDisabled("dragDrop")}this._draggingUid="";if(!this._draggedRange){return}if(e&&this.isEnabled){n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:true})}this._draggedRange.detach();this._draggedRange=null}}function tN(e,t,n){const i=e.model;const o=e.editing.mapper;let r=null;const s=t?t[0].start:null;if(n.is("uiElement")){n=n.parent}r=nN(e,n);if(r){return r}const c=sN(e,n);const l=s?o.toModelPosition(s):null;if(!l){return iN(e,c)}r=oN(e,l,c);if(r){return r}r=i.schema.getNearestSelectionRange(l,a.isGecko?"forward":"backward");if(r){return r}return rN(e,l.parent)}function nN(e,t){const n=e.model;const i=e.editing.mapper;if(FS(t)){return n.createRangeOn(i.toModelElement(t))}if(!t.is("editableElement")){const e=t.findAncestor((e=>FS(e)||e.is("editableElement")));if(FS(e)){return n.createRangeOn(i.toModelElement(e))}}return null}function iN(e,t){const n=e.model;const i=n.schema;const o=n.createPositionAt(t,0);return i.getNearestSelectionRange(o,"forward")}function oN(e,t,n){const i=e.model;if(!i.schema.checkChild(n,"$block")){return null}const o=i.createPositionAt(n,0);const r=t.path.slice(0,o.path.length);const s=i.createPositionFromPath(t.root,r);const a=s.nodeAfter;if(a&&i.schema.isObject(a)){return i.createRangeOn(a)}return null}function rN(e,t){const n=e.model;let i=t;while(i){if(n.schema.isObject(i)){return n.createRangeOn(i)}i=i.parent}return null}function sN(e,t){const n=e.editing.mapper;const i=e.editing.view;const o=n.toModelElement(t);if(o){return o}const r=i.createPositionBefore(t);const s=n.findMappedViewAncestor(r);return n.toModelElement(s)}function aN(e){if(a.isGecko){return e.dropEffect}return["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function cN(e){if(e.is("editableElement")){return null}if(e.hasClass("ck-widget__selection-handle")){return e.findAncestor(FS)}if(FS(e)){return e}const t=e.findAncestor((e=>FS(e)||e.is("editableElement")));if(FS(t)){return t}return null}class lN extends yu{static get pluginName(){return"PastePlainText"}static get requires(){return[BS]}init(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=n.document;const o=t.document.selection;let r=false;n.addObserver(ES);this.listenTo(i,"keydown",((e,t)=>{r=t.shiftKey}));e.plugins.get(BS).on("contentInsertion",((e,n)=>{if(!r&&!dN(n.content,t.schema)){return}t.change((e=>{const i=Array.from(o.getAttributes()).filter((([e])=>t.schema.getAttributeProperties(e).isFormatting));if(!o.isCollapsed){t.deleteContent(o,{doNotAutoparagraph:true})}i.push(...o.getAttributes());const r=e.createRangeIn(n.content);for(const t of r.getItems()){if(t.is("$textProxy")){e.setAttributes(i,t)}}}))}))}}function dN(e,t){if(e.childCount>1){return false}const n=e.getChild(0);if(t.isObject(n)){return false}return Array.from(n.getAttributeKeys()).length==0}class uN extends yu{static get pluginName(){return"Clipboard"}static get requires(){return[BS,eN,lN]}}const hN=kc("px");class fN extends(null&&View){constructor(){super();const e=this.bindTemplate;this.set({isVisible:false,left:null,top:null,width:null});this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",(e=>!e))],style:{left:e.to("left",(e=>hN(e))),top:e.to("top",(e=>hN(e))),width:e.to("width",(e=>hN(e)))}}})}}class gN extends(null&&Plugin){constructor(){super(...arguments);this.removeDropMarkerDelayed=delay((()=>this.removeDropMarker()),40);this._updateDropMarkerThrottled=throttle((e=>this._updateDropMarker(e)),40);this._reconvertMarkerThrottled=throttle((()=>{if(this.editor.model.markers.has("drop-target")){this.editor.editing.reconvertMarker("drop-target")}}),0);this._dropTargetLineView=new LineView;this._domEmitter=new(DomEmitterMixin());this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values()){e.destroy()}this._updateDropMarkerThrottled.cancel();this.removeDropMarkerDelayed.cancel();this._reconvertMarkerThrottled.cancel();return super.destroy()}updateDropMarker(e,t,n,i,o){this.removeDropMarkerDelayed.cancel();const r=mN(this.editor,e,t,n,i,o);if(r){this._updateDropMarkerThrottled(r)}}getFinalDropRange(e,t,n,i,o){const r=mN(this.editor,e,t,n,i,o);this.removeDropMarker();return r}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel();this._updateDropMarkerThrottled.cancel();this._dropTargetLineView.isVisible=false;if(e.markers.has("drop-target")){e.change((e=>{e.removeMarker("drop-target")}))}}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView);e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}});e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text")){this._dropTargetLineView.isVisible=false;return this._createDropTargetPosition(n)}else{if(t.markerRange.isCollapsed){this._updateDropTargetLine(t.markerRange)}else{this._dropTargetLineView.isVisible=false}}}})}_updateDropMarker(e){const t=this.editor;const n=t.model.markers;t.model.change((t=>{if(n.has("drop-target")){if(!n.get("drop-target").getRange().isEqual(e)){t.updateMarker("drop-target",{range:e})}}else{t.addMarker("drop-target",{range:e,usingOperation:false,affectsData:false})}}))}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);t.append("⁠",e.createElement("span"),"⁠");return t}))}_updateDropTargetLine(e){const t=this.editor.editing;const n=e.start.nodeBefore;const i=e.start.nodeAfter;const o=e.start.parent;const r=n?t.mapper.toViewElement(n):null;const s=r?t.view.domConverter.mapViewToDom(r):null;const a=i?t.mapper.toViewElement(i):null;const c=a?t.view.domConverter.mapViewToDom(a):null;const l=t.mapper.toViewElement(o);const d=t.view.domConverter.mapViewToDom(l);const u=this._getScrollableRect(l);const{scrollX:h,scrollY:f}=global.window;const g=s?new Rect(s):null;const m=c?new Rect(c):null;const p=new Rect(d).excludeScrollbarsAndBorders();const b=g?g.bottom:p.top;const k=m?m.top:p.bottom;const w=global.window.getComputedStyle(d);const _=b<=k?(b+k)/2:k;if(u.top<_&&_<u.bottom){const e=p.left+parseFloat(w.paddingLeft);const t=p.right-parseFloat(w.paddingRight);const n=Math.max(e+h,u.left);const i=Math.min(t+h,u.right);this._dropTargetLineView.set({isVisible:true,left:n,top:_+f,width:i-n})}else{this._dropTargetLineView.isVisible=false}}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t)){n=this._scrollables.get(t).domElement}else{const i=this.editor.editing.view.domConverter.mapViewToDom(e);n=_N(i);this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:true});const o=new ResizeObserver(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:o})}return new Rect(n).excludeScrollbarsAndBorders()}}function mN(e,t,n,i,o,r){const s=e.model;const a=e.editing.mapper;const c=wN(e,t);let l=c;while(l){if(!r){if(s.schema.checkChild(l,"$text")){const t=n?n[0].start:null;const r=t?a.toModelPosition(t):null;if(r){if(s.schema.checkChild(r,"$text")){return s.createRange(r)}else if(t){return bN(e,wN(e,t.parent),i,o)}}}else if(s.schema.isInline(l)){return bN(e,l,i,o)}}if(s.schema.isBlock(l)){return bN(e,l,i,o)}else if(s.schema.checkChild(l,"$block")){const t=Array.from(l.getChildren()).filter((t=>t.is("element")&&!pN(e,t)));let n=0;let r=t.length;while(n<r-1){const s=Math.floor((n+r)/2);const a=kN(e,t[s],i,o);if(a=="before"){r=s}else{n=s}}return bN(e,t[n],i,o)}l=l.parent}console.warn("none:",c.name);return null}function pN(e,t){const n=e.editing.mapper;const i=e.editing.view.domConverter;const o=n.toViewElement(t);const r=i.mapViewToDom(o);return global.window.getComputedStyle(r).float!="none"}function bN(e,t,n,i){const o=e.model;return o.createRange(o.createPositionAt(t,kN(e,t,n,i)))}function kN(e,t,n,i){const o=e.editing.mapper;const r=e.editing.view.domConverter;const s=o.toViewElement(t);const a=r.mapViewToDom(s);const c=new Rect(a);if(e.model.schema.isInline(t)){return n<(c.left+c.right)/2?"before":"after"}else{return i<(c.top+c.bottom)/2?"before":"after"}}function wN(e,t){const n=e.editing.mapper;const i=e.editing.view;const o=n.toModelElement(t);if(o){return o}const r=i.createPositionBefore(t);const s=n.findMappedViewAncestor(r);return n.toModelElement(s)}function _N(e){let t=e;do{t=t.parentElement;const e=global.window.getComputedStyle(t).overflowY;if(e=="auto"||e=="scroll"){break}}while(t.tagName!="BODY");return t}class AN extends(null&&Plugin){constructor(){super(...arguments);this._clearDraggableAttributesDelayed=delay((()=>this._clearDraggableAttributes()),40);this._blockMode=false;this._domEmitter=new(DomEmitterMixin())}static get pluginName(){return"DragDropExperimental"}static get requires(){return[ClipboardPipeline,Widget,DragDropTarget]}init(){const e=this.editor;const t=e.editing.view;this._draggedRange=null;this._draggingUid="";this._draggableElement=null;t.addObserver(ClipboardObserver);t.addObserver(MouseObserver);this._setupDragging();this._setupContentInsertionIntegration();this._setupClipboardInputIntegration();this._setupDraggableAttributeHandling();this.listenTo(e,"change:isReadOnly",((e,t,n)=>{if(n){this.forceDisabled("readOnlyMode")}else{this.clearForceDisabled("readOnlyMode")}}));this.on("change:isEnabled",((e,t,n)=>{if(!n){this._finalizeDragging(false)}}));if(env.isAndroid){this.forceDisabled("noAndroidSupport")}}destroy(){if(this._draggedRange){this._draggedRange.detach();this._draggedRange=null}if(this._previewContainer){this._previewContainer.remove()}this._domEmitter.stopListening();this._clearDraggableAttributesDelayed.cancel();return super.destroy()}_setupDragging(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=n.document;const o=e.plugins.get(DragDropTarget);this.listenTo(i,"dragstart",((n,o)=>{if(o.target&&o.target.is("editableElement")){o.preventDefault();return}this._prepareDraggedRange(o.target);if(!this._draggedRange){o.preventDefault();return}this._draggingUid=uid();o.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy";o.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const r=t.createSelection(this._draggedRange.toRange());const s=e.data.toView(t.getSelectedContent(r));i.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:s,method:"dragstart"});this._updatePreview(o.dataTransfer);o.stopPropagation();if(!this.isEnabled){this._draggedRange.detach();this._draggedRange=null;this._draggingUid=""}}),{priority:"low"});this.listenTo(i,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&t.dataTransfer.dropEffect=="move")}),{priority:"low"});this._domEmitter.listenTo(global.document,"dragend",(()=>{this._blockMode=false}),{useCapture:true});this.listenTo(i,"dragenter",(()=>{if(!this.isEnabled){return}n.focus()}));this.listenTo(i,"dragleave",(()=>{o.removeDropMarkerDelayed()}));this.listenTo(i,"dragging",((e,t)=>{if(!this.isEnabled){t.dataTransfer.dropEffect="none";return}const{clientX:n,clientY:i}=t.domEvent;o.updateDropMarker(t.target,t.targetRanges,n,i,this._blockMode);if(!this._draggedRange){t.dataTransfer.dropEffect="copy"}if(!env.isGecko){if(t.dataTransfer.effectAllowed=="copy"){t.dataTransfer.dropEffect="copy"}else if(["all","copyMove"].includes(t.dataTransfer.effectAllowed)){t.dataTransfer.dropEffect="move"}}e.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor;const t=e.editing.view;const n=t.document;const i=e.plugins.get(DragDropTarget);this.listenTo(n,"clipboardInput",((t,n)=>{if(n.method!="drop"){return}const{clientX:o,clientY:r}=n.domEvent;const s=i.getFinalDropRange(n.target,n.targetRanges,o,r,this._blockMode);if(!s){this._finalizeDragging(false);t.stop();return}if(this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")){this._draggedRange.detach();this._draggedRange=null;this._draggingUid=""}const a=vN(n.dataTransfer)=="move";if(a&&this._draggedRange&&this._draggedRange.containsRange(s,true)){this._finalizeDragging(false);t.stop();return}n.targetRanges=[e.editing.mapper.toViewRange(s)]}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(ClipboardPipeline);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||t.method!=="drop"){return}const n=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(n)))}),{priority:"high"});e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||t.method!=="drop"){return}const n=vN(t.dataTransfer)=="move";const i=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(i&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor;const t=e.editing.view;const n=t.document;this.listenTo(n,"mousedown",((i,o)=>{if(env.isAndroid||!o){return}this._clearDraggableAttributesDelayed.cancel();let r=CN(o.target);if(env.isBlink&&!e.isReadOnly&&!r&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();if(!e||!isWidget(e)){r=n.selection.editableElement}}if(r){t.change((e=>{e.setAttribute("draggable","true",r)}));this._draggableElement=e.editing.mapper.toModelElement(r)}}));this.listenTo(n,"mouseup",(()=>{if(!env.isAndroid){this._clearDraggableAttributesDelayed()}}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{if(this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"){t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement))}this._draggableElement=null}))}_finalizeDragging(e){const t=this.editor;const n=t.model;const i=t.plugins.get(DragDropTarget);i.removeDropMarker();this._clearDraggableAttributes();if(t.plugins.has("WidgetToolbarRepository")){const e=t.plugins.get("WidgetToolbarRepository");e.clearForceDisabled("dragDrop")}this._draggingUid="";if(this._previewContainer){this._previewContainer.remove();this._previewContainer=undefined}if(!this._draggedRange){return}if(e&&this.isEnabled){n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:true})}this._draggedRange.detach();this._draggedRange=null}_prepareDraggedRange(e){const t=this.editor;const n=t.model;const i=n.document.selection;const o=e?CN(e):null;if(o){const e=t.editing.mapper.toModelElement(o);this._draggedRange=LiveRange.fromRange(n.createRangeOn(e));this._blockMode=n.schema.isBlock(e);if(t.plugins.has("WidgetToolbarRepository")){const e=t.plugins.get("WidgetToolbarRepository");e.forceDisabled("dragDrop")}}else if(!i.isCollapsed||i.getFirstPosition().parent.isEmpty){const e=Array.from(i.getSelectedBlocks());if(e.length>1){this._draggedRange=LiveRange.fromRange(n.createRange(n.createPositionBefore(e[0]),n.createPositionAfter(e[e.length-1])));n.change((e=>e.setSelection(this._draggedRange.toRange())));this._blockMode=true}else if(e.length==1){const t=i.getFirstRange();const o=n.createRange(n.createPositionBefore(e[0]),n.createPositionAfter(e[0]));if(t.start.isTouching(o.start)&&t.end.isTouching(o.end)){this._draggedRange=LiveRange.fromRange(o);this._blockMode=true}else{this._draggedRange=LiveRange.fromRange(i.getFirstRange());this._blockMode=false}}}}_updatePreview(e){const t=this.editor.editing.view;const n=t.document.selection.editableElement;const i=t.domConverter.mapViewToDom(n);const o=global.window.getComputedStyle(i);if(!this._previewContainer){this._previewContainer=createElement(global.document,"div",{style:"position: fixed; left: -999999px;"});global.document.body.appendChild(this._previewContainer)}else{this._previewContainer.removeChild(this._previewContainer.firstElementChild)}const r=createElement(global.document,"div");r.className="ck ck-content";r.style.width=o.width;r.innerHTML=e.getData("text/html");e.setDragImage(r,0,0);this._previewContainer.appendChild(r)}}function vN(e){if(env.isGecko){return e.dropEffect}return["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function CN(e){if(e.is("editableElement")){return null}if(e.hasClass("ck-widget__selection-handle")){return e.findAncestor(isWidget)}if(isWidget(e)){return e}const t=e.findAncestor((e=>isWidget(e)||e.is("editableElement")));if(isWidget(t)){return t}return null}class yN extends(null&&Plugin){constructor(){super(...arguments);this._isBlockDragging=false;this._domEmitter=new(DomEmitterMixin())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;this.listenTo(e,"change:isReadOnly",((e,t,n)=>{if(n){this.forceDisabled("readOnlyMode");this._isBlockDragging=false}else{this.clearForceDisabled("readOnlyMode")}}));if(env.isAndroid){this.forceDisabled("noAndroidSupport")}if(e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar");const n=t.buttonView.element;n.setAttribute("draggable","true");this._domEmitter.listenTo(n,"dragstart",((e,t)=>this._handleBlockDragStart(t)));this._domEmitter.listenTo(global.document,"dragover",((e,t)=>this._handleBlockDragging(t)));this._domEmitter.listenTo(global.document,"drop",((e,t)=>this._handleBlockDragging(t)));this._domEmitter.listenTo(global.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:true})}}destroy(){this._domEmitter.stopListening();return super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled){return}const t=this.editor.model;const n=t.document.selection;const i=Array.from(n.getSelectedBlocks());const o=t.createRange(t.createPositionBefore(i[0]),t.createPositionAfter(i[i.length-1]));t.change((e=>e.setSelection(o)));this._isBlockDragging=true;this.editor.editing.view.getObserver(ClipboardObserver).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging){return}const t=e.clientX+100;const n=e.clientY;const i=document.elementFromPoint(t,n);if(!i||!i.closest(".ck-editor__editable")){return}this.editor.editing.view.getObserver(ClipboardObserver).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=false}}class xN extends Eu{constructor(e){super(e);this.affectsData=false}execute(){const e=this.editor.model;const t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!EN(e.schema,n)){do{n=n.parent;if(!n){return}}while(!EN(e.schema,n))}e.change((e=>{e.setSelection(n,"in")}))}}function EN(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const DN=Kc("Ctrl+A");class TN extends yu{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;e.commands.add("selectAll",new xN(e));this.listenTo(n,"keydown",((t,n)=>{if(Yc(n)===DN){e.execute("selectAll");n.preventDefault()}}))}}const MN='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class IN extends yu{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",(t=>{const n=e.commands.get("selectAll");const i=new yd(t);const o=t.t;i.set({label:o("Select all"),icon:MN,keystroke:"Ctrl+A",tooltip:true});i.bind("isEnabled").to(n,"isEnabled");this.listenTo(i,"execute",(()=>{e.execute("selectAll");e.editing.view.focus()}));return i}))}}class SN extends yu{static get requires(){return[TN,IN]}static get pluginName(){return"SelectAll"}}class BN extends Eu{constructor(e){super(e);this._stack=[];this._createdBatches=new WeakSet;this.refresh();this._isEnabledBasedOnSelection=false;this.listenTo(e.data,"set",((e,t)=>{t[1]={...t[1]};const n=t[1];if(!n.batchType){n.batchType={isUndoable:false}}}),{priority:"high"});this.listenTo(e.data,"set",((e,t)=>{const n=t[1];if(!n.batchType.isUndoable){this.clearStack()}}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection;const n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n});this.refresh()}clearStack(){this._stack=[];this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model;const o=i.document;const r=[];const s=e.map((e=>e.getTransformedByOperations(n)));const a=s.flat();for(const e of s){const t=e.filter((e=>e.root!=o.graveyard)).filter((e=>!zN(e,a)));if(!t.length){continue}NN(t);r.push(t[0])}if(r.length){i.change((e=>{e.setSelection(r,{backward:t})}))}}_undo(e,t){const n=this.editor.model;const i=n.document;this._createdBatches.add(t);const o=e.operations.slice().filter((e=>e.isDocumentOperation));o.reverse();for(const e of o){const o=e.baseVersion+1;const r=Array.from(i.history.getOperations(o));const s=z_([e.getReversed()],r,{useRelations:true,document:this.editor.model.document,padWithNoOps:false,forceWeakRemove:true});const a=s.operationsA;for(let o of a){const r=o.affectedSelectable;if(r&&!n.canEditAt(r)){o=new C_(o.baseVersion)}t.addOperation(o);n.applyOperation(o);i.history.setOperationAsUndone(e,o)}}}}function NN(e){e.sort(((e,t)=>e.start.isBefore(t.start)?-1:1));for(let t=1;t<e.length;t++){const n=e[t-1];const i=n.getJoined(e[t],true);if(i){t--;e.splice(t,2,i)}}}function zN(e,t){return t.some((t=>t!==e&&t.containsRange(e,true)))}class PN extends BN{execute(e=null){const t=e?this._stack.findIndex((t=>t.batch==e)):this._stack.length-1;const n=this._stack.splice(t,1)[0];const i=this.editor.model.createBatch({isUndo:true});this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e);this.fire("revert",n.batch,i)}));this.refresh()}}class LN extends BN{execute(){const e=this._stack.pop();const t=this.editor.model.createBatch({isUndo:true});this.editor.model.enqueueChange(t,(()=>{const n=e.batch.operations[e.batch.operations.length-1];const i=n.baseVersion+1;const o=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,o);this._undo(e.batch,t)}));this.refresh()}}class ON extends yu{constructor(){super(...arguments);this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new PN(e);this._redoCommand=new LN(e);e.commands.add("undo",this._undoCommand);e.commands.add("redo",this._redoCommand);this.listenTo(e.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}const i=n.batch;const o=this._redoCommand.createdBatches.has(i);const r=this._undoCommand.createdBatches.has(i);const s=this._batchRegistry.has(i);if(s){return}this._batchRegistry.add(i);if(!i.isUndoable){return}if(o){this._undoCommand.addBatch(i)}else if(!r){this._undoCommand.addBatch(i);this._redoCommand.clearStack()}}),{priority:"highest"});this.listenTo(this._undoCommand,"revert",((e,t,n)=>{this._redoCommand.addBatch(n)}));e.keystrokes.set("CTRL+Z","undo");e.keystrokes.set("CTRL+Y","redo");e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const RN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';const jN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class FN extends yu{static get pluginName(){return"UndoUI"}init(){const e=this.editor;const t=e.locale;const n=e.t;const i=t.uiLanguageDirection=="ltr"?RN:jN;const o=t.uiLanguageDirection=="ltr"?jN:RN;this._addButton("undo",n("Undo"),"CTRL+Z",i);this._addButton("redo",n("Redo"),"CTRL+Y",o)}_addButton(e,t,n,i){const o=this.editor;o.ui.componentFactory.add(e,(r=>{const s=o.commands.get(e);const a=new yd(r);a.set({label:t,icon:i,keystroke:n,tooltip:true});a.bind("isEnabled").to(s,"isEnabled");this.listenTo(a,"execute",(()=>{o.execute(e);o.editing.view.focus()}));return a}))}}class VN extends yu{static get requires(){return[ON,FN]}static get pluginName(){return"Undo"}}class HN extends yu{static get requires(){return[uN,lI,SN,mI,fT,VN]}static get pluginName(){return"Essentials"}}class UN extends Eu{constructor(e){super(e);this._isEnabledBasedOnSelection=false}refresh(){const e=this.editor.model;const t=e.document;const n=gl(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph");this.isEnabled=!!n&&WN(n,e.schema)}execute(e={}){const t=this.editor.model;const n=t.document;const i=e.selection||n.selection;if(!t.canEditAt(i)){return}t.change((e=>{const n=i.getSelectedBlocks();for(const i of n){if(!i.is("element","paragraph")&&WN(i,t.schema)){e.rename(i,"paragraph")}}}))}}function WN(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class $N extends Eu{constructor(e){super(e);this._isEnabledBasedOnSelection=false}execute(e){const t=this.editor.model;const n=e.attributes;let i=e.position;if(!t.canEditAt(i)){return}t.change((e=>{const o=e.createElement("paragraph");if(n){t.schema.setAllowedAttributes(o,n,e)}if(!t.schema.checkChild(i.parent,o)){const n=t.schema.findAllowedParent(i,o);if(!n){return}i=e.split(i,n).position}t.insertContent(o,i);e.setSelection(o,"in")}))}}class qN extends yu{static get pluginName(){return"Paragraph"}init(){const e=this.editor;const t=e.model;e.commands.add("paragraph",new UN(e));e.commands.add("insertParagraph",new $N(e));t.schema.register("paragraph",{inheritAllFrom:"$block"});e.conversion.elementToElement({model:"paragraph",view:"p"});e.conversion.for("upcast").elementToElement({model:(e,{writer:t})=>{if(!qN.paragraphLikeElements.has(e.name)){return null}if(e.isEmpty){return null}return t.createElement("paragraph")},view:/.+/,converterPriority:"low"})}}qN.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);const GN=DC.paragraph;class YN extends(null&&Plugin){static get requires(){return[Paragraph]}init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("paragraph",(n=>{const i=new ButtonView(n);const o=e.commands.get("paragraph");i.label=t("Paragraph");i.icon=GN;i.tooltip=true;i.isToggleable=true;i.bind("isEnabled").to(o);i.bind("isOn").to(o,"value");i.on("execute",(()=>{e.execute("paragraph")}));return i}))}}class KN extends Eu{constructor(e,t){super(e);this.modelElements=t}refresh(){const e=gl(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name;this.isEnabled=!!e&&this.modelElements.some((t=>ZN(e,t,this.editor.model.schema)))}execute(e){const t=this.editor.model;const n=t.document;const i=e.value;t.change((e=>{const o=Array.from(n.selection.getSelectedBlocks()).filter((e=>ZN(e,i,t.schema)));for(const t of o){if(!t.is("element",i)){e.rename(t,i)}}}))}}function ZN(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}const QN="paragraph";class JN extends yu{static get pluginName(){return"HeadingEditing"}constructor(e){super(e);e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[qN]}init(){const e=this.editor;const t=e.config.get("heading.options");const n=[];for(const i of t){if(i.model==="paragraph"){continue}e.model.schema.register(i.model,{inheritAllFrom:"$block"});e.conversion.elementToElement(i);n.push(i.model)}this._addDefaultH1Conversion(e);e.commands.add("heading",new KN(e,n))}afterInit(){const e=this.editor;const t=e.commands.get("enter");const n=e.config.get("heading.options");if(t){this.listenTo(t,"afterExecute",((t,i)=>{const o=e.model.document.selection.getFirstPosition().parent;const r=n.some((e=>o.is("element",e.model)));if(r&&!o.is("element",QN)&&o.childCount===0){i.writer.rename(o,QN)}}))}}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:I.low+1})}}function XN(e){const t=e.t;const n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((e=>{const t=n[e.title];if(t&&t!=e.title){e.title=t}return e}))}var ez=__webpack_require__(3230);var tz={injectType:"singletonStyleTag",attributes:{"data-cke":true}};tz.insert="head";tz.singleton=true;var nz=zl()(ez.Z,tz);const iz=ez.Z.locals||{};class oz extends yu{static get pluginName(){return"HeadingUI"}init(){const e=this.editor;const t=e.t;const n=XN(e);const i=t("Choose heading");const o=t("Heading");e.ui.componentFactory.add("heading",(t=>{const r={};const s=new fl;const a=e.commands.get("heading");const c=e.commands.get("paragraph");const l=[a];for(const e of n){const t={type:"button",model:new BE({label:e.title,class:e.class,role:"menuitemradio",withText:true})};if(e.model==="paragraph"){t.model.bind("isOn").to(c,"value");t.model.set("commandName","paragraph");l.push(c)}else{t.model.bind("isOn").to(a,"value",(t=>t===e.model));t.model.set({commandName:"heading",commandValue:e.model})}s.add(t);r[e.model]=e.title}const d=oy(t);ay(d,s,{ariaLabel:o,role:"menu"});d.buttonView.set({ariaLabel:o,ariaLabelledBy:undefined,isOn:false,withText:true,tooltip:o});d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}});d.bind("isEnabled").toMany(l,"isEnabled",((...e)=>e.some((e=>e))));d.buttonView.bind("label").to(a,"value",c,"value",((e,t)=>{const n=e||t&&"paragraph";if(typeof n==="boolean"){return i}if(!r[n]){return i}return r[n]}));this.listenTo(d,"execute",(t=>{const{commandName:n,commandValue:i}=t.source;e.execute(n,i?{value:i}:undefined);e.editing.view.focus()}));return d}))}}class rz extends yu{static get requires(){return[JN,oz]}static get pluginName(){return"Heading"}}class sz extends Eu{refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n;if(this.isEnabled&&n.hasAttribute("alt")){this.value=n.getAttribute("alt")}else{this.value=false}}execute(e){const t=this.editor;const n=t.plugins.get("ImageUtils");const i=t.model;const o=n.getClosestSelectedImageElement(i.document.selection);i.change((t=>{t.setAttribute("alt",e.newValue,o)}))}}function az(e){return e.createContainerElement("span",{class:"image-inline"},e.createEmptyElement("img"))}function cz(e){return e.createContainerElement("figure",{class:"image"},[e.createEmptyElement("img"),e.createSlot("children")])}function lz(e,t){const n=e.plugins.get("ImageUtils");const i=e.plugins.has("ImageInlineEditing")&&e.plugins.has("ImageBlockEditing");return e=>{if(!n.isInlineImageView(e)){return null}if(!i){return o(e)}const r=e.getStyle("display")=="block"||e.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline";if(r!==t){return null}return o(e)};function o(e){const t={name:true};if(e.hasAttribute("src")){t.attributes=["src"]}return t}}function dz(e,t){const n=gl(t.getSelectedBlocks());if(!n||e.isObject(n)){return"imageBlock"}if(n.isEmpty&&n.name!="listItem"){return"imageBlock"}return"imageInline"}class uz extends yu{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null){const i=this.editor;const o=i.model;const r=o.document.selection;n=mz(i,t||r,n);e={...Object.fromEntries(r.getAttributes()),...e};for(const t in e){if(!o.schema.checkAttribute(n,t)){delete e[t]}}return o.change((i=>{const r=i.createElement(n,e);o.insertObject(r,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":undefined});if(r.parent){return r}return null}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t){return null}const n=e.getSelectedElement();if(n&&this.isImageWidget(n)){return n}let i=t.parent;while(i){if(i.is("element")&&this.isImageWidget(i)){return i}i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model;const t=e.document.selection;return hz(this.editor,t)&&fz(t)}toImageWidget(e,t,n){t.setCustomProperty("image",true,e);const i=()=>{const t=this.findViewImgElement(e);const i=t.getAttribute("alt");return i?`${i} ${n}`:n};return VS(e,t,{label:i})}isImageWidget(e){return!!e.getCustomProperty("image")&&FS(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e)){return e}const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e)){if(this.isInlineImageView(n)){return n}}}}function hz(e,t){const n=mz(e,t,null);if(n=="imageBlock"){const n=gz(t,e.model);if(e.model.schema.checkChild(n,"imageBlock")){return true}}else if(e.model.schema.checkChild(t.focus,"imageInline")){return true}return false}function fz(e){return[...e.focus.getAncestors()].every((e=>!e.is("element","imageBlock")))}function gz(e,t){const n=YS(e,t);const i=n.start.parent;if(i.isEmpty&&!i.is("element","$root")){return i.parent}return i}function mz(e,t,n){const i=e.model.schema;const o=e.config.get("image.insert.type");if(!e.plugins.has("ImageBlockEditing")){return"imageInline"}if(!e.plugins.has("ImageInlineEditing")){return"imageBlock"}if(n){return n}if(o==="inline"){return"imageInline"}if(o==="block"){return"imageBlock"}if(t.is("selection")){return dz(i,t)}return i.checkChild(t,"imageInline")?"imageInline":"imageBlock"}class pz extends yu{static get requires(){return[uz]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new sz(this.editor))}}var bz=__webpack_require__(6831);var kz={injectType:"singletonStyleTag",attributes:{"data-cke":true}};kz.insert="head";kz.singleton=true;var wz=zl()(bz.Z,kz);const _z=bz.Z.locals||{};var Az=__webpack_require__(1590);var vz={injectType:"singletonStyleTag",attributes:{"data-cke":true}};vz.insert="head";vz.singleton=true;var Cz=zl()(Az.Z,vz);const yz=Az.Z.locals||{};class xz extends jl{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new ml;this.keystrokes=new pl;this.labeledInput=this._createLabeledInputView();this.saveButtonView=this._createButton(t("Save"),DC.check,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(t("Cancel"),DC.cancel,"ck-button-cancel","cancel");this._focusables=new Sl;this._focusCycler=new ku({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render();this.keystrokes.listenTo(this.element);n({view:this});[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e);this.focusTracker.add(e.element)}))}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}_createButton(e,t,n,i){const o=new yd(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:n}});if(i){o.delegate("execute").to(this,i)}return o}_createLabeledInputView(){const e=this.locale.t;const t=new tu(this.locale,by);t.label=e("Text alternative");return t}}function Ez(e){const t=e.plugins.get("ContextualBalloon");const n=e.plugins.get("ImageUtils");if(n.getClosestSelectedImageWidget(e.editing.view.document.selection)){const n=Dz(e);t.updatePosition(n)}}function Dz(e){const t=e.editing.view;const n=Vx.defaultPositions;const i=e.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class Tz extends yu{static get requires(){return[WE]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy();if(this._form){this._form.destroy()}}_createButton(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("imageTextAlternative",(n=>{const i=e.commands.get("imageTextAlternative");const o=new yd(n);o.set({label:t("Change image text alternative"),icon:DC.lowVision,tooltip:true});o.bind("isEnabled").to(i,"isEnabled");o.bind("isOn").to(i,"value",(e=>!!e));this.listenTo(o,"execute",(()=>{this._showForm()}));return o}))}_createForm(){const n=this.editor;const i=n.editing.view;const o=i.document;const r=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon");this._form=new(t(xz))(n.locale);this._form.render();this.listenTo(this._form,"submit",(()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value});this._hideForm(true)}));this.listenTo(this._form,"cancel",(()=>{this._hideForm(true)}));this._form.keystrokes.set("Esc",((e,t)=>{this._hideForm(true);t()}));this.listenTo(n.ui,"update",(()=>{if(!r.getClosestSelectedImageWidget(o.selection)){this._hideForm(true)}else if(this._isVisible){Ez(n)}}));e({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible){return}if(!this._form){this._createForm()}const e=this.editor;const t=e.commands.get("imageTextAlternative");const n=this._form.labeledInput;this._form.disableCssTransitions();if(!this._isInBalloon){this._balloon.add({view:this._form,position:Dz(e)})}n.fieldView.value=n.fieldView.element.value=t.value||"";this._form.labeledInput.fieldView.select();this._form.enableCssTransitions()}_hideForm(e=false){if(!this._isInBalloon){return}if(this._form.focusTracker.isFocused){this._form.saveButtonView.focus()}this._balloon.remove(this._form);if(e){this.editor.editing.view.focus()}}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Mz extends yu{static get requires(){return[pz,Tz]}static get pluginName(){return"ImageTextAlternative"}}function Iz(e){const t=(t,n,i)=>{if(!i.consumable.test(n.viewItem,{name:true,classes:"image"})){return}const o=e.findViewImgElement(n.viewItem);if(!o||!i.consumable.test(o,{name:true})){return}i.consumable.consume(n.viewItem,{name:true,classes:"image"});const r=i.convertItem(o,n.modelCursor);const s=gl(r.modelRange.getItems());if(!s){i.consumable.revert(n.viewItem,{name:true,classes:"image"});return}i.convertChildren(n.viewItem,s);i.updateConversionResult(s,n)};return e=>{e.on("element:figure",t)}}function Sz(e){const t=["srcset","media","type","sizes"];const n=(n,i,o)=>{const r=i.viewItem;if(!o.consumable.test(r,{name:true})){return}const s=new Map;for(const e of r.getChildren()){if(e.is("element","source")){const n={};for(const i of t){if(e.hasAttribute(i)){if(o.consumable.test(e,{attributes:i})){n[i]=e.getAttribute(i)}}}if(Object.keys(n).length){s.set(e,n)}}}const a=e.findViewImgElement(r);if(!a){return}let c=i.modelCursor.parent;if(!c.is("element","imageBlock")){const e=o.convertItem(a,i.modelCursor);i.modelRange=e.modelRange;i.modelCursor=e.modelCursor;c=gl(e.modelRange.getItems())}o.consumable.consume(r,{name:true});for(const[e,t]of s){o.consumable.consume(e,{attributes:Object.keys(t)})}if(s.size){o.writer.setAttribute("sources",Array.from(s.values()),c)}o.convertChildren(r,c)};return e=>{e.on("element:picture",n)}}function Bz(e,t){const n=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name)){return}const o=i.writer;const r=i.mapper.toViewElement(n.item);const s=e.findViewImgElement(r);if(n.attributeNewValue===null){const e=n.attributeOldValue;if(e&&e.data){o.removeAttribute("srcset",s);o.removeAttribute("sizes",s);if(e.width){o.removeAttribute("width",s)}}}else{const e=n.attributeNewValue;if(e&&e.data){o.setAttribute("srcset",e.data,s);o.setAttribute("sizes","100vw",s);if(e.width){o.setAttribute("width",e.width,s)}}}};return e=>{e.on(`attribute:srcset:${t}`,n)}}function Nz(e){const t=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name)){return}const o=i.writer;const r=i.mapper.toViewElement(n.item);const s=e.findViewImgElement(r);const a=n.attributeNewValue;if(a&&a.length){const e=o.createContainerElement("picture",null,a.map((e=>o.createEmptyElement("source",e))));const t=[];let n=s.parent;while(n&&n.is("attributeElement")){const e=n.parent;o.unwrap(o.createRangeOn(s),n);t.unshift(n);n=e}o.insert(o.createPositionBefore(s),e);o.move(o.createRangeOn(s),o.createPositionAt(e,"end"));for(const n of t){o.wrap(o.createRangeOn(e),n)}}else if(s.parent.is("element","picture")){const e=s.parent;o.move(o.createRangeOn(s),o.createPositionBefore(e));o.remove(e)}};return e=>{e.on("attribute:sources:imageBlock",t);e.on("attribute:sources:imageInline",t)}}function zz(e,t,n){const i=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name)){return}const o=i.writer;const r=i.mapper.toViewElement(n.item);const s=e.findViewImgElement(r);o.setAttribute(n.attributeKey,n.attributeNewValue||"",s)};return e=>{e.on(`attribute:${n}:${t}`,i)}}class Pz extends Tm{observe(e){this.listenTo(e,"load",((e,t)=>{const n=t.target;if(this.checkShouldIgnoreEventFromTarget(n)){return}if(n.tagName=="IMG"){this._fireEvents(t)}}),{useCapture:true})}stopObserving(e){this.stopListening(e)}_fireEvents(e){if(this.isEnabled){this.document.fire("layoutChanged");this.document.fire("imageLoaded",e)}}}class Lz extends Eu{constructor(e){super(e);const t=e.config.get("image.insert.type");if(!e.plugins.has("ImageBlockEditing")){if(t==="block"){z("image-block-plugin-required")}}if(!e.plugins.has("ImageInlineEditing")){if(t==="inline"){z("image-inline-plugin-required")}}}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=il(e.source);const n=this.editor.model.document.selection;const i=this.editor.plugins.get("ImageUtils");const o=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const r=n.getSelectedElement();if(typeof e==="string"){e={src:e}}if(t&&r&&i.isImage(r)){const t=this.editor.model.createPositionAfter(r);i.insertImage({...e,...o},t)}else{i.insertImage({...e,...o})}}))}}class Oz extends Eu{refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n);this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change((n=>{n.setAttribute("src",e.source,t);n.removeAttribute("srcset",t);n.removeAttribute("sizes",t)}))}}class Rz extends yu{static get requires(){return[uz]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor;const t=e.conversion;e.editing.view.addObserver(Pz);t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};if(e.hasAttribute("width")){t.width=e.getAttribute("width")}return t}}});const n=new Lz(e);const i=new Oz(e);e.commands.add("insertImage",n);e.commands.add("replaceImageSource",i);e.commands.add("imageInsert",n)}}class jz extends Eu{constructor(e,t){super(e);this._modelElementName=t}refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=t.getClosestSelectedImageElement(this.editor.model.document.selection);if(this._modelElementName==="imageBlock"){this.isEnabled=t.isInlineImage(n)}else{this.isEnabled=t.isBlockImage(n)}}execute(){const e=this.editor;const t=this.editor.model;const n=e.plugins.get("ImageUtils");const i=n.getClosestSelectedImageElement(t.document.selection);const o=Object.fromEntries(i.getAttributes());if(!o.src&&!o.uploadId){return null}return t.change((e=>{const r=Array.from(t.markers).filter((e=>e.getRange().containsItem(i)));const s=n.insertImage(o,t.createSelection(i,"on"),this._modelElementName);if(!s){return null}const a=e.createRangeOn(s);for(const t of r){const n=t.getRange();const i=n.root.rootName!="$graveyard"?n.getJoined(a,true):a;e.updateMarker(t,{range:i})}return{oldElement:i,newElement:s}}))}}class Fz extends yu{static get requires(){return[Rz,uz,BS]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;const t=e.model.schema;t.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]});this._setupConversion();if(e.plugins.has("ImageInlineEditing")){e.commands.add("imageTypeBlock",new jz(this.editor,"imageBlock"));this._setupClipboardIntegration()}}_setupConversion(){const e=this.editor;const t=e.t;const n=e.conversion;const i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(e,{writer:t})=>cz(t)});n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(e,{writer:n})=>i.toImageWidget(cz(n),n,t("image widget"))});n.for("downcast").add(zz(i,"imageBlock","src")).add(zz(i,"imageBlock","alt")).add(Bz(i,"imageBlock"));n.for("upcast").elementToElement({view:lz(e,"imageBlock"),model:(e,{writer:t})=>t.createElement("imageBlock",e.hasAttribute("src")?{src:e.getAttribute("src")}:undefined)}).add(Iz(i))}_setupClipboardIntegration(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=e.plugins.get("ImageUtils");const o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",((o,r)=>{const s=Array.from(r.content.getChildren());let a;if(!s.every(i.isInlineImageView)){return}if(r.targetRanges){a=e.editing.mapper.toModelRange(r.targetRanges[0])}else{a=t.document.selection.getFirstRange()}const c=t.createSelection(a);if(dz(t.schema,c)==="imageBlock"){const e=new qA(n.document);const t=s.map((t=>e.createElement("figure",{class:"image"},t)));r.content=e.createDocumentFragment(t)}}))}}var Vz=__webpack_require__(9048);var Hz={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Hz.insert="head";Hz.singleton=true;var Uz=zl()(Vz.Z,Hz);const Wz=Vz.Z.locals||{};class $z extends yu{static get requires(){return[Fz,DB,Mz]}static get pluginName(){return"ImageBlock"}}class qz extends yu{static get requires(){return[Rz,uz,BS]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor;const t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]});t.addChildCheck(((e,t)=>{if(e.endsWith("caption")&&t.name==="imageInline"){return false}}));this._setupConversion();if(e.plugins.has("ImageBlockEditing")){e.commands.add("imageTypeInline",new jz(this.editor,"imageInline"));this._setupClipboardIntegration()}}_setupConversion(){const e=this.editor;const t=e.t;const n=e.conversion;const i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(e,{writer:t})=>t.createEmptyElement("img")});n.for("editingDowncast").elementToStructure({model:"imageInline",view:(e,{writer:n})=>i.toImageWidget(az(n),n,t("image widget"))});n.for("downcast").add(zz(i,"imageInline","src")).add(zz(i,"imageInline","alt")).add(Bz(i,"imageInline"));n.for("upcast").elementToElement({view:lz(e,"imageInline"),model:(e,{writer:t})=>t.createElement("imageInline",e.hasAttribute("src")?{src:e.getAttribute("src")}:undefined)})}_setupClipboardIntegration(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=e.plugins.get("ImageUtils");const o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",((o,r)=>{const s=Array.from(r.content.getChildren());let a;if(!s.every(i.isBlockImageView)){return}if(r.targetRanges){a=e.editing.mapper.toModelRange(r.targetRanges[0])}else{a=t.document.selection.getFirstRange()}const c=t.createSelection(a);if(dz(t.schema,c)==="imageInline"){const e=new qA(n.document);const t=s.map((t=>{if(t.childCount===1){Array.from(t.getAttributes()).forEach((n=>e.setAttribute(...n,i.findViewImgElement(t))));return t.getChild(0)}else{return t}}));r.content=e.createDocumentFragment(t)}}))}}class Gz extends yu{static get requires(){return[qz,DB,Mz]}static get pluginName(){return"ImageInline"}}class Yz extends yu{static get requires(){return[$z,Gz]}static get pluginName(){return"Image"}}class Kz extends Eu{refresh(){const e=this.editor;const t=e.plugins.get("ImageCaptionUtils");const n=e.plugins.get("ImageUtils");if(!e.plugins.has(Fz)){this.isEnabled=false;this.value=false;return}const i=e.model.document.selection;const o=i.getSelectedElement();if(!o){const e=t.getCaptionFromModelSelection(i);this.isEnabled=!!e;this.value=!!e;return}this.isEnabled=n.isImage(o);if(!this.isEnabled){this.value=false}else{this.value=!!t.getCaptionFromImageModelElement(o)}}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change((e=>{if(this.value){this._hideImageCaption(e)}else{this._showImageCaption(e,t)}}))}_showImageCaption(e,t){const n=this.editor.model;const i=n.document.selection;const o=this.editor.plugins.get("ImageCaptionEditing");const r=this.editor.plugins.get("ImageUtils");let s=i.getSelectedElement();const a=o._getSavedCaption(s);if(r.isInlineImage(s)){this.editor.execute("imageTypeBlock");s=i.getSelectedElement()}const c=a||e.createElement("caption");e.append(c,s);if(t){e.setSelection(c,"in")}}_hideImageCaption(e){const t=this.editor;const n=t.model.document.selection;const i=t.plugins.get("ImageCaptionEditing");const o=t.plugins.get("ImageCaptionUtils");let r=n.getSelectedElement();let s;if(r){s=o.getCaptionFromImageModelElement(r)}else{s=o.getCaptionFromModelSelection(n);r=s.parent}i._saveCaption(r,s);e.setSelection(r,"on");e.remove(s)}}class Zz extends yu{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[uz]}getCaptionFromImageModelElement(e){for(const t of e.getChildren()){if(!!t&&t.is("element","caption")){return t}}return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils");const n=e.getFirstPosition().findAncestor("caption");if(!n){return null}if(t.isBlockImage(n.parent)){return n}return null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");if(e.name=="figcaption"&&t.isBlockImageView(e.parent)){return{name:true}}return null}}class Qz extends yu{static get requires(){return[uz,Zz]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e);this._savedCaptionsMap=new WeakMap}init(){const e=this.editor;const t=e.model.schema;if(!t.isRegistered("caption")){t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:true})}else{t.extend("caption",{allowIn:"imageBlock"})}e.commands.add("toggleImageCaption",new Kz(this.editor));this._setupConversion();this._setupImageTypeCommandsIntegration();this._registerCaptionReconversion()}_setupConversion(){const e=this.editor;const t=e.editing.view;const n=e.plugins.get("ImageUtils");const i=e.plugins.get("ImageCaptionUtils");const o=e.t;e.conversion.for("upcast").elementToElement({view:e=>i.matchImageCaptionViewElement(e),model:"caption"});e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,{writer:t})=>{if(!n.isBlockImage(e.parent)){return null}return t.createContainerElement("figcaption")}});e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,{writer:i})=>{if(!n.isBlockImage(e.parent)){return null}const r=i.createEditableElement("figcaption");i.setCustomProperty("imageCaption",true,r);Ou({view:t,element:r,text:o("Enter image caption"),keepOnFocus:true});const s=e.parent.getAttribute("alt");const a=s?o("Caption for image: %0",[s]):o("Caption for the image");return GS(r,i,{label:a})}})}_setupImageTypeCommandsIntegration(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=e.plugins.get("ImageCaptionUtils");const i=e.commands.get("imageTypeInline");const o=e.commands.get("imageTypeBlock");const r=e=>{if(!e.return){return}const{oldElement:i,newElement:o}=e.return;if(!i){return}if(t.isBlockImage(i)){const e=n.getCaptionFromImageModelElement(i);if(e){this._saveCaption(o,e);return}}const r=this._getSavedCaption(i);if(r){this._saveCaption(o,r)}};if(i){this.listenTo(i,"execute",r,{priority:"low"})}if(o){this.listenTo(o,"execute",r,{priority:"low"})}}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?_b.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor;const t=e.model;const n=e.plugins.get("ImageUtils");const i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",(()=>{const o=t.document.differ.getChanges();for(const t of o){if(t.attributeKey!=="alt"){continue}const o=t.range.start.nodeAfter;if(n.isBlockImage(o)){const t=i.getCaptionFromImageModelElement(o);if(!t){return}e.editing.reconvertItem(t)}}}))}}class Jz extends yu{static get requires(){return[Zz]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor;const t=e.editing.view;const n=e.plugins.get("ImageCaptionUtils");const i=e.t;e.ui.componentFactory.add("toggleImageCaption",(o=>{const r=e.commands.get("toggleImageCaption");const s=new yd(o);s.set({icon:DC.caption,tooltip:true,isToggleable:true});s.bind("isOn","isEnabled").to(r,"value","isEnabled");s.bind("label").to(r,"value",(e=>e?i("Toggle caption off"):i("Toggle caption on")));this.listenTo(s,"execute",(()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:true});const i=n.getCaptionFromModelSelection(e.model.document.selection);if(i){const n=e.editing.mapper.toViewElement(i);t.scrollToTheSelection();t.change((e=>{e.addClass("image__caption_highlighted",n)}))}e.editing.view.focus()}));return s}))}}var Xz=__webpack_require__(8662);var eP={injectType:"singletonStyleTag",attributes:{"data-cke":true}};eP.insert="head";eP.singleton=true;var tP=zl()(Xz.Z,eP);const nP=Xz.Z.locals||{};class iP extends yu{static get requires(){return[Qz,Jz]}static get pluginName(){return"ImageCaption"}}function oP(e){const t=e.map((e=>e.replace("+","\\+")));return new RegExp(`^image\\/(${t.join("|")})$`)}function rP(e){return new Promise(((t,n)=>{const i=e.getAttribute("src");fetch(i).then((e=>e.blob())).then((e=>{const n=aP(e,i);const o=n.replace("image/","");const r=`image.${o}`;const s=new File([e],r,{type:n});t(s)})).catch((e=>e&&e.name==="TypeError"?cP(i).then(t).catch(n):n(e)))}))}function sP(e,t){if(!e.isInlineImageView(t)||!t.getAttribute("src")){return false}return!!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!t.getAttribute("src").match(/^blob:/g)}function aP(e,t){if(e.type){return e.type}else if(t.match(/data:(image\/\w+);base64/)){return t.match(/data:(image\/\w+);base64/)[1].toLowerCase()}else{return"image/jpeg"}}function cP(e){return lP(e).then((t=>{const n=aP(t,e);const i=n.replace("image/","");const o=`image.${i}`;return new File([t],o,{type:n})}))}function lP(e){return new Promise(((t,n)=>{const i=nc.document.createElement("img");i.addEventListener("load",(()=>{const e=nc.document.createElement("canvas");e.width=i.width;e.height=i.height;const o=e.getContext("2d");o.drawImage(i,0,0);e.toBlob((e=>e?t(e):n()))}));i.addEventListener("error",(()=>n()));i.src=e}))}class dP extends yu{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor;const t=e.t;const n=n=>{const i=new XI(n);const o=e.commands.get("uploadImage");const r=e.config.get("image.upload.types");const s=oP(r);i.set({acceptedType:r.map((e=>`image/${e}`)).join(","),allowMultipleFiles:true});i.buttonView.set({label:t("Insert image"),icon:DC.image,tooltip:true});i.buttonView.bind("isEnabled").to(o);i.on("done",((t,n)=>{const i=Array.from(n).filter((e=>s.test(e.type)));if(i.length){e.execute("uploadImage",{file:i});e.editing.view.focus()}}));return i};e.ui.componentFactory.add("uploadImage",n);e.ui.componentFactory.add("imageUpload",n)}}var uP=__webpack_require__(5870);var hP={injectType:"singletonStyleTag",attributes:{"data-cke":true}};hP.insert="head";hP.singleton=true;var fP=zl()(uP.Z,hP);const gP=uP.Z.locals||{};var mP=__webpack_require__(9899);var pP={injectType:"singletonStyleTag",attributes:{"data-cke":true}};pP.insert="head";pP.singleton=true;var bP=zl()(mP.Z,pP);const kP=mP.Z.locals||{};var wP=__webpack_require__(9825);var _P={injectType:"singletonStyleTag",attributes:{"data-cke":true}};_P.insert="head";_P.singleton=true;var AP=zl()(wP.Z,_P);const vP=wP.Z.locals||{};class CP extends yu{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e);this.uploadStatusChange=(e,t,n)=>{const i=this.editor;const o=t.item;const r=o.getAttribute("uploadId");if(!n.consumable.consume(t.item,e.name)){return}const s=i.plugins.get("ImageUtils");const a=i.plugins.get(QI);const c=r?t.attributeNewValue:null;const l=this.placeholder;const d=i.editing.mapper.toViewElement(o);const u=n.writer;if(c=="reading"){yP(d,u);EP(s,l,d,u);return}if(c=="uploading"){const e=a.loaders.get(r);yP(d,u);if(!e){EP(s,l,d,u)}else{DP(d,u);TP(d,u,e,i.editing.view);PP(s,d,u,e)}return}if(c=="complete"&&a.loaders.get(r)){IP(d,u,i.editing.view)}MP(d,u);DP(d,u);xP(d,u)};this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;if(e.plugins.has("ImageBlockEditing")){e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange)}if(e.plugins.has("ImageInlineEditing")){e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}}function yP(e,t){if(!e.hasClass("ck-appear")){t.addClass("ck-appear",e)}}function xP(e,t){t.removeClass("ck-appear",e)}function EP(e,t,n,i){if(!n.hasClass("ck-image-upload-placeholder")){i.addClass("ck-image-upload-placeholder",n)}const o=e.findViewImgElement(n);if(o.getAttribute("src")!==t){i.setAttribute("src",t,o)}if(!NP(n,"placeholder")){i.insert(i.createPositionAfter(o),BP(i))}}function DP(e,t){if(e.hasClass("ck-image-upload-placeholder")){t.removeClass("ck-image-upload-placeholder",e)}zP(e,t,"placeholder")}function TP(e,t,n,i){const o=SP(t);t.insert(t.createPositionAt(e,"end"),o);n.on("change:uploadedPercent",((e,t,n)=>{i.change((e=>{e.setStyle("width",n+"%",o)}))}))}function MP(e,t){zP(e,t,"progressBar")}function IP(e,t,n){const i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),i);setTimeout((()=>{n.change((e=>e.remove(e.createRangeOn(i))))}),3e3)}function SP(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});e.setCustomProperty("progressBar",true,t);return t}function BP(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});e.setCustomProperty("placeholder",true,t);return t}function NP(e,t){for(const n of e.getChildren()){if(n.getCustomProperty(t)){return n}}}function zP(e,t,n){const i=NP(e,n);if(i){t.remove(t.createRangeOn(i))}}function PP(e,t,n,i){if(i.data){const o=e.findViewImgElement(t);n.setAttribute("src",i.data,o)}}class LP extends Eu{refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=il(e.file);const n=this.editor.model.document.selection;const i=this.editor.plugins.get("ImageUtils");const o=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const r=n.getSelectedElement();if(t&&r&&i.isImage(r)){const t=this.editor.model.createPositionAfter(r);this._uploadImage(e,o,t)}else{this._uploadImage(e,o)}}))}_uploadImage(e,t,n){const i=this.editor;const o=i.plugins.get(QI);const r=o.createLoader(e);const s=i.plugins.get("ImageUtils");if(!r){return}s.insertImage({...t,uploadId:r.id},n)}}class OP extends yu{static get requires(){return[QI,SE,BS,uz]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e);e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}});this._uploadImageElements=new Map}init(){const e=this.editor;const t=e.model.document;const n=e.conversion;const i=e.plugins.get(QI);const o=e.plugins.get("ImageUtils");const r=e.plugins.get("ClipboardPipeline");const s=oP(e.config.get("image.upload.types"));const a=new LP(e);e.commands.add("uploadImage",a);e.commands.add("imageUpload",a);n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"});this.listenTo(e.editing.view.document,"clipboardInput",((t,n)=>{if(RP(n.dataTransfer)){return}const i=Array.from(n.dataTransfer.files).filter((e=>{if(!e){return false}return s.test(e.type)}));if(!i.length){return}t.stop();e.model.change((t=>{if(n.targetRanges){t.setSelection(n.targetRanges.map((t=>e.editing.mapper.toModelRange(t))))}e.model.enqueueChange((()=>{e.execute("uploadImage",{file:i})}))}))}));this.listenTo(r,"inputTransformation",((t,n)=>{const r=Array.from(e.editing.view.createRangeIn(n.content)).map((e=>e.item)).filter((e=>sP(o,e)&&!e.getAttribute("uploadProcessed"))).map((e=>({promise:rP(e),imageElement:e})));if(!r.length){return}const s=new qA(e.editing.view.document);for(const e of r){s.setAttribute("uploadProcessed",true,e.imageElement);const t=i.createLoader(e.promise);if(t){s.setAttribute("src","",e.imageElement);s.setAttribute("uploadId",t.id,e.imageElement)}}}));e.editing.view.document.on("dragover",((e,t)=>{t.preventDefault()}));t.on("change",(()=>{const n=t.differ.getChanges({includeChangesInGraveyard:true}).reverse();const o=new Set;for(const t of n){if(t.type=="insert"&&t.name!="$text"){const n=t.position.nodeAfter;const r=t.position.root.rootName=="$graveyard";for(const t of jP(e,n)){const e=t.getAttribute("uploadId");if(!e){continue}const n=i.loaders.get(e);if(!n){continue}if(r){if(!o.has(e)){n.abort()}}else{o.add(e);this._uploadImageElements.set(e,t);if(n.status=="idle"){this._readAndUpload(n)}}}}}}));this.on("uploadComplete",((e,{imageElement:t,data:n})=>{const i=n.urls?n.urls:n;this.editor.model.change((e=>{e.setAttribute("src",i.default,t);this._parseAndSetSrcsetAttributeOnImage(i,t,e)}))}),{priority:"low"})}afterInit(){const e=this.editor.model.schema;if(this.editor.plugins.has("ImageBlockEditing")){e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]})}if(this.editor.plugins.has("ImageInlineEditing")){e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}}_readAndUpload(e){const t=this.editor;const n=t.model;const i=t.locale.t;const o=t.plugins.get(QI);const r=t.plugins.get(SE);const s=t.plugins.get("ImageUtils");const c=this._uploadImageElements;n.enqueueChange({isUndoable:false},(t=>{t.setAttribute("uploadStatus","reading",c.get(e.id))}));return e.read().then((()=>{const i=e.upload();const o=c.get(e.id);if(a.isSafari){const e=t.editing.mapper.toViewElement(o);const n=s.findViewImgElement(e);t.editing.view.once("render",(()=>{if(!n.parent){return}const e=t.editing.view.domConverter.mapViewToDom(n.parent);if(!e){return}const i=e.style.display;e.style.display="none";e._ckHack=e.offsetHeight;e.style.display=i}))}n.enqueueChange({isUndoable:false},(e=>{e.setAttribute("uploadStatus","uploading",o)}));return i})).then((t=>{n.enqueueChange({isUndoable:false},(n=>{const i=c.get(e.id);n.setAttribute("uploadStatus","complete",i);this.fire("uploadComplete",{data:t,imageElement:i})}));l()})).catch((t=>{if(e.status!=="error"&&e.status!=="aborted"){throw t}if(e.status=="error"&&t){r.showWarning(t,{title:i("Upload failed"),namespace:"upload"})}n.enqueueChange({isUndoable:false},(t=>{t.remove(c.get(e.id))}));l()}));function l(){n.enqueueChange({isUndoable:false},(t=>{const n=c.get(e.id);t.removeAttribute("uploadId",n);t.removeAttribute("uploadStatus",n);c.delete(e.id)}));o.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let i=0;const o=Object.keys(e).filter((e=>{const t=parseInt(e,10);if(!isNaN(t)){i=Math.max(i,t);return true}})).map((t=>`${e[t]} ${t}w`)).join(", ");if(o!=""){n.setAttribute("srcset",{data:o,width:i},t)}}}function RP(e){return Array.from(e.types).includes("text/html")&&e.getData("text/html")!==""}function jP(e,t){const n=e.plugins.get("ImageUtils");return Array.from(e.model.createRangeOn(t)).filter((e=>n.isImage(e.item))).map((e=>e.item))}class FP extends yu{static get pluginName(){return"ImageUpload"}static get requires(){return[OP,dP,CP]}}var VP=__webpack_require__(5150);var HP={injectType:"singletonStyleTag",attributes:{"data-cke":true}};HP.insert="head";HP.singleton=true;var UP=zl()(VP.Z,HP);const WP=VP.Z.locals||{};class $P extends jl{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set("class",t.class||null);this.children=this.createCollection();if(t.children){t.children.forEach((e=>this.children.add(e)))}this.set("_role",null);this.set("_ariaLabelledBy",null);if(t.labelView){this.set({_role:"group",_ariaLabelledBy:t.labelView.id})}this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}var qP=__webpack_require__(9292);var GP={injectType:"singletonStyleTag",attributes:{"data-cke":true}};GP.insert="head";GP.singleton=true;var YP=zl()(qP.Z,GP);const KP=qP.Z.locals||{};class ZP extends jl{constructor(e,t={}){super(e);const{insertButtonView:n,cancelButtonView:i}=this._createActionButtons(e);this.insertButtonView=n;this.cancelButtonView=i;this.set("imageURLInputValue","");this.focusTracker=new ml;this.keystrokes=new pl;this._focusables=new Sl;this._focusCycler=new ku({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.set("_integrations",new fl);for(const[e,n]of Object.entries(t)){if(e==="insertImageViaUrl"){n.fieldView.bind("value").to(this,"imageURLInputValue",(e=>e||""));n.fieldView.on("input",(()=>{this.imageURLInputValue=n.fieldView.element.value.trim()}))}n.name=e;this._integrations.add(n)}this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new $P(e,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render();n({view:this});const e=[...this._integrations,this.insertButtonView,this.cancelButtonView];e.forEach((e=>{this._focusables.add(e);this.focusTracker.add(e.element)}));this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t);this.keystrokes.set("arrowleft",t);this.keystrokes.set("arrowup",t);this.keystrokes.set("arrowdown",t)}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}getIntegration(e){return this._integrations.find((t=>t.name===e))}_createActionButtons(e){const t=e.t;const n=new yd(e);const i=new yd(e);n.set({label:t("Insert"),icon:DC.check,class:"ck-button-save",type:"submit",withText:true,isEnabled:this.imageURLInputValue});i.set({label:t("Cancel"),icon:DC.cancel,class:"ck-button-cancel",withText:true});n.bind("isEnabled").to(this,"imageURLInputValue",(e=>!!e));n.delegate("execute").to(this,"submit");i.delegate("execute").to(this,"cancel");return{insertButtonView:n,cancelButtonView:i}}focus(){this._focusCycler.focusFirst()}}function QP(e){const t=e.config.get("image.insert.integrations");const n=e.plugins.get("ImageInsertUI");const i={insertImageViaUrl:JP(e.locale)};if(!t){return i}if(t.find((e=>e==="openCKFinder"))&&e.ui.componentFactory.has("ckfinder")){const t=e.ui.componentFactory.create("ckfinder");t.set({withText:true,class:"ck-image-insert__ck-finder-button"});t.delegate("execute").to(n,"cancel");i.openCKFinder=t}return t.reduce(((t,n)=>{if(i[n]){t[n]=i[n]}else if(e.ui.componentFactory.has(n)){t[n]=e.ui.componentFactory.create(n)}return t}),{})}function JP(e){const t=e.t;const n=new tu(e,by);n.set({label:t("Insert image via URL")});n.fieldView.placeholder="https://example.com/image.png";return n}class XP extends yu{static get pluginName(){return"ImageInsertUI"}init(){const e=this.editor;const t=e=>this._createDropdownView(e);e.ui.componentFactory.add("insertImage",t);e.ui.componentFactory.add("imageInsert",t)}_createDropdownView(e){const t=this.editor;const n=e.t;const i=t.commands.get("uploadImage");const o=t.commands.get("insertImage");this.dropdownView=oy(e,i?KC:undefined);const r=this.dropdownView.buttonView;const s=this.dropdownView.panelView;r.set({label:n("Insert image"),icon:DC.image,tooltip:true});s.extendTemplate({attributes:{class:"ck-image-insert__panel"}});if(i){const e=this.dropdownView.buttonView;e.actionView=t.ui.componentFactory.create("uploadImage");e.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(i||o)}_setUpDropdown(e){const t=this.editor;const n=t.t;const i=this.dropdownView;const o=i.panelView;const r=this.editor.plugins.get("ImageUtils");const s=t.commands.get("replaceImageSource");let a;i.bind("isEnabled").to(e);i.once("change:isOpen",(()=>{a=new ZP(t.locale,QP(t));a.delegate("submit","cancel").to(i);o.children.add(a)}));i.on("change:isOpen",(()=>{const e=t.model.document.selection.getSelectedElement();const o=a.insertButtonView;const c=a.getIntegration("insertImageViaUrl");if(i.isOpen){if(r.isImage(e)){a.imageURLInputValue=s.value;o.label=n("Update");c.label=n("Update image URL")}else{a.imageURLInputValue="";o.label=n("Insert");c.label=n("Insert image via URL")}}}),{priority:"low"});this.delegate("cancel").to(i);i.on("submit",(()=>{l();c()}));i.on("cancel",(()=>{l()}));function c(){const e=t.model.document.selection.getSelectedElement();if(r.isImage(e)){t.execute("replaceImageSource",{source:a.imageURLInputValue})}else{t.execute("insertImage",{source:a.imageURLInputValue})}}function l(){t.editing.view.focus();i.isOpen=false}return i}}class eL extends yu{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[XP]}}class tL extends yu{static get pluginName(){return"ImageInsert"}static get requires(){return[FP,eL,XP]}}class nL extends Eu{refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=t.getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!n;if(!n||!n.hasAttribute("width")){this.value=null}else{this.value={width:n.getAttribute("width"),height:null}}}execute(e){const t=this.editor;const n=t.model;const i=t.plugins.get("ImageUtils");const o=i.getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null};if(o){n.change((t=>{t.setAttribute("width",e.width,o)}))}}}class iL extends yu{static get requires(){return[uz]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e);e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor;const t=new nL(e);this._registerSchema();this._registerConverters("imageBlock");this._registerConverters("imageInline");e.commands.add("resizeImage",t);e.commands.add("imageResize",t)}_registerSchema(){if(this.editor.plugins.has("ImageBlockEditing")){this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"})}if(this.editor.plugins.has("ImageInlineEditing")){this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}}_registerConverters(e){const t=this.editor;t.conversion.for("downcast").add((t=>t.on(`attribute:width:${e}`,((e,t,n)=>{if(!n.consumable.consume(t.item,e.name)){return}const i=n.writer;const o=n.mapper.toViewElement(t.item);if(t.attributeNewValue!==null){i.setStyle("width",t.attributeNewValue,o);i.addClass("image_resized",o)}else{i.removeStyle("width",o);i.removeClass("image_resized",o)}}))));t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:e=>e.getStyle("width")}})}}const oL={small:DC.objectSizeSmall,medium:DC.objectSizeMedium,large:DC.objectSizeLarge,original:DC.objectSizeFull};class rL extends yu{static get requires(){return[iL]}static get pluginName(){return"ImageResizeButtons"}constructor(e){super(e);this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor;const t=e.config.get("image.resizeOptions");const n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const e of t){this._registerImageResizeButton(e)}this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor;const{name:n,value:i,icon:o}=e;const r=i?i+this._resizeUnit:null;t.ui.componentFactory.add(n,(n=>{const i=new yd(n);const s=t.commands.get("resizeImage");const a=this._getOptionLabelValue(e,true);if(!oL[o]){throw new N("imageresizebuttons-missing-icon",t,e)}i.set({label:a,icon:oL[o],tooltip:a,isToggleable:true});i.bind("isEnabled").to(this);i.bind("isOn").to(s,"value",sL(r));this.listenTo(i,"execute",(()=>{t.execute("resizeImage",{width:r})}));return i}))}_registerImageResizeDropdown(e){const t=this.editor;const n=t.t;const i=e.find((e=>!e.value));const o=o=>{const r=t.commands.get("resizeImage");const s=oy(o,bu);const a=s.buttonView;const c=n("Resize image");a.set({tooltip:c,commandValue:i.value,icon:oL.medium,isToggleable:true,label:this._getOptionLabelValue(i),withText:true,class:"ck-resize-image-button",ariaLabel:c,ariaLabelledBy:undefined});a.bind("label").to(r,"value",(e=>{if(e&&e.width){return e.width}else{return this._getOptionLabelValue(i)}}));s.bind("isEnabled").to(this);ay(s,(()=>this._getResizeDropdownListItemDefinitions(e,r)),{ariaLabel:n("Image resize list"),role:"menu"});this.listenTo(s,"execute",(e=>{t.execute(e.source.commandName,{width:e.source.commandValue});t.editing.view.focus()}));return s};t.ui.componentFactory.add("resizeImage",o);t.ui.componentFactory.add("imageResize",o)}_getOptionLabelValue(e,t=false){const n=this.editor.t;if(e.label){return e.label}else if(t){if(e.value){return n("Resize image to %0",e.value+this._resizeUnit)}else{return n("Resize image to the original size")}}else{if(e.value){return e.value+this._resizeUnit}else{return n("Original")}}}_getResizeDropdownListItemDefinitions(e,t){const n=new fl;e.map((e=>{const i=e.value?e.value+this._resizeUnit:null;const o={type:"button",model:new BE({commandName:"resizeImage",commandValue:i,label:this._getOptionLabelValue(e),role:"menuitemradio",withText:true,icon:null})};o.model.bind("isOn").to(t,"value",sL(i));n.add(o)}));return n}}function sL(e){return t=>{const n=t;if(e===null&&n===e){return true}return n!==null&&n.width===e}}const aL="figure.image.ck-widget > img,"+"figure.image.ck-widget > picture > img,"+"figure.image.ck-widget > a > img,"+"figure.image.ck-widget > a > picture > img,"+"span.image-inline.ck-widget > img,"+"span.image-inline.ck-widget > picture > img";const cL=/(image|image-inline)/;const lL="image_resized";class dL extends yu{static get requires(){return[KB]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e);this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor;const t=e.editing.view;t.addObserver(Pz);this.listenTo(t.document,"imageLoaded",((n,i)=>{if(!i.target.matches(aL)){return}const o=e.editing.view.domConverter;const r=o.domToView(i.target);const s=r.findAncestor({classes:cL});let a=this.editor.plugins.get(KB).getResizerByViewElement(s);if(a){a.redraw();return}const c=e.editing.mapper;const l=c.toModelElement(s);a=e.plugins.get(KB).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:l,viewElement:s,editor:e,getHandleHost(e){return e.querySelector("img")},getResizeHost(){return o.mapViewToDom(c.toViewElement(l.parent))},isCentered(){const e=l.getAttribute("imageStyle");return!e||e=="block"||e=="alignCenter"},onCommit(n){t.change((e=>{e.removeClass(lL,s)}));e.execute("resizeImage",{width:n})}});a.on("updateSize",(()=>{if(!s.hasClass(lL)){t.change((e=>{e.addClass(lL,s)}))}}));a.bind("isEnabled").to(this)}))}}var uL=__webpack_require__(1043);var hL={injectType:"singletonStyleTag",attributes:{"data-cke":true}};hL.insert="head";hL.singleton=true;var fL=zl()(uL.Z,hL);const gL=uL.Z.locals||{};class mL extends yu{static get requires(){return[iL,dL,rL]}static get pluginName(){return"ImageResize"}}class pL extends Eu{constructor(e,t){super(e);this._defaultStyles={imageBlock:false,imageInline:false};this._styles=new Map(t.map((e=>{if(e.isDefault){for(const t of e.modelElements){this._defaultStyles[t]=e.name}}return[e.name,e]})))}refresh(){const e=this.editor;const t=e.plugins.get("ImageUtils");const n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n;if(!this.isEnabled){this.value=false}else if(n.hasAttribute("imageStyle")){this.value=n.getAttribute("imageStyle")}else{this.value=this._defaultStyles[n.name]}}execute(e={}){const t=this.editor;const n=t.model;const i=t.plugins.get("ImageUtils");n.change((t=>{const o=e.value;let r=i.getClosestSelectedImageElement(n.document.selection);if(o&&this.shouldConvertImageType(o,r)){this.editor.execute(i.isBlockImage(r)?"imageTypeInline":"imageTypeBlock");r=i.getClosestSelectedImageElement(n.document.selection)}if(!o||this._styles.get(o).isDefault){t.removeAttribute("imageStyle",r)}else{t.setAttribute("imageStyle",o,r)}}))}shouldConvertImageType(e,t){const n=this._styles.get(e).modelElements;return!n.includes(t.name)}}const{objectFullWidth:bL,objectInline:kL,objectLeft:wL,objectRight:_L,objectCenter:AL,objectBlockLeft:vL,objectBlockRight:CL}=DC;const yL={get inline(){return{name:"inline",title:"In line",icon:kL,modelElements:["imageInline"],isDefault:true}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:wL,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:vL,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:AL,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:_L,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:CL,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:AL,modelElements:["imageBlock"],isDefault:true}},get side(){return{name:"side",title:"Side image",icon:_L,modelElements:["imageBlock"],className:"image-style-side"}}};const xL={full:bL,left:vL,right:CL,center:AL,inlineLeft:wL,inlineRight:_L,inline:kL};const EL=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function DL(e){const t=e.configuredStyles.options||[];const n=t.map((e=>IL(e))).filter((t=>SL(t,e)));return n}function TL(e,t){if(e&&t){return{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}}else if(e){return{options:["block","side"]}}else if(t){return{options:["inline","alignLeft","alignRight"]}}return{}}function ML(e){if(e.has("ImageBlockEditing")&&e.has("ImageInlineEditing")){return[...EL]}else{return[]}}function IL(e){if(typeof e==="string"){if(!yL[e]){e={name:e}}else{e={...yL[e]}}}else{e=BL(yL[e.name],e)}if(typeof e.icon==="string"){e.icon=xL[e.icon]||e.icon}return e}function SL(e,{isBlockPluginLoaded:t,isInlinePluginLoaded:n}){const{modelElements:i,name:o}=e;if(!i||!i.length||!o){NL({style:e});return false}else{const o=[t?"imageBlock":null,n?"imageInline":null];if(!i.some((e=>o.includes(e)))){z("image-style-missing-dependency",{style:e,missingPlugins:i.map((e=>e==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"))});return false}}return true}function BL(e,t){const n={...t};for(const i in e){if(!Object.prototype.hasOwnProperty.call(t,i)){n[i]=e[i]}}return n}function NL(e){z("image-style-configuration-definition-invalid",e)}const zL={normalizeStyles:DL,getDefaultStylesConfiguration:TL,getDefaultDropdownDefinitions:ML,warnInvalidStyle:NL,DEFAULT_OPTIONS:yL,DEFAULT_ICONS:xL,DEFAULT_DROPDOWN_DEFINITIONS:EL};function PL(e){return(t,n,i)=>{if(!i.consumable.consume(n.item,t.name)){return}const o=OL(n.attributeNewValue,e);const r=OL(n.attributeOldValue,e);const s=i.mapper.toViewElement(n.item);const a=i.writer;if(r){a.removeClass(r.className,s)}if(o){a.addClass(o.className,s)}}}function LL(e){const t={imageInline:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageInline"))),imageBlock:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageBlock")))};return(e,n,i)=>{if(!n.modelRange){return}const o=n.viewItem;const r=gl(n.modelRange.getItems());if(!r){return}if(!i.schema.checkAttribute(r,"imageStyle")){return}for(const e of t[r.name]){if(i.consumable.consume(o,{classes:e.className})){i.writer.setAttribute("imageStyle",e.name,r)}}}}function OL(e,t){for(const n of t){if(n.name===e){return n}}}class RL extends yu{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[uz]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=zL;const n=this.editor;const i=n.plugins.has("ImageBlockEditing");const o=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(i,o));this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:o});this._setupConversion(i,o);this._setupPostFixer();n.commands.add("imageStyle",new pL(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor;const i=n.model.schema;const o=PL(this.normalizedStyles);const r=LL(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",o);n.data.downcastDispatcher.on("attribute:imageStyle",o);if(e){i.extend("imageBlock",{allowAttributes:"imageStyle"});n.data.upcastDispatcher.on("element:figure",r,{priority:"low"})}if(t){i.extend("imageInline",{allowAttributes:"imageStyle"});n.data.upcastDispatcher.on("element:img",r,{priority:"low"})}}_setupPostFixer(){const e=this.editor;const t=e.model.document;const n=e.plugins.get(uz);const i=new Map(this.normalizedStyles.map((e=>[e.name,e])));t.registerPostFixer((e=>{let o=false;for(const r of t.differ.getChanges()){if(r.type=="insert"||r.type=="attribute"&&r.attributeKey=="imageStyle"){let t=r.type=="insert"?r.position.nodeAfter:r.range.start.nodeAfter;if(t&&t.is("element","paragraph")&&t.childCount>0){t=t.getChild(0)}if(!n.isImage(t)){continue}const s=t.getAttribute("imageStyle");if(!s){continue}const a=i.get(s);if(!a||!a.modelElements.includes(t.name)){e.removeAttribute("imageStyle",t);o=true}}}return o}))}}var jL=__webpack_require__(4622);var FL={injectType:"singletonStyleTag",attributes:{"data-cke":true}};FL.insert="head";FL.singleton=true;var VL=zl()(jL.Z,FL);const HL=jL.Z.locals||{};class UL extends yu{static get requires(){return[RL]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins;const t=this.editor.config.get("image.toolbar")||[];const n=e.get("ImageStyleEditing");const i=WL(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const e of i){this._createButton(e)}const o=WL([...t.filter(se),...zL.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const e of o){this._createDropdown(e,i)}}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,(i=>{let o;const{defaultItem:r,items:s,title:a}=e;const c=s.filter((e=>t.find((({name:t})=>$L(t)===e)))).map((e=>{const t=n.create(e);if(e===r){o=t}return t}));if(s.length!==c.length){zL.warnInvalidStyle({dropdown:e})}const l=oy(i,KC);const d=l.buttonView;const u=d.arrowView;ry(l,c,{enableActiveItemFocusOnDropdownOpen:true});d.set({label:qL(a,o.label),class:null,tooltip:true});u.unbind("label");u.set({label:a});d.bind("icon").toMany(c,"isOn",((...e)=>{const t=e.findIndex(bf);return t<0?o.icon:c[t].icon}));d.bind("label").toMany(c,"isOn",((...e)=>{const t=e.findIndex(bf);return qL(a,t<0?o.label:c[t].label)}));d.bind("isOn").toMany(c,"isOn",((...e)=>e.some(bf)));d.bind("class").toMany(c,"isOn",((...e)=>e.some(bf)?"ck-splitbutton_flatten":undefined));d.on("execute",(()=>{if(!c.some((({isOn:e})=>e))){o.fire("execute")}else{l.isOpen=!l.isOpen}}));l.bind("isEnabled").toMany(c,"isEnabled",((...e)=>e.some(bf)));this.listenTo(l,"execute",(()=>{this.editor.editing.view.focus()}));return l}))}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add($L(t),(n=>{const i=this.editor.commands.get("imageStyle");const o=new yd(n);o.set({label:e.title,icon:e.icon,tooltip:true,isToggleable:true});o.bind("isEnabled").to(i,"isEnabled");o.bind("isOn").to(i,"value",(e=>e===t));o.on("execute",this._executeCommand.bind(this,t));return o}))}_executeCommand(e){this.editor.execute("imageStyle",{value:e});this.editor.editing.view.focus()}}function WL(e,t){for(const n of e){if(t[n.title]){n.title=t[n.title]}}return e}function $L(e){return`imageStyle:${e}`}function qL(e,t){return(e?e+": ":"")+t}class GL extends yu{static get requires(){return[RL,UL]}static get pluginName(){return"ImageStyle"}}class YL extends yu{static get requires(){return[IB,uz]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor;const t=e.t;const n=e.plugins.get(IB);const i=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:KL(e.config.get("image.toolbar")||[]),getRelatedElement:e=>i.getClosestSelectedImageWidget(e)})}}function KL(e){return e.map((e=>se(e)?e.name:e))}class ZL extends yu{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Tu(e));e.commands.add("outdent",new Tu(e))}}const QL='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>';const JL='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class XL extends yu{static get pluginName(){return"IndentUI"}init(){const e=this.editor;const t=e.locale;const n=e.t;const i=t.uiLanguageDirection=="ltr"?QL:JL;const o=t.uiLanguageDirection=="ltr"?JL:QL;this._defineButton("indent",n("Increase indent"),i);this._defineButton("outdent",n("Decrease indent"),o)}_defineButton(e,t,n){const i=this.editor;i.ui.componentFactory.add(e,(o=>{const r=i.commands.get(e);const s=new yd(o);s.set({label:t,icon:n,tooltip:true});s.bind("isEnabled").to(r,"isEnabled");this.listenTo(s,"execute",(()=>{i.execute(e);i.editing.view.focus()}));return s}))}}class eO extends yu{static get pluginName(){return"Indent"}static get requires(){return[ZL,XL]}}class tO extends Eu{constructor(e,t){super(e);this._indentBehavior=t}refresh(){const e=this.editor;const t=e.model;const n=gl(t.document.selection.getSelectedBlocks());if(!n||!t.schema.checkAttribute(n,"blockIndent")){this.isEnabled=false;return}this.isEnabled=this._indentBehavior.checkEnabled(n.getAttribute("blockIndent"))}execute(){const e=this.editor.model;const t=nO(e);e.change((e=>{for(const n of t){const t=n.getAttribute("blockIndent");const i=this._indentBehavior.getNextIndent(t);if(i){e.setAttribute("blockIndent",i,n)}else{e.removeAttribute("blockIndent",n)}}}))}}function nO(e){const t=e.document.selection;const n=e.schema;const i=Array.from(t.getSelectedBlocks());return i.filter((e=>n.checkAttribute(e,"blockIndent")))}class iO{constructor(e){this.isForward=e.direction==="forward";this.offset=e.offset;this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");const n=!e||e.endsWith(this.unit);if(!n){return this.isForward?this.offset+this.unit:undefined}const i=this.isForward?this.offset:-this.offset;const o=t+i;return o>0?o+this.unit:undefined}}class oO{constructor(e){this.isForward=e.direction==="forward";this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);if(this.isForward){return t<this.classes.length-1}else{return t>=0}}getNextIndent(e){const t=this.classes.indexOf(e);const n=this.isForward?1:-1;return this.classes[t+n]}}const rO=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class sO extends yu{constructor(e){super(e);e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const e=this.editor;const t=e.config.get("indentBlock");if(t.classes&&t.classes.length){this._setupConversionUsingClasses(t.classes);e.commands.add("indentBlock",new tO(e,new oO({direction:"forward",classes:t.classes})));e.commands.add("outdentBlock",new tO(e,new oO({direction:"backward",classes:t.classes})))}else{e.data.addStyleProcessorRules(Lv);this._setupConversionUsingOffset();e.commands.add("indentBlock",new tO(e,new iO({direction:"forward",offset:t.offset,unit:t.unit})));e.commands.add("outdentBlock",new tO(e,new iO({direction:"backward",offset:t.offset,unit:t.unit})))}}afterInit(){const e=this.editor;const t=e.model.schema;const n=e.commands.get("indent");const i=e.commands.get("outdent");const o=e.config.get("heading.options");const r=o&&o.map((e=>e.model));const s=r||rO;s.forEach((e=>{if(t.isRegistered(e)){t.extend(e,{allowAttributes:"blockIndent"})}}));t.setAttributeProperties("blockIndent",{isFormatting:true});n.registerChildCommand(e.commands.get("indentBlock"));i.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion;const t=this.editor.locale;const n=t.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[n]:/[\s\S]+/}},model:{key:"blockIndent",value:e=>e.getStyle(n)}});e.for("downcast").attributeToAttribute({model:"blockIndent",view:e=>({key:"style",value:{[n]:e}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const n of e){t.model.values.push(n);t.view[n]={key:"class",value:[n]}}this.editor.conversion.attributeToAttribute(t)}}const aO="italic";class cO extends yu{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:aO});e.model.schema.setAttributeProperties(aO,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:aO,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]});e.commands.add(aO,new DI(e,aO));e.keystrokes.set("CTRL+I",aO)}}const lO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const dO="italic";class uO extends yu{static get pluginName(){return"ItalicUI"}init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(dO,(n=>{const i=e.commands.get(dO);const o=new yd(n);o.set({label:t("Italic"),icon:lO,keystroke:"CTRL+I",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(i,"value","isEnabled");this.listenTo(o,"execute",(()=>{e.execute(dO);e.editing.view.focus()}));return o}))}}class hO extends yu{static get requires(){return[cO,uO]}static get pluginName(){return"Italic"}}class fO{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){if(Array.isArray(e)){e.forEach((e=>this._definitions.add(e)))}else{this._definitions.add(e)}}getDispatcher(){return e=>{e.on("attribute:linkHref",((e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref")){return}if(!(t.item.is("selection")||n.schema.isInline(t.item))){return}const i=n.writer;const o=i.document.selection;for(const e of this._definitions){const r=i.createAttributeElement("a",e.attributes,{priority:5});if(e.classes){i.addClass(e.classes,r)}for(const t in e.styles){i.setStyle(t,e.styles[t],r)}i.setCustomProperty("link",true,r);if(e.callback(t.attributeNewValue)){if(t.item.is("selection")){i.wrap(o.getFirstRange(),r)}else{i.wrap(n.mapper.toViewRange(t.range),r)}}else{i.unwrap(n.mapper.toViewRange(t.range),r)}}}),{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",((e,t,{writer:n,mapper:i})=>{const o=i.toViewElement(t.item);const r=Array.from(o.getChildren()).find((e=>e.is("element","a")));for(const e of this._definitions){const i=kl(e.attributes);if(e.callback(t.attributeNewValue)){for(const[e,t]of i){if(e==="class"){n.addClass(t,r)}else{n.setAttribute(e,t,r)}}if(e.classes){n.addClass(e.classes,r)}for(const t in e.styles){n.setStyle(t,e.styles[t],r)}}else{for(const[e,t]of i){if(e==="class"){n.removeClass(t,r)}else{n.removeAttribute(e,r)}}if(e.classes){n.removeClass(e.classes,r)}for(const t in e.styles){n.removeStyle(t,r)}}}}))}}}class gO extends Eu{constructor(){super(...arguments);this.manualDecorators=new fl;this.automaticDecorators=new fO}restoreManualDecoratorStates(){for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id)}}refresh(){const e=this.editor.model;const t=e.document.selection;const n=t.getSelectedElement()||gl(t.getSelectedBlocks());if(WM(n,e.schema)){this.value=n.getAttribute("linkHref");this.isEnabled=e.schema.checkAttribute(n,"linkHref")}else{this.value=t.getAttribute("linkHref");this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id)}}execute(e,t={}){const n=this.editor.model;const i=n.document.selection;const o=[];const r=[];for(const e in t){if(t[e]){o.push(e)}else{r.push(e)}}n.change((t=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=mO(i);let c=LT(s,"linkHref",i.getAttribute("linkHref"),n);if(i.getAttribute("linkHref")===a){c=this._updateLinkContent(n,t,c,e)}t.setAttribute("linkHref",e,c);o.forEach((e=>{t.setAttribute(e,true,c)}));r.forEach((e=>{t.removeAttribute(e,c)}));t.setSelection(t.createPositionAfter(c.end.nodeBefore))}else if(e!==""){const r=kl(i.getAttributes());r.set("linkHref",e);o.forEach((e=>{r.set(e,true)}));const{end:a}=n.insertContent(t.createText(e,r),s);t.setSelection(a)}["linkHref",...o,...r].forEach((e=>{t.removeSelectionAttribute(e)}))}else{const s=n.schema.getValidRanges(i.getRanges(),"linkHref");const a=[];for(const e of i.getSelectedBlocks()){if(n.schema.checkAttribute(e,"linkHref")){a.push(t.createRangeOn(e))}}const c=a.slice();for(const e of s){if(this._isRangeToUpdate(e,a)){c.push(e)}}for(const s of c){let a=s;if(c.length===1){const o=mO(i);if(i.getAttribute("linkHref")===o){a=this._updateLinkContent(n,t,s,e);t.setSelection(t.createSelection(a))}}t.setAttribute("linkHref",e,a);o.forEach((e=>{t.setAttribute(e,true,a)}));r.forEach((e=>{t.removeAttribute(e,a)}))}}}))}_getDecoratorStateFromModel(e){const t=this.editor.model;const n=t.document.selection;const i=n.getSelectedElement();if(WM(i,t.schema)){return i.getAttribute(e)}return n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t){if(n.containsRange(e)){return false}}return true}_updateLinkContent(e,t,n,i){const o=t.createText(i,{linkHref:i});return e.insertContent(o,n)}}function mO(e){if(e.isCollapsed){const t=e.getFirstPosition();return t.textNode&&t.textNode.data}else{const t=Array.from(e.getFirstRange().getItems());if(t.length>1){return null}const n=t[0];if(n.is("$text")||n.is("$textProxy")){return n.data}return null}}class pO extends Eu{refresh(){const e=this.editor.model;const t=e.document.selection;const n=t.getSelectedElement();if(WM(n,e.schema)){this.isEnabled=e.schema.checkAttribute(n,"linkHref")}else{this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}}execute(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;const i=e.commands.get("link");t.change((e=>{const o=n.isCollapsed?[LT(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const t of o){e.removeAttribute("linkHref",t);if(i){for(const n of i.manualDecorators){e.removeAttribute(n.id,t)}}}}))}}class bO extends(fe()){constructor({id:e,label:t,attributes:n,classes:i,styles:o,defaultValue:r}){super();this.id=e;this.set("value",undefined);this.defaultValue=r;this.label=t;this.attributes=n;this.classes=i;this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var kO=__webpack_require__(399);var wO={injectType:"singletonStyleTag",attributes:{"data-cke":true}};wO.insert="head";wO.singleton=true;var _O=zl()(kO.Z,wO);const AO=kO.Z.locals||{};const vO="ck-link_selected";const CO="automatic";const yO="manual";const xO=/^(https?:)?\/\//;class EO extends yu{static get pluginName(){return"LinkEditing"}static get requires(){return[pT,XD,BS]}constructor(e){super(e);e.config.define("link",{addTargetToExternalLinks:false})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"});e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:jM});e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>jM(FM(e),t)});e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:true}},model:{key:"linkHref",value:e=>e.getAttribute("href")}});e.commands.add("link",new gO(e));e.commands.add("unlink",new pO(e));const t=HM(e.t,UM(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter((e=>e.mode===CO)));this._enableManualDecorators(t.filter((e=>e.mode===yO)));const n=e.plugins.get(pT);n.registerAttribute("linkHref");RT(e,"linkHref","a",vO);this._enableLinkOpen();this._enableInsertContentSelectionAttributesFixer();this._enableClickingAfterLink();this._enableTypingOverLink();this._handleDeleteContentAfterLink();this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor;const n=t.commands.get("link");const i=n.automaticDecorators;if(t.config.get("link.addTargetToExternalLinks")){i.add({id:"linkIsExternal",mode:CO,callback:e=>!!e&&xO.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}})}i.add(e);if(i.length){t.conversion.for("downcast").add(i.getDispatcher())}}_enableManualDecorators(e){if(!e.length){return}const t=this.editor;const n=t.commands.get("link");const i=n.manualDecorators;e.forEach((e=>{t.model.schema.extend("$text",{allowAttributes:e.id});const n=new bO(e);i.add(n);t.conversion.for("downcast").attributeToElement({model:n.id,view:(e,{writer:t,schema:i},{item:o})=>{if(!(o.is("selection")||i.isInline(o))){return}if(e){const e=t.createAttributeElement("a",n.attributes,{priority:5});if(n.classes){t.addClass(n.classes,e)}for(const i in n.styles){t.setStyle(i,n.styles[i],e)}t.setCustomProperty("link",true,e);return e}}});t.conversion.for("upcast").elementToAttribute({view:{name:"a",...n._createPattern()},model:{key:n.id}})}))}_enableLinkOpen(){const e=this.editor;const t=e.editing.view;const n=t.document;this.listenTo(n,"click",((e,t)=>{const n=a.isMac?t.domEvent.metaKey:t.domEvent.ctrlKey;if(!n){return}let i=t.domTarget;if(i.tagName.toLowerCase()!="a"){i=i.closest("a")}if(!i){return}const o=i.getAttribute("href");if(!o){return}e.stop();t.preventDefault();YM(o)}),{context:"$capture"});this.listenTo(n,"keydown",((t,n)=>{const i=e.commands.get("link");const o=i.value;const r=!!o&&n.keyCode===qc.enter&&n.altKey;if(!r){return}t.stop();YM(o)}))}_enableInsertContentSelectionAttributesFixer(){const e=this.editor;const t=e.model;const n=t.document.selection;this.listenTo(t,"insertContent",(()=>{const e=n.anchor.nodeBefore;const i=n.anchor.nodeAfter;if(!n.hasAttribute("linkHref")){return}if(!e){return}if(!e.hasAttribute("linkHref")){return}if(i&&i.hasAttribute("linkHref")){return}t.change((e=>{DO(e,IO(t.schema))}))}),{priority:"low"})}_enableClickingAfterLink(){const e=this.editor;const t=e.model;e.editing.view.addObserver($A);let n=false;this.listenTo(e.editing.view.document,"mousedown",(()=>{n=true}));this.listenTo(e.editing.view.document,"selectionChange",(()=>{if(!n){return}n=false;const e=t.document.selection;if(!e.isCollapsed){return}if(!e.hasAttribute("linkHref")){return}const i=e.getFirstPosition();const o=LT(i,"linkHref",e.getAttribute("linkHref"),t);if(i.isTouching(o.start)||i.isTouching(o.end)){t.change((e=>{DO(e,IO(t.schema))}))}}))}_enableTypingOverLink(){const e=this.editor;const t=e.editing.view;let n=null;let i=false;this.listenTo(t.document,"delete",(()=>{i=true}),{priority:"high"});this.listenTo(e.model,"deleteContent",(()=>{const t=e.model.document.selection;if(t.isCollapsed){return}if(i){i=false;return}if(!MO(e)){return}if(TO(e.model)){n=t.getAttributes()}}),{priority:"high"});this.listenTo(e.model,"insertContent",((t,[o])=>{i=false;if(!MO(e)){return}if(!n){return}e.model.change((e=>{for(const[t,i]of n){e.setAttribute(t,i,o)}}));n=null}),{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=e.editing.view;let o=false;let r=false;this.listenTo(i.document,"delete",((e,t)=>{r=t.direction==="backward"}),{priority:"high"});this.listenTo(t,"deleteContent",(()=>{o=false;const e=n.getFirstPosition();const i=n.getAttribute("linkHref");if(!i){return}const r=LT(e,"linkHref",i,t);o=r.containsPosition(e)||r.end.isEqual(e)}),{priority:"high"});this.listenTo(t,"deleteContent",(()=>{if(!r){return}r=false;if(o){return}e.model.enqueueChange((e=>{DO(e,IO(t.schema))}))}),{priority:"low"})}_enableClipboardIntegration(){const e=this.editor;const t=e.model;const n=this.editor.config.get("link.defaultProtocol");if(!n){return}this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",((e,i)=>{t.change((e=>{const t=e.createRangeIn(i.content);for(const i of t.getItems()){if(i.hasAttribute("linkHref")){const t=qM(i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,i)}}}))}))}}function DO(e,t){e.removeSelectionAttribute("linkHref");for(const n of t){e.removeSelectionAttribute(n)}}function TO(e){const t=e.document.selection;const n=t.getFirstPosition();const i=t.getLastPosition();const o=n.nodeAfter;if(!o){return false}if(!o.is("$text")){return false}if(!o.hasAttribute("linkHref")){return false}const r=i.textNode||i.nodeBefore;if(o===r){return true}const s=LT(n,"linkHref",o.getAttribute("linkHref"),e);return s.containsRange(e.createRange(n,i),true)}function MO(e){const t=e.model.change((e=>e.batch));return t.isTyping}function IO(e){const t=e.getDefinition("$text").allowAttributes;return t.filter((e=>e.startsWith("link")))}var SO=__webpack_require__(4827);var BO={injectType:"singletonStyleTag",attributes:{"data-cke":true}};BO.insert="head";BO.singleton=true;var NO=zl()(SO.Z,BO);const zO=SO.Z.locals||{};class PO extends jl{constructor(e,t){super(e);this.focusTracker=new ml;this.keystrokes=new pl;this._focusables=new Sl;const n=e.t;this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(n("Save"),DC.check,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(n("Cancel"),DC.cancel,"ck-button-cancel","cancel");this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t);this.children=this._createFormChildren(t.manualDecorators);this._focusCycler=new ku({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];if(t.manualDecorators.length){i.push("ck-link-form_layout-vertical","ck-vertical-form")}this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((e,t)=>{e[t.name]=t.isOn;return e}),{})}render(){super.render();n({view:this});const e=[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView];e.forEach((e=>{this._focusables.add(e);this.focusTracker.add(e.element)}));this.keystrokes.listenTo(this.element)}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t;const t=new tu(this.locale,by);t.label=e("Link URL");return t}_createButton(e,t,n,i){const o=new yd(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:n}});if(i){o.delegate("execute").to(this,i)}return o}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const i=new Md(this.locale);i.set({name:n.id,label:n.label,withText:true});i.bind("isOn").toMany([n,e],"value",((e,t)=>t===undefined&&e===undefined?!!n.defaultValue:!!e));i.on("execute",(()=>{n.set("value",!i.isOn)}));t.add(i)}return t}_createFormChildren(e){const t=this.createCollection();t.add(this.urlInputView);if(e.length){const e=new jl;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}});t.add(e)}t.add(this.saveButtonView);t.add(this.cancelButtonView);return t}}var LO=__webpack_require__(9465);var OO={injectType:"singletonStyleTag",attributes:{"data-cke":true}};OO.insert="head";OO.singleton=true;var RO=zl()(LO.Z,OO);const jO=LO.Z.locals||{};const FO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class VO extends jl{constructor(e){super(e);this.focusTracker=new ml;this.keystrokes=new pl;this._focusables=new Sl;const t=e.t;this.previewButtonView=this._createPreviewButton();this.unlinkButtonView=this._createButton(t("Unlink"),FO,"unlink");this.editButtonView=this._createButton(t("Edit link"),DC.pencil,"edit");this.set("href",undefined);this._focusCycler=new ku({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach((e=>{this._focusables.add(e);this.focusTracker.add(e.element)}));this.keystrokes.listenTo(this.element)}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const i=new yd(this.locale);i.set({label:e,icon:t,tooltip:true});i.delegate("execute").to(this,n);return i}_createPreviewButton(){const e=new yd(this.locale);const t=this.bindTemplate;const n=this.t;e.set({withText:true,tooltip:n("Open link in new tab")});e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(e=>e&&FM(e))),target:"_blank",rel:"noopener noreferrer"}});e.bind("label").to(this,"href",(e=>e||n("This link has no URL")));e.bind("isEnabled").to(this,"href",(e=>!!e));e.template.tag="a";e.template.eventListeners={};return e}}const HO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const UO="link-ui";class WO extends yu{constructor(){super(...arguments);this.actionsView=null;this.formView=null}static get requires(){return[WE]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(WA);this._balloon=e.plugins.get(WE);this._createToolbarLinkButton();this._enableBalloonActivators();e.conversion.for("editingDowncast").markerToHighlight({model:UO,view:{classes:["ck-fake-link-selection"]}});e.conversion.for("editingDowncast").markerToElement({model:UO,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy();if(this.formView){this.formView.destroy()}if(this.actionsView){this.actionsView.destroy()}}_createViews(){this.actionsView=this._createActionsView();this.formView=this._createFormView();this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor;const t=new VO(e.locale);const n=e.commands.get("link");const i=e.commands.get("unlink");t.bind("href").to(n,"value");t.editButtonView.bind("isEnabled").to(n);t.unlinkButtonView.bind("isEnabled").to(i);this.listenTo(t,"edit",(()=>{this._addFormView()}));this.listenTo(t,"unlink",(()=>{e.execute("unlink");this._hideUI()}));t.keystrokes.set("Esc",((e,t)=>{this._hideUI();t()}));t.keystrokes.set(OM,((e,t)=>{this._addFormView();t()}));return t}_createFormView(){const e=this.editor;const n=e.commands.get("link");const i=e.config.get("link.defaultProtocol");const o=new(t(PO))(e.locale,n);o.urlInputView.fieldView.bind("value").to(n,"value");o.urlInputView.bind("isEnabled").to(n,"isEnabled");o.saveButtonView.bind("isEnabled").to(n);this.listenTo(o,"submit",(()=>{const{value:t}=o.urlInputView.fieldView.element;const n=qM(t,i);e.execute("link",n,o.getDecoratorSwitchesState());this._closeFormView()}));this.listenTo(o,"cancel",(()=>{this._closeFormView()}));o.keystrokes.set("Esc",((e,t)=>{this._closeFormView();t()}));return o}_createToolbarLinkButton(){const e=this.editor;const t=e.commands.get("link");const n=e.t;e.ui.componentFactory.add("link",(e=>{const i=new yd(e);i.isEnabled=true;i.label=n("Link");i.icon=HO;i.keystroke=OM;i.tooltip=true;i.isToggleable=true;i.bind("isEnabled").to(t,"isEnabled");i.bind("isOn").to(t,"value",(e=>!!e));this.listenTo(i,"execute",(()=>this._showUI(true)));return i}))}_enableBalloonActivators(){const e=this.editor;const t=e.editing.view.document;this.listenTo(t,"click",(()=>{const e=this._getSelectedLinkElement();if(e){this._showUI()}}));e.keystrokes.set(OM,((t,n)=>{n();if(e.commands.get("link").isEnabled){this._showUI(true)}}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((e,t)=>{if(this._areActionsVisible&&!this.actionsView.focusTracker.isFocused){this.actionsView.focus();t()}}),{priority:"high"});this.editor.keystrokes.set("Esc",((e,t)=>{if(this._isUIVisible){this._hideUI();t()}}));e({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){if(!this.actionsView){this._createViews()}if(this._areActionsInPanel){return}this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(!this.formView){this._createViews()}if(this._isFormInPanel){return}const e=this.editor;const t=e.commands.get("link");this.formView.disableCssTransitions();this._balloon.add({view:this.formView,position:this._getBalloonPositionData()});if(this._balloon.visibleView===this.formView){this.formView.urlInputView.fieldView.select()}this.formView.enableCssTransitions();this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates();if(e.value!==undefined){this._removeFormView()}else{this._hideUI()}}_removeFormView(){if(this._isFormInPanel){this.formView.saveButtonView.focus();this._balloon.remove(this.formView);this.editor.editing.view.focus();this._hideFakeVisualSelection()}}_showUI(e=false){if(!this.formView){this._createViews()}if(!this._getSelectedLinkElement()){this._showFakeVisualSelection();this._addActionsView();if(e){this._balloon.showStack("main")}this._addFormView()}else{if(this._areActionsVisible){this._addFormView()}else{this._addActionsView()}if(e){this._balloon.showStack("main")}}this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel){return}const e=this.editor;this.stopListening(e.ui,"update");this.stopListening(this._balloon,"change:visibleView");e.editing.view.focus();this._removeFormView();this._balloon.remove(this.actionsView);this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor;const t=e.editing.view.document;let n=this._getSelectedLinkElement();let i=r();const o=()=>{const e=this._getSelectedLinkElement();const t=r();if(n&&!e||!n&&t!==i){this._hideUI()}else if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPositionData())}n=e;i=t};function r(){return t.selection.focus.getAncestors().reverse().find((e=>e.is("element")))}this.listenTo(e.ui,"update",o);this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view;const t=this.editor.model;const n=e.document;let i;if(t.markers.has(UO)){const t=Array.from(this.editor.editing.mapper.markerNameToElements(UO));const n=e.createRange(e.createPositionBefore(t[0]),e.createPositionAfter(t[t.length-1]));i=e.domConverter.viewRangeToDom(n)}else{i=()=>{const t=this._getSelectedLinkElement();return t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(n.selection.getFirstRange())}}return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view;const t=e.document.selection;const n=t.getSelectedElement();if(t.isCollapsed||n&&FS(n)){return $O(t.getFirstPosition())}else{const n=t.getFirstRange().getTrimmed();const i=$O(n.start);const o=$O(n.end);if(!i||i!=o){return null}if(e.createRangeIn(i).getTrimmed().isEqual(n)){return i}else{return null}}}_showFakeVisualSelection(){const e=this.editor.model;e.change((t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(UO)){t.updateMarker(UO,{range:n})}else{if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition((({item:t})=>!e.schema.isContent(t)),{boundaries:n});t.addMarker(UO,{usingOperation:false,affectsData:false,range:t.createRange(i,n.end)})}else{t.addMarker(UO,{usingOperation:false,affectsData:false,range:n})}}}))}_hideFakeVisualSelection(){const e=this.editor.model;if(e.markers.has(UO)){e.change((e=>{e.removeMarker(UO)}))}}}function $O(e){return e.getAncestors().find((e=>RM(e)))||null}class qO extends yu{static get requires(){return[EO,WO,JM]}static get pluginName(){return"Link"}}class GO extends yu{static get requires(){return["ImageEditing","ImageUtils",EO]}static get pluginName(){return"LinkImageEditing"}init(){const e=this.editor;const t=e.model.schema;if(e.plugins.has("ImageBlockEditing")){t.extend("imageBlock",{allowAttributes:["linkHref"]})}e.conversion.for("upcast").add(YO(e));e.conversion.for("downcast").add(KO(e));this._enableAutomaticDecorators();this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor;const t=e.commands.get("link");const n=t.automaticDecorators;if(n.length){e.conversion.for("downcast").add(n.getDispatcherForLinkedImage())}}_enableManualDecorators(){const e=this.editor;const t=e.commands.get("link");for(const n of t.manualDecorators){if(e.plugins.has("ImageBlockEditing")){e.model.schema.extend("imageBlock",{allowAttributes:n.id})}if(e.plugins.has("ImageInlineEditing")){e.model.schema.extend("imageInline",{allowAttributes:n.id})}e.conversion.for("downcast").add(ZO(n));e.conversion.for("upcast").add(QO(e,n))}}}function YO(e){const t=e.plugins.has("ImageInlineEditing");const n=e.plugins.get("ImageUtils");return e=>{e.on("element:a",((e,i,o)=>{const r=i.viewItem;const s=n.findViewImgElement(r);if(!s){return}const a=s.findAncestor((e=>n.isBlockImageView(e)));if(t&&!a){return}const c={attributes:["href"]};if(!o.consumable.consume(r,c)){return}const l=r.getAttribute("href");if(!l){return}let d=i.modelCursor.parent;if(!d.is("element","imageBlock")){const e=o.convertItem(s,i.modelCursor);i.modelRange=e.modelRange;i.modelCursor=e.modelCursor;d=i.modelCursor.nodeBefore}if(d&&d.is("element","imageBlock")){o.writer.setAttribute("linkHref",l,d)}}),{priority:"high"})}}function KO(e){const t=e.plugins.get("ImageUtils");return e=>{e.on("attribute:linkHref:imageBlock",((e,n,i)=>{if(!i.consumable.consume(n.item,e.name)){return}const o=i.mapper.toViewElement(n.item);const r=i.writer;const s=Array.from(o.getChildren()).find((e=>e.is("element","a")));const a=t.findViewImgElement(o);const c=a.parent.is("element","picture")?a.parent:a;if(s){if(n.attributeNewValue){r.setAttribute("href",n.attributeNewValue,s)}else{r.move(r.createRangeOn(c),r.createPositionAt(o,0));r.remove(s)}}else{const e=r.createContainerElement("a",{href:n.attributeNewValue});r.insert(r.createPositionAt(o,0),e);r.move(r.createRangeOn(c),r.createPositionAt(e,0))}}),{priority:"high"})}}function ZO(e){return t=>{t.on(`attribute:${e.id}:imageBlock`,((t,n,i)=>{const o=i.mapper.toViewElement(n.item);const r=Array.from(o.getChildren()).find((e=>e.is("element","a")));if(!r){return}for(const[t,n]of kl(e.attributes)){i.writer.setAttribute(t,n,r)}if(e.classes){i.writer.addClass(e.classes,r)}for(const t in e.styles){i.writer.setStyle(t,e.styles[t],r)}}))}}function QO(e,t){const n=e.plugins.has("ImageInlineEditing");const i=e.plugins.get("ImageUtils");return e=>{e.on("element:a",((e,o,r)=>{const s=o.viewItem;const a=i.findViewImgElement(s);if(!a){return}const c=a.findAncestor((e=>i.isBlockImageView(e)));if(n&&!c){return}const l=new Ju(t._createPattern());const d=l.match(s);if(!d){return}if(!r.consumable.consume(s,d.match)){return}const u=o.modelCursor.nodeBefore||o.modelCursor.parent;r.writer.setAttribute(t.id,true,u)}),{priority:"high"})}}class JO extends yu{static get requires(){return[EO,WO,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor;const t=e.editing.view.document;this.listenTo(t,"click",((t,n)=>{if(this._isSelectedLinkedImage(e.model.document.selection)){n.preventDefault();t.stop()}}),{priority:"high"});this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("linkImage",(n=>{const i=new yd(n);const o=e.plugins.get("LinkUI");const r=e.commands.get("link");i.set({isEnabled:true,label:t("Link image"),icon:HO,keystroke:OM,tooltip:true,isToggleable:true});i.bind("isEnabled").to(r,"isEnabled");i.bind("isOn").to(r,"value",(e=>!!e));this.listenTo(i,"execute",(()=>{if(this._isSelectedLinkedImage(e.model.document.selection)){o._addActionsView()}else{o._showUI(true)}}));return i}))}_isSelectedLinkedImage(e){const t=e.getSelectedElement();const n=this.editor.plugins.get("ImageUtils");return n.isImage(t)&&t.hasAttribute("linkHref")}}var XO=__webpack_require__(3858);var eR={injectType:"singletonStyleTag",attributes:{"data-cke":true}};eR.insert="head";eR.singleton=true;var tR=zl()(XO.Z,eR);const nR=XO.Z.locals||{};class iR extends yu{static get requires(){return[GO,JO]}static get pluginName(){return"LinkImage"}}class oR extends Eu{constructor(e,t){super(e);this.type=t}refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model;const n=t.document;const i=Array.from(n.selection.getSelectedBlocks()).filter((e=>sR(e,t.schema)));const o=e.forceValue!==undefined?!e.forceValue:this.value;t.change((e=>{if(o){let t=i[i.length-1].nextSibling;let n=Number.POSITIVE_INFINITY;let o=[];while(t&&t.name=="listItem"&&t.getAttribute("listIndent")!==0){const e=t.getAttribute("listIndent");if(e<n){n=e}const i=e-n;o.push({element:t,listIndent:i});t=t.nextSibling}o=o.reverse();for(const t of o){e.setAttribute("listIndent",t.listIndent,t.element)}}if(!o){let e=Number.POSITIVE_INFINITY;for(const t of i){if(t.is("element","listItem")&&t.getAttribute("listIndent")<e){e=t.getAttribute("listIndent")}}e=e===0?1:e;rR(i,true,e);rR(i,false,e)}for(const t of i.reverse()){if(o&&t.name=="listItem"){e.rename(t,"paragraph")}else if(!o&&t.name!="listItem"){e.setAttributes({listType:this.type,listIndent:0},t);e.rename(t,"listItem")}else if(!o&&t.name=="listItem"&&t.getAttribute("listType")!=this.type){e.setAttribute("listType",this.type,t)}}this.fire("_executeCleanup",i)}))}_getValue(){const e=gl(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const n=gl(e.getSelectedBlocks());if(!n){return false}return sR(n,t)}}function rR(e,t,n){const i=t?e[0]:e[e.length-1];if(i.is("element","listItem")){let o=i[t?"previousSibling":"nextSibling"];let r=i.getAttribute("listIndent");while(o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=n){if(r>o.getAttribute("listIndent")){r=o.getAttribute("listIndent")}if(o.getAttribute("listIndent")==r){e[t?"unshift":"push"](o)}o=o[t?"previousSibling":"nextSibling"]}}}function sR(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}class aR extends Eu{constructor(e,t){super(e);this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;const t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change((e=>{const t=n[n.length-1];let i=t.nextSibling;while(i&&i.name=="listItem"&&i.getAttribute("listIndent")>t.getAttribute("listIndent")){n.push(i);i=i.nextSibling}if(this._indentBy<0){n=n.reverse()}for(const t of n){const n=t.getAttribute("listIndent")+this._indentBy;if(n<0){e.rename(t,"paragraph")}else{e.setAttribute("listIndent",n,t)}}this.fire("_executeCleanup",n)}))}_checkEnabled(){const e=gl(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem")){return false}if(this._indentBy>0){const t=e.getAttribute("listIndent");const n=e.getAttribute("listType");let i=e.previousSibling;while(i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=t){if(i.getAttribute("listIndent")==t){return i.getAttribute("listType")==n}i=i.previousSibling}return false}return true}}function cR(e){const t=e.createContainerElement("li");t.getFillerOffset=AR;return t}function lR(e,t){const n=t.mapper;const i=t.writer;const o=e.getAttribute("listType")=="numbered"?"ol":"ul";const r=cR(i);const s=i.createContainerElement(o,null);i.insert(i.createPositionAt(s,0),r);n.bindElements(e,r);return r}function dR(e,t,n,i){const o=t.parent;const r=n.mapper;const s=n.writer;let a=r.toViewPosition(i.createPositionBefore(e));const c=fR(e.previousSibling,{sameIndent:true,smallerIndent:true,listIndent:e.getAttribute("listIndent")});const l=e.previousSibling;if(c&&c.getAttribute("listIndent")==e.getAttribute("listIndent")){const e=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(e))}else{if(l&&l.name=="listItem"){a=r.toViewPosition(i.createPositionAt(l,"end"));const e=r.findMappedViewAncestor(a);const t=mR(e);if(t){a=s.createPositionBefore(t)}else{a=s.createPositionAt(e,"end")}}else{a=r.toViewPosition(i.createPositionBefore(e))}}a=hR(a);s.insert(a,o);if(l&&l.name=="listItem"){const e=r.toViewElement(l);const n=s.createRange(s.createPositionAt(e,0),a);const i=n.getWalker({ignoreElementEnd:true});for(const e of i){if(e.item.is("element","li")){const n=s.breakContainer(s.createPositionBefore(e.item));const o=e.item.parent;const r=s.createPositionAt(t,"end");uR(s,r.nodeBefore,r.nodeAfter);s.move(s.createRangeOn(o),r);i._position=n}}}else{const n=o.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let i=null;for(const t of n.getChildren()){const n=r.toModelElement(t);if(n&&n.getAttribute("listIndent")>e.getAttribute("listIndent")){i=t}else{break}}if(i){s.breakContainer(s.createPositionAfter(i));s.move(s.createRangeOn(i.parent),s.createPositionAt(t,"end"))}}}uR(s,o,o.nextSibling);uR(s,o.previousSibling,o)}function uR(e,t,n){if(!t||!n||t.name!="ul"&&t.name!="ol"){return null}if(t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")){return null}return e.mergeContainers(e.createPositionAfter(t))}function hR(e){return e.getLastMatchingPosition((e=>e.item.is("uiElement")))}function fR(e,t){const n=!!t.sameIndent;const i=!!t.smallerIndent;const o=t.listIndent;let r=e;while(r&&r.name=="listItem"){const e=r.getAttribute("listIndent");if(n&&o==e||i&&o>e){return r}if(t.direction==="forward"){r=r.nextSibling}else{r=r.previousSibling}}return null}function gR(e,t,n,i){e.ui.componentFactory.add(t,(o=>{const r=e.commands.get(t);const s=new yd(o);s.set({label:n,icon:i,tooltip:true,isToggleable:true});s.bind("isOn","isEnabled").to(r,"value","isEnabled");s.on("execute",(()=>{e.execute(t);e.editing.view.focus()}));return s}))}function mR(e){for(const t of e.getChildren()){if(t.name=="ul"||t.name=="ol"){return t}}return null}function pR(e,t){const n=[];const i=e.parent;const o={ignoreElementEnd:false,startPosition:e,shallow:true,direction:t};const r=i.getAttribute("listIndent");const s=[...new vb(o)].filter((e=>e.item.is("element"))).map((e=>e.item));for(const e of s){if(!e.is("element","listItem")){break}if(e.getAttribute("listIndent")<r){break}if(e.getAttribute("listIndent")>r){continue}if(e.getAttribute("listType")!==i.getAttribute("listType")){break}if(e.getAttribute("listStyle")!==i.getAttribute("listStyle")){break}if(e.getAttribute("listReversed")!==i.getAttribute("listReversed")){break}if(e.getAttribute("listStart")!==i.getAttribute("listStart")){break}if(t==="backward"){n.unshift(e)}else{n.push(e)}}return n}function bR(e){const t=e.document;let n=[...t.selection.getSelectedBlocks()].filter((e=>e.is("element","listItem"))).map((t=>{const n=e.change((e=>e.createPositionAt(t,0)));return[...pR(n,"backward"),...pR(n,"forward")]})).flat();n=[...new Set(n)];return n}const kR=["disc","circle","square"];const wR=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function _R(e){if(kR.includes(e)){return"bulleted"}if(wR.includes(e)){return"numbered"}return null}function AR(){const e=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");if(this.isEmpty||e){return 0}return ng.call(this)}class vR extends yu{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return _R(e)}getSelectedListItems(e){return bR(e)}getSiblingNodes(e,t){return pR(e,t)}}function CR(e){return(t,n,i)=>{const o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent")){return}o.consume(n.item,"insert");o.consume(n.item,"attribute:listType");o.consume(n.item,"attribute:listIndent");const r=n.item;const s=lR(r,i);dR(r,s,i,e)}}function yR(e){return(t,n,i)=>{const o=i.mapper.toViewPosition(n.position);const r=o.getLastMatchingPosition((e=>!e.item.is("element","li")));const s=r.nodeAfter;const a=i.writer;a.breakContainer(a.createPositionBefore(s));a.breakContainer(a.createPositionAfter(s));const c=s.parent;const l=c.previousSibling;const d=a.createRangeOn(c);const u=a.remove(d);if(l&&l.nextSibling){uR(a,l,l.nextSibling)}const h=i.mapper.toModelElement(s);jR(h.getAttribute("listIndent")+1,n.position,d.start,s,i,e);for(const e of a.createRangeIn(u).getItems()){i.mapper.unbindViewElement(e)}t.stop()}}const xR=(e,t,n)=>{if(!n.consumable.test(t.item,e.name)){return}const i=n.mapper.toViewElement(t.item);const o=n.writer;o.breakContainer(o.createPositionBefore(i));o.breakContainer(o.createPositionAfter(i));const r=i.parent;const s=t.attributeNewValue=="numbered"?"ol":"ul";o.rename(s,r)};const ER=(e,t,n)=>{n.consumable.consume(t.item,e.name);const i=n.mapper.toViewElement(t.item);const o=i.parent;const r=n.writer;uR(r,o,o.nextSibling);uR(r,o.previousSibling,o)};function DR(e){return(t,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent")){return}const o=i.mapper.toViewElement(n.item);const r=i.writer;r.breakContainer(r.createPositionBefore(o));r.breakContainer(r.createPositionAfter(o));const s=o.parent;const a=s.previousSibling;const c=r.createRangeOn(s);r.remove(c);if(a&&a.nextSibling){uR(r,a,a.nextSibling)}jR(n.attributeOldValue+1,n.range.start,c.start,o,i,e);dR(n.item,o,i,e);for(const e of n.item.getChildren()){i.consumable.consume(e,"insert")}}}const TR=(e,t,n)=>{if(!n.consumable.test(t.item,e.name)){return}if(t.item.name!="listItem"){let e=n.mapper.toViewPosition(t.range.start);const i=n.writer;const o=[];while(e.parent.name=="ul"||e.parent.name=="ol"){e=i.breakContainer(e);if(e.parent.name!="li"){break}const t=e;const n=i.createPositionAt(e.parent,"end");if(!t.isEqual(n)){const e=i.remove(i.createRange(t,n));o.push(e)}e=i.createPositionAfter(e.parent)}if(o.length>0){for(let t=0;t<o.length;t++){const n=e.nodeBefore;const r=i.insert(e,o[t]);e=r.end;if(t>0){const t=uR(i,n,n.nextSibling);if(t&&t.parent==n){e.offset--}}}uR(i,e.nodeBefore,e.nodeAfter)}}};const MR=(e,t,n)=>{const i=n.mapper.toViewPosition(t.position);const o=i.nodeBefore;const r=i.nodeAfter;uR(n.writer,o,r)};const IR=(e,t,n)=>{if(n.consumable.consume(t.viewItem,{name:true})){const e=n.writer;const i=e.createElement("listItem");const o=VR(t.viewItem);e.setAttribute("listIndent",o,i);const r=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";e.setAttribute("listType",r,i);if(!n.safeInsert(i,t.modelCursor)){return}const s=OR(i,t.viewItem.getChildren(),n);t.modelRange=e.createRange(t.modelCursor,s);n.updateConversionResult(i,t)}};const SR=(e,t,n)=>{if(n.consumable.test(t.viewItem,{name:true})){const e=Array.from(t.viewItem.getChildren());for(const t of e){const e=!(t.is("element","li")||FR(t));if(e){t._remove()}}}};const BR=(e,t,n)=>{if(n.consumable.test(t.viewItem,{name:true})){if(t.viewItem.childCount===0){return}const e=[...t.viewItem.getChildren()];let n=false;for(const t of e){if(n&&!FR(t)){t._remove()}if(FR(t)){n=true}}}};function NR(e){return(t,n)=>{if(n.isPhantom){return}const i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const t=n.mapper.toViewElement(i);const o=t.getAncestors().find(FR);const r=e.createPositionAt(t,0).getWalker();for(const e of r){if(e.type=="elementStart"&&e.item.is("element","li")){n.viewPosition=e.previousPosition;break}else if(e.type=="elementEnd"&&e.item==o){n.viewPosition=e.nextPosition;break}}}}}function zR(e){return(t,n)=>{const i=n.viewPosition;const o=i.parent;const r=n.mapper;if(o.name=="ul"||o.name=="ol"){if(!i.isAtEnd){const t=r.toModelElement(i.nodeAfter);n.modelPosition=e.createPositionBefore(t)}else{const t=r.toModelElement(i.nodeBefore);const o=r.getModelLength(i.nodeBefore);n.modelPosition=e.createPositionBefore(t).getShiftedBy(o)}t.stop()}else if(o.name=="li"&&i.nodeBefore&&(i.nodeBefore.name=="ul"||i.nodeBefore.name=="ol")){const s=r.toModelElement(o);let a=1;let c=i.nodeBefore;while(c&&FR(c)){a+=r.getModelLength(c);c=c.previousSibling}n.modelPosition=e.createPositionBefore(s).getShiftedBy(a);t.stop()}}}function PR(e,t){const n=e.document.differ.getChanges();const i=new Map;let o=false;for(const i of n){if(i.type=="insert"&&i.name=="listItem"){r(i.position)}else if(i.type=="insert"&&i.name!="listItem"){if(i.name!="$text"){const n=i.position.nodeAfter;if(n.hasAttribute("listIndent")){t.removeAttribute("listIndent",n);o=true}if(n.hasAttribute("listType")){t.removeAttribute("listType",n);o=true}if(n.hasAttribute("listStyle")){t.removeAttribute("listStyle",n);o=true}if(n.hasAttribute("listReversed")){t.removeAttribute("listReversed",n);o=true}if(n.hasAttribute("listStart")){t.removeAttribute("listStart",n);o=true}for(const t of Array.from(e.createRangeIn(n)).filter((e=>e.item.is("element","listItem")))){r(t.previousPosition)}}const n=i.position.getShiftedBy(i.length);r(n)}else if(i.type=="remove"&&i.name=="listItem"){r(i.position)}else if(i.type=="attribute"&&i.attributeKey=="listIndent"){r(i.range.start)}else if(i.type=="attribute"&&i.attributeKey=="listType"){r(i.range.start)}}for(const e of i.values()){s(e);a(e)}return o;function r(e){const t=e.nodeBefore;if(!t||!t.is("element","listItem")){const t=e.nodeAfter;if(t&&t.is("element","listItem")){i.set(t,t)}}else{let e=t;if(i.has(e)){return}for(let t=e.previousSibling;t&&t.is("element","listItem");t=e.previousSibling){e=t;if(i.has(e)){return}}i.set(t,e)}}function s(e){let n=0;let i=null;while(e&&e.is("element","listItem")){const r=e.getAttribute("listIndent");if(r>n){let s;if(i===null){i=r-n;s=n}else{if(i>r){i=r}s=r-i}t.setAttribute("listIndent",s,e);o=true}else{i=null;n=e.getAttribute("listIndent")+1}e=e.nextSibling}}function a(e){let n=[];let i=null;while(e&&e.is("element","listItem")){const r=e.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r){n=n.slice(0,r+1)}if(r!=0){if(n[r]){const i=n[r];if(e.getAttribute("listType")!=i){t.setAttribute("listType",i,e);o=true}}else{n[r]=e.getAttribute("listType")}}i=e;e=e.nextSibling}}}const LR=function(e,[t,n]){const i=this;let o=t.is("documentFragment")?t.getChild(0):t;let r;if(!n){r=i.document.selection}else{r=i.createSelection(n)}if(o&&o.is("element","listItem")){const e=r.getFirstPosition();let t=null;if(e.parent.is("element","listItem")){t=e.parent}else if(e.nodeBefore&&e.nodeBefore.is("element","listItem")){t=e.nodeBefore}if(t){const e=t.getAttribute("listIndent");if(e>0){while(o&&o.is("element","listItem")){o._setAttribute("listIndent",o.getAttribute("listIndent")+e);o=o.nextSibling}}}}};function OR(e,t,n){const{writer:i,schema:o}=n;let r=i.createPositionAfter(e);for(const s of t){if(s.name=="ul"||s.name=="ol"){r=n.convertItem(s,r).modelCursor}else{const t=n.convertItem(s,i.createPositionAt(e,"end"));const a=t.modelRange.start.nodeAfter;const c=a&&a.is("element")&&!o.checkChild(e,a.name);if(c){if(t.modelCursor.parent.is("element","listItem")){e=t.modelCursor.parent}else{e=RR(t.modelCursor)}r=i.createPositionAfter(e)}}}return r}function RR(e){const t=new vb({startPosition:e});let n;do{n=t.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function jR(e,t,n,i,o,r){const s=fR(t.nodeBefore,{sameIndent:true,smallerIndent:true,listIndent:e});const a=o.mapper;const c=o.writer;const l=s?s.getAttribute("listIndent"):null;let d;if(!s){d=n}else if(l==e){const e=a.toViewElement(s).parent;d=c.createPositionAfter(e)}else{const e=r.createPositionAt(s,"end");d=a.toViewPosition(e)}d=hR(d);for(const e of[...i.getChildren()]){if(FR(e)){d=c.move(c.createRangeOn(e),d).end;uR(c,e,e.nextSibling);uR(c,e.previousSibling,e)}}}function FR(e){return e.is("element","ol")||e.is("element","ul")}function VR(e){let t=0;let n=e.parent;while(n){if(n.is("element","li")){t++}else{const e=n.previousSibling;if(e&&e.is("element","li")){t++}}n=n.parent}return t}var HR=__webpack_require__(9989);var UR={injectType:"singletonStyleTag",attributes:{"data-cke":true}};UR.insert="head";UR.singleton=true;var WR=zl()(HR.Z,UR);const $R=HR.Z.locals||{};class qR extends yu{static get pluginName(){return"ListEditing"}static get requires(){return[lI,hT,vR]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data;const n=e.editing;e.model.document.registerPostFixer((t=>PR(e.model,t)));n.mapper.registerViewToModelLength("li",GR);t.mapper.registerViewToModelLength("li",GR);n.mapper.on("modelToViewPosition",NR(n.view));n.mapper.on("viewToModelPosition",zR(e.model));t.mapper.on("modelToViewPosition",NR(n.view));e.conversion.for("editingDowncast").add((t=>{t.on("insert",TR,{priority:"high"});t.on("insert:listItem",CR(e.model));t.on("attribute:listType:listItem",xR,{priority:"high"});t.on("attribute:listType:listItem",ER,{priority:"low"});t.on("attribute:listIndent:listItem",DR(e.model));t.on("remove:listItem",yR(e.model));t.on("remove",MR,{priority:"low"})}));e.conversion.for("dataDowncast").add((t=>{t.on("insert",TR,{priority:"high"});t.on("insert:listItem",CR(e.model))}));e.conversion.for("upcast").add((e=>{e.on("element:ul",SR,{priority:"high"});e.on("element:ol",SR,{priority:"high"});e.on("element:li",BR,{priority:"high"});e.on("element:li",IR)}));e.model.on("insertContent",LR,{priority:"high"});e.commands.add("numberedList",new oR(e,"numbered"));e.commands.add("bulletedList",new oR(e,"bulleted"));e.commands.add("indentList",new aR(e,"forward"));e.commands.add("outdentList",new aR(e,"backward"));const i=n.view.document;this.listenTo(i,"enter",((e,t)=>{const n=this.editor.model.document;const i=n.selection.getLastPosition().parent;if(n.selection.isCollapsed&&i.name=="listItem"&&i.isEmpty){this.editor.execute("outdentList");t.preventDefault();e.stop()}}),{context:"li"});this.listenTo(i,"delete",((e,t)=>{if(t.direction!=="backward"){return}const n=this.editor.model.document.selection;if(!n.isCollapsed){return}const i=n.getFirstPosition();if(!i.isAtStart){return}const o=i.parent;if(o.name!=="listItem"){return}const r=o.previousSibling&&o.previousSibling.name==="listItem";if(r){return}this.editor.execute("outdentList");t.preventDefault();e.stop()}),{context:"li"});this.listenTo(e.editing.view.document,"tab",((t,n)=>{const i=n.shiftKey?"outdentList":"indentList";const o=this.editor.commands.get(i);if(o.isEnabled){e.execute(i);n.stopPropagation();n.preventDefault();t.stop()}}),{context:"li"})}afterInit(){const e=this.editor.commands;const t=e.get("indent");const n=e.get("outdent");if(t){t.registerChildCommand(e.get("indentList"))}if(n){n.registerChildCommand(e.get("outdentList"))}}}function GR(e){let t=1;for(const n of e.getChildren()){if(n.name=="ul"||n.name=="ol"){for(const e of n.getChildren()){t+=GR(e)}}}return t}const YR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';const KR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class ZR extends yu{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;gR(this.editor,"numberedList",e("Numbered List"),YR);gR(this.editor,"bulletedList",e("Bulleted List"),KR)}}class QR extends yu{static get requires(){return[qR,ZR]}static get pluginName(){return"List"}}function JR(){return{baseUrl:null,breaks:false,extensions:null,gfm:true,headerIds:true,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:true,pedantic:false,renderer:null,sanitize:false,sanitizer:null,silent:false,smartLists:false,smartypants:false,tokenizer:null,walkTokens:null,xhtml:false}}let XR=JR();function ej(e){XR=e}const tj=/[&<>"']/;const nj=/[&<>"']/g;const ij=/[<>"']|&(?!#?\w+;)/;const oj=/[<>"']|&(?!#?\w+;)/g;const rj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};const sj=e=>rj[e];function aj(e,t){if(t){if(tj.test(e)){return e.replace(nj,sj)}}else{if(ij.test(e)){return e.replace(oj,sj)}}return e}const cj=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function lj(e){return e.replace(cj,((e,t)=>{t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""}))}const dj=/(^|[^\[])\^/g;function uj(e,t){e=e.source||e;t=t||"";const n={replace:(t,i)=>{i=i.source||i;i=i.replace(dj,"$1");e=e.replace(t,i);return n},getRegex:()=>new RegExp(e,t)};return n}const hj=/[^\w:]/g;const fj=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function gj(e,t,n){if(e){let e;try{e=decodeURIComponent(lj(n)).replace(hj,"").toLowerCase()}catch(e){return null}if(e.indexOf("javascript:")===0||e.indexOf("vbscript:")===0||e.indexOf("data:")===0){return null}}if(t&&!fj.test(n)){n=wj(t,n)}try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const mj={};const pj=/^[^:]+:\/*[^/]*$/;const bj=/^([^:]+:)[\s\S]*$/;const kj=/^([^:]+:\/*[^/]*)[\s\S]*$/;function wj(e,t){if(!mj[" "+e]){if(pj.test(e)){mj[" "+e]=e+"/"}else{mj[" "+e]=Cj(e,"/",true)}}e=mj[" "+e];const n=e.indexOf(":")===-1;if(t.substring(0,2)==="//"){if(n){return t}return e.replace(bj,"$1")+t}else if(t.charAt(0)==="/"){if(n){return t}return e.replace(kj,"$1")+t}else{return e+t}}const _j={exec:function e(){}};function Aj(e){let t=1,n,i;for(;t<arguments.length;t++){n=arguments[t];for(i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e}function vj(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=false,o=t;while(--o>=0&&n[o]==="\\")i=!i;if(i){return"|"}else{return" |"}})),i=n.split(/ \|/);let o=0;if(!i[0].trim()){i.shift()}if(i.length>0&&!i[i.length-1].trim()){i.pop()}if(i.length>t){i.splice(t)}else{while(i.length<t)i.push("")}for(;o<i.length;o++){i[o]=i[o].trim().replace(/\\\|/g,"|")}return i}function Cj(e,t,n){const i=e.length;if(i===0){return""}let o=0;while(o<i){const r=e.charAt(i-o-1);if(r===t&&!n){o++}else if(r!==t&&n){o++}else{break}}return e.substr(0,i-o)}function yj(e,t){if(e.indexOf(t[1])===-1){return-1}const n=e.length;let i=0,o=0;for(;o<n;o++){if(e[o]==="\\"){o++}else if(e[o]===t[0]){i++}else if(e[o]===t[1]){i--;if(i<0){return o}}}return-1}function xj(e){if(e&&e.sanitize&&!e.silent){console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}function Ej(e,t){if(t<1){return""}let n="";while(t>1){if(t&1){n+=e}t>>=1;e+=e}return n+e}function Dj(e,t,n,i){const o=t.href;const r=t.title?aj(t.title):null;const s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=true;const e={type:"link",raw:n,href:o,title:r,text:s,tokens:i.inlineTokens(s,[])};i.state.inLink=false;return e}else{return{type:"image",raw:n,href:o,title:r,text:aj(s)}}}function Tj(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null){return t}const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(t===null){return e}const[n]=t;if(n.length>=i.length){return e.slice(i.length)}return e})).join("\n")}class Mj{constructor(e){this.options=e||XR}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0){return{type:"space",raw:t[0]}}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:!this.options.pedantic?Cj(e,"\n"):e}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0];const n=Tj(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Cj(e,"#");if(this.options.pedantic){e=t.trim()}else if(!t||/ $/.test(t)){e=t.trim()}}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};this.lexer.inline(n.text,n.tokens);return n}}hr(e){const t=this.rules.block.hr.exec(e);if(t){return{type:"hr",raw:t[0]}}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,o,r,s,a,c,l,d,u,h,f;let g=t[1].trim();const m=g.length>1;const p={type:"list",raw:"",ordered:m,start:m?+g.slice(0,-1):"",loose:false,items:[]};g=m?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`;if(this.options.pedantic){g=m?g:"[*+-]"}const b=new RegExp(`^( {0,3}${g})((?: [^\\n]*)?(?:\\n|$))`);while(e){f=false;if(!(t=b.exec(e))){break}if(this.rules.block.hr.test(e)){break}n=t[0];e=e.substring(n.length);l=t[2].split("\n",1)[0];d=e.split("\n",1)[0];if(this.options.pedantic){r=2;h=l.trimLeft()}else{r=t[2].search(/[^ ]/);r=r>4?1:r;h=l.slice(r);r+=t[1].length}a=false;if(!l&&/^ *$/.test(d)){n+=d+"\n";e=e.substring(d.length+1);f=true}if(!f){const t=new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])`);while(e){u=e.split("\n",1)[0];l=u;if(this.options.pedantic){l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")}if(t.test(l)){break}if(l.search(/[^ ]/)>=r||!l.trim()){h+="\n"+l.slice(r)}else if(!a){h+="\n"+l}else{break}if(!a&&!l.trim()){a=true}n+=u+"\n";e=e.substring(u.length+1)}}if(!p.loose){if(c){p.loose=true}else if(/\n *\n *$/.test(n)){c=true}}if(this.options.gfm){i=/^\[[ xX]\] /.exec(h);if(i){o=i[0]!=="[ ] ";h=h.replace(/^\[[ xX]\] +/,"")}}p.items.push({type:"list_item",raw:n,task:!!i,checked:o,loose:false,text:h});p.raw+=n}p.items[p.items.length-1].raw=n.trimRight();p.items[p.items.length-1].text=h.trimRight();p.raw=p.raw.trimRight();const k=p.items.length;for(s=0;s<k;s++){this.lexer.state.top=false;p.items[s].tokens=this.lexer.blockTokens(p.items[s].text,[]);const e=p.items[s].tokens.filter((e=>e.type==="space"));const t=e.every((e=>{const t=e.raw.split("");let n=0;for(const e of t){if(e==="\n"){n+=1}if(n>1){return true}}return false}));if(!p.loose&&e.length&&t){p.loose=true;p.items[s].loose=true}}return p}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){e.type="paragraph";e.text=this.options.sanitizer?this.options.sanitizer(t[0]):aj(t[0]);e.tokens=[];this.lexer.inline(e.text,e.tokens)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){if(t[3])t[3]=t[3].substring(1,t[3].length-1);const e=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:e,raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:vj(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n=e.align.length;let i,o,r,s;for(i=0;i<n;i++){if(/^ *-+: *$/.test(e.align[i])){e.align[i]="right"}else if(/^ *:-+: *$/.test(e.align[i])){e.align[i]="center"}else if(/^ *:-+ *$/.test(e.align[i])){e.align[i]="left"}else{e.align[i]=null}}n=e.rows.length;for(i=0;i<n;i++){e.rows[i]=vj(e.rows[i],e.header.length).map((e=>({text:e})))}n=e.header.length;for(o=0;o<n;o++){e.header[o].tokens=[];this.lexer.inlineTokens(e.header[o].text,e.header[o].tokens)}n=e.rows.length;for(o=0;o<n;o++){s=e.rows[o];for(r=0;r<s.length;r++){s[r].tokens=[];this.lexer.inlineTokens(s[r].text,s[r].tokens)}}return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};this.lexer.inline(e.text,e.tokens);return e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)==="\n"?t[1].slice(0,-1):t[1],tokens:[]};this.lexer.inline(e.text,e.tokens);return e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};this.lexer.inline(e.text,e.tokens);return e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t){return{type:"escape",raw:t[0],text:aj(t[1])}}}tag(e){const t=this.rules.inline.tag.exec(e);if(t){if(!this.lexer.state.inLink&&/^<a /i.test(t[0])){this.lexer.state.inLink=true}else if(this.lexer.state.inLink&&/^<\/a>/i.test(t[0])){this.lexer.state.inLink=false}if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])){this.lexer.state.inRawBlock=true}else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])){this.lexer.state.inRawBlock=false}return{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):aj(t[0]):t[0]}}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e)){return}const t=Cj(e.slice(0,-1),"\\");if((e.length-t.length)%2===0){return}}else{const e=yj(t[2],"()");if(e>-1){const n=t[0].indexOf("!")===0?5:4;const i=n+t[1].length+e;t[2]=t[2].substring(0,e);t[0]=t[0].substring(0,i).trim();t[3]=""}}let n=t[2];let i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);if(e){n=e[1];i=e[3]}}else{i=t[3]?t[3].slice(1,-1):""}n=n.trim();if(/^</.test(n)){if(this.options.pedantic&&!/>$/.test(e)){n=n.slice(1)}else{n=n.slice(1,-1)}}return Dj(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");e=t[e.toLowerCase()];if(!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Dj(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(n===""||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let o,r,s=n,a=0;const c=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;c.lastIndex=0;t=t.slice(-1*e.length+n);while((i=c.exec(t))!=null){o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6];if(!o)continue;r=o.length;if(i[3]||i[4]){s+=r;continue}else if(i[5]||i[6]){if(n%3&&!((n+r)%3)){a+=r;continue}}s-=r;if(s>0)continue;r=Math.min(r,r+s+a);if(Math.min(n,r)%2){const t=e.slice(1,n+i.index+r);return{type:"em",raw:e.slice(0,n+i.index+r+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+i.index+r-1);return{type:"strong",raw:e.slice(0,n+i.index+r+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e);const i=/^ /.test(e)&&/ $/.test(e);if(n&&i){e=e.substring(1,e.length-1)}e=aj(e,true);return{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t){return{type:"br",raw:t[0]}}}del(e){const t=this.rules.inline.del.exec(e);if(t){return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;if(n[2]==="@"){e=aj(this.options.mangle?t(n[1]):n[1]);i="mailto:"+e}else{e=aj(n[1]);i=e}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if(n[2]==="@"){e=aj(this.options.mangle?t(n[0]):n[0]);i="mailto:"+e}else{let t;do{t=n[0];n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=aj(n[0]);if(n[1]==="www."){i="http://"+e}else{i=e}}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;if(this.lexer.state.inRawBlock){e=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):aj(n[0]):n[0]}else{e=aj(this.options.smartypants?t(n[0]):n[0])}return{type:"text",raw:n[0],text:e}}}}const Ij={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:"+"<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)"+"|comment[^\\n]*(\\n+|$)"+"|<\\?[\\s\\S]*?(?:\\?>\\n*|$)"+"|<![A-Z][\\s\\S]*?(?:>\\n*|$)"+"|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)"+"|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)"+"|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)"+"|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)"+")",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:_j,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ij._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Ij._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Ij.def=uj(Ij.def).replace("label",Ij._label).replace("title",Ij._title).getRegex();Ij.bullet=/(?:[*+-]|\d{1,9}[.)])/;Ij.listItemStart=uj(/^( *)(bull) */).replace("bull",Ij.bullet).getRegex();Ij.list=uj(Ij.list).replace(/bull/g,Ij.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ij.def.source+")").getRegex();Ij._tag="address|article|aside|base|basefont|blockquote|body|caption"+"|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption"+"|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe"+"|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option"+"|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr"+"|track|ul";Ij._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Ij.html=uj(Ij.html,"i").replace("comment",Ij._comment).replace("tag",Ij._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Ij.paragraph=uj(Ij._paragraph).replace("hr",Ij.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ij._tag).getRegex();Ij.blockquote=uj(Ij.blockquote).replace("paragraph",Ij.paragraph).getRegex();Ij.normal=Aj({},Ij);Ij.gfm=Aj({},Ij.normal,{table:"^ *([^\\n ].*\\|.*)\\n"+" {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?"+"(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Ij.gfm.table=uj(Ij.gfm.table).replace("hr",Ij.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ij._tag).getRegex();Ij.gfm.paragraph=uj(Ij._paragraph).replace("hr",Ij.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ij.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ij._tag).getRegex();Ij.pedantic=Aj({},Ij.normal,{html:uj("^ *(?:comment *(?:\\n|\\s*$)"+"|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)"+"|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ij._comment).replace(/tag/g,"(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub"+"|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)"+"\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_j,paragraph:uj(Ij.normal._paragraph).replace("hr",Ij.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ij.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Sj={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_j,tag:"^comment"+"|^</[a-zA-Z][\\w:-]*\\s*>"+"|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>"+"|^<\\?[\\s\\S]*?\\?>"+"|^<![a-zA-Z]+\\s[\\s\\S]*?>"+"|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_j,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Sj._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Sj.punctuation=uj(Sj.punctuation).replace(/punctuation/g,Sj._punctuation).getRegex();Sj.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Sj.escapedEmSt=/\\\*|\\_/g;Sj._comment=uj(Ij._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();Sj.emStrong.lDelim=uj(Sj.emStrong.lDelim).replace(/punct/g,Sj._punctuation).getRegex();Sj.emStrong.rDelimAst=uj(Sj.emStrong.rDelimAst,"g").replace(/punct/g,Sj._punctuation).getRegex();Sj.emStrong.rDelimUnd=uj(Sj.emStrong.rDelimUnd,"g").replace(/punct/g,Sj._punctuation).getRegex();Sj._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Sj._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Sj._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Sj.autolink=uj(Sj.autolink).replace("scheme",Sj._scheme).replace("email",Sj._email).getRegex();Sj._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Sj.tag=uj(Sj.tag).replace("comment",Sj._comment).replace("attribute",Sj._attribute).getRegex();Sj._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Sj._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Sj._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Sj.link=uj(Sj.link).replace("label",Sj._label).replace("href",Sj._href).replace("title",Sj._title).getRegex();Sj.reflink=uj(Sj.reflink).replace("label",Sj._label).replace("ref",Ij._label).getRegex();Sj.nolink=uj(Sj.nolink).replace("ref",Ij._label).getRegex();Sj.reflinkSearch=uj(Sj.reflinkSearch,"g").replace("reflink",Sj.reflink).replace("nolink",Sj.nolink).getRegex();Sj.normal=Aj({},Sj);Sj.pedantic=Aj({},Sj.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:uj(/^!?\[(label)\]\((.*?)\)/).replace("label",Sj._label).getRegex(),reflink:uj(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sj._label).getRegex()});Sj.gfm=Aj({},Sj.normal,{escape:uj(Sj.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Sj.gfm.url=uj(Sj.gfm.url,"i").replace("email",Sj.gfm._extended_email).getRegex();Sj.breaks=Aj({},Sj.gfm,{br:uj(Sj.br).replace("{2,}","*").getRegex(),text:uj(Sj.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Bj(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Nj(e){let t="",n,i;const o=e.length;for(n=0;n<o;n++){i=e.charCodeAt(n);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t}class zj{constructor(e){this.tokens=[];this.tokens.links=Object.create(null);this.options=e||XR;this.options.tokenizer=this.options.tokenizer||new Mj;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:false,inRawBlock:false,top:true};const t={block:Ij.normal,inline:Sj.normal};if(this.options.pedantic){t.block=Ij.pedantic;t.inline=Sj.pedantic}else if(this.options.gfm){t.block=Ij.gfm;if(this.options.breaks){t.inline=Sj.breaks}else{t.inline=Sj.gfm}}this.tokenizer.rules=t}static get rules(){return{block:Ij,inline:Sj}}static lex(e,t){const n=new zj(t);return n.lex(e)}static lexInline(e,t){const n=new zj(t);return n.inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(e,this.tokens);let t;while(t=this.inlineQueue.shift()){this.inlineTokens(t.src,t.tokens)}return this.tokens}blockTokens(e,t=[]){if(this.options.pedantic){e=e.replace(/^ +$/gm,"")}let n,i,o,r;while(e){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>{if(n=i.call({lexer:this},e,t)){e=e.substring(n.raw.length);t.push(n);return true}return false}))){continue}if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);if(n.raw.length===1&&t.length>0){t[t.length-1].raw+="\n"}else{t.push(n)}continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);i=t[t.length-1];if(i&&(i.type==="paragraph"||i.type==="text")){i.raw+="\n"+n.raw;i.text+="\n"+n.text;this.inlineQueue[this.inlineQueue.length-1].src=i.text}else{t.push(n)}continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);i=t[t.length-1];if(i&&(i.type==="paragraph"||i.type==="text")){i.raw+="\n"+n.raw;i.text+="\n"+n.raw;this.inlineQueue[this.inlineQueue.length-1].src=i.text}else if(!this.tokens.links[n.tag]){this.tokens.links[n.tag]={href:n.href,title:n.title}}continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length);t.push(n);continue}o=e;if(this.options.extensions&&this.options.extensions.startBlock){let t=Infinity;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n);if(typeof i==="number"&&i>=0){t=Math.min(t,i)}}));if(t<Infinity&&t>=0){o=e.substring(0,t+1)}}if(this.state.top&&(n=this.tokenizer.paragraph(o))){i=t[t.length-1];if(r&&i.type==="paragraph"){i.raw+="\n"+n.raw;i.text+="\n"+n.text;this.inlineQueue.pop();this.inlineQueue[this.inlineQueue.length-1].src=i.text}else{t.push(n)}r=o.length!==e.length;e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);i=t[t.length-1];if(i&&i.type==="text"){i.raw+="\n"+n.raw;i.text+="\n"+n.text;this.inlineQueue.pop();this.inlineQueue[this.inlineQueue.length-1].src=i.text}else{t.push(n)}continue}if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else{throw new Error(t)}}}this.state.top=true;return t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,i,o;let r=e;let s;let a,c;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0){while((s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null){if(e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))){r=r.slice(0,s.index)+"["+Ej("a",s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}}}while((s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null){r=r.slice(0,s.index)+"["+Ej("a",s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex)}while((s=this.tokenizer.rules.inline.escapedEmSt.exec(r))!=null){r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex)}while(e){if(!a){c=""}a=false;if(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>{if(n=i.call({lexer:this},e,t)){e=e.substring(n.raw.length);t.push(n);return true}return false}))){continue}if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length);i=t[t.length-1];if(i&&n.type==="text"&&i.type==="text"){i.raw+=n.raw;i.text+=n.text}else{t.push(n)}continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);i=t[t.length-1];if(i&&n.type==="text"&&i.type==="text"){i.raw+=n.raw;i.text+=n.text}else{t.push(n)}continue}if(n=this.tokenizer.emStrong(e,r,c)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length);t.push(n);continue}if(n=this.tokenizer.autolink(e,Nj)){e=e.substring(n.raw.length);t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Nj))){e=e.substring(n.raw.length);t.push(n);continue}o=e;if(this.options.extensions&&this.options.extensions.startInline){let t=Infinity;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n);if(typeof i==="number"&&i>=0){t=Math.min(t,i)}}));if(t<Infinity&&t>=0){o=e.substring(0,t+1)}}if(n=this.tokenizer.inlineText(o,Bj)){e=e.substring(n.raw.length);if(n.raw.slice(-1)!=="_"){c=n.raw.slice(-1)}a=true;i=t[t.length-1];if(i&&i.type==="text"){i.raw+=n.raw;i.text+=n.text}else{t.push(n)}continue}if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else{throw new Error(t)}}}return t}}class Pj{constructor(e){this.options=e||XR}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);if(t!=null&&t!==e){n=true;e=t}}e=e.replace(/\n$/,"")+"\n";if(!i){return"<pre><code>"+(n?e:aj(e,true))+"</code></pre>\n"}return'<pre><code class="'+this.options.langPrefix+aj(i,true)+'">'+(n?e:aj(e,true))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){return"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n"}return"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+">\n"+e+"</"+i+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){if(t)t="<tbody>"+t+"</tbody>";return"<table>\n"+"<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";const i=t.align?"<"+n+' align="'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){e=gj(this.options.sanitize,this.options.baseUrl,e);if(e===null){return n}let i='<a href="'+aj(e)+'"';if(t){i+=' title="'+t+'"'}i+=">"+n+"</a>";return i}image(e,t,n){e=gj(this.options.sanitize,this.options.baseUrl,e);if(e===null){return n}let i='<img src="'+e+'" alt="'+n+'"';if(t){i+=' title="'+t+'"'}i+=this.options.xhtml?"/>":">";return i}text(e){return e}}class Lj{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Oj{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e;let i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++;n=e+"-"+i}while(this.seen.hasOwnProperty(n))}if(!t){this.seen[e]=i;this.seen[n]=0}return n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Rj{constructor(e){this.options=e||XR;this.options.renderer=this.options.renderer||new Pj;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Lj;this.slugger=new Oj}static parse(e,t){const n=new Rj(t);return n.parse(e)}static parseInline(e,t){const n=new Rj(t);return n.parseInline(e)}parse(e,t=true){let n="",i,o,r,s,a,c,l,d,u,h,f,g,m,p,b,k,w,_,A;const v=e.length;for(i=0;i<v;i++){h=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]){A=this.options.extensions.renderers[h.type].call({parser:this},h);if(A!==false||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){n+=A||"";continue}}switch(h.type){case"space":{continue}case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(h.tokens),h.depth,lj(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{d="";l="";s=h.header.length;for(o=0;o<s;o++){l+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:true,align:h.align[o]})}d+=this.renderer.tablerow(l);u="";s=h.rows.length;for(o=0;o<s;o++){c=h.rows[o];l="";a=c.length;for(r=0;r<a;r++){l+=this.renderer.tablecell(this.parseInline(c[r].tokens),{header:false,align:h.align[r]})}u+=this.renderer.tablerow(l)}n+=this.renderer.table(d,u);continue}case"blockquote":{u=this.parse(h.tokens);n+=this.renderer.blockquote(u);continue}case"list":{f=h.ordered;g=h.start;m=h.loose;s=h.items.length;u="";for(o=0;o<s;o++){b=h.items[o];k=b.checked;w=b.task;p="";if(b.task){_=this.renderer.checkbox(k);if(m){if(b.tokens.length>0&&b.tokens[0].type==="paragraph"){b.tokens[0].text=_+" "+b.tokens[0].text;if(b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"){b.tokens[0].tokens[0].text=_+" "+b.tokens[0].tokens[0].text}}else{b.tokens.unshift({type:"text",text:_})}}else{p+=_}}p+=this.parse(b.tokens,m);u+=this.renderer.listitem(p,w,k)}n+=this.renderer.list(u,f,g);continue}case"html":{n+=this.renderer.html(h.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{u=h.tokens?this.parseInline(h.tokens):h.text;while(i+1<v&&e[i+1].type==="text"){h=e[++i];u+="\n"+(h.tokens?this.parseInline(h.tokens):h.text)}n+=t?this.renderer.paragraph(u):u;continue}default:{const e='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(e);return}else{throw new Error(e)}}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,o,r;const s=e.length;for(i=0;i<s;i++){o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){r=this.options.extensions.renderers[o.type].call({parser:this},o);if(r!==false||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=r||"";continue}}switch(o.type){case"escape":{n+=t.text(o.text);break}case"html":{n+=t.html(o.text);break}case"link":{n+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{n+=t.image(o.href,o.title,o.text);break}case"strong":{n+=t.strong(this.parseInline(o.tokens,t));break}case"em":{n+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{n+=t.codespan(o.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(o.tokens,t));break}case"text":{n+=t.text(o.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(e);return}else{throw new Error(e)}}}}return n}}function jj(e,t,n){if(typeof e==="undefined"||e===null){throw new Error("marked(): input parameter is undefined or null")}if(typeof e!=="string"){throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected")}if(typeof t==="function"){n=t;t=null}t=Aj({},jj.defaults,t||{});xj(t);if(n){const i=t.highlight;let o;try{o=zj.lex(e,t)}catch(e){return n(e)}const r=function(e){let r;if(!e){try{if(t.walkTokens){jj.walkTokens(o,t.walkTokens)}r=Rj.parse(o,t)}catch(t){e=t}}t.highlight=i;return e?n(e):n(null,r)};if(!i||i.length<3){return r()}delete t.highlight;if(!o.length)return r();let s=0;jj.walkTokens(o,(function(e){if(e.type==="code"){s++;setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t){return r(t)}if(n!=null&&n!==e.text){e.text=n;e.escaped=true}s--;if(s===0){r()}}))}),0)}}));if(s===0){r()}return}try{const n=zj.lex(e,t);if(t.walkTokens){jj.walkTokens(n,t.walkTokens)}return Rj.parse(n,t)}catch(e){e.message+="\nPlease report this to https://github.com/markedjs/marked.";if(t.silent){return"<p>An error occurred:</p><pre>"+aj(e.message+"",true)+"</pre>"}throw e}}jj.options=jj.setOptions=function(e){Aj(jj.defaults,e);ej(jj.defaults);return jj};jj.getDefaults=JR;jj.defaults=XR;jj.use=function(...e){const t=Aj({},...e);const n=jj.defaults.extensions||{renderers:{},childTokens:{}};let i;e.forEach((e=>{if(e.extensions){i=true;e.extensions.forEach((e=>{if(!e.name){throw new Error("extension name required")}if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;if(t){n.renderers[e.name]=function(...n){let i=e.renderer.apply(this,n);if(i===false){i=t.apply(this,n)}return i}}else{n.renderers[e.name]=e.renderer}}if(e.tokenizer){if(!e.level||e.level!=="block"&&e.level!=="inline"){throw new Error("extension level must be 'block' or 'inline'")}if(n[e.level]){n[e.level].unshift(e.tokenizer)}else{n[e.level]=[e.tokenizer]}if(e.start){if(e.level==="block"){if(n.startBlock){n.startBlock.push(e.start)}else{n.startBlock=[e.start]}}else if(e.level==="inline"){if(n.startInline){n.startInline.push(e.start)}else{n.startInline=[e.start]}}}}if(e.childTokens){n.childTokens[e.name]=e.childTokens}}))}if(e.renderer){const n=jj.defaults.renderer||new Pj;for(const t in e.renderer){const i=n[t];n[t]=(...o)=>{let r=e.renderer[t].apply(n,o);if(r===false){r=i.apply(n,o)}return r}}t.renderer=n}if(e.tokenizer){const n=jj.defaults.tokenizer||new Mj;for(const t in e.tokenizer){const i=n[t];n[t]=(...o)=>{let r=e.tokenizer[t].apply(n,o);if(r===false){r=i.apply(n,o)}return r}}t.tokenizer=n}if(e.walkTokens){const n=jj.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t);if(n){n.call(this,t)}}}if(i){t.extensions=n}jj.setOptions(t)}))};jj.walkTokens=function(e,t){for(const n of e){t.call(jj,n);switch(n.type){case"table":{for(const e of n.header){jj.walkTokens(e.tokens,t)}for(const e of n.rows){for(const n of e){jj.walkTokens(n.tokens,t)}}break}case"list":{jj.walkTokens(n.items,t);break}default:{if(jj.defaults.extensions&&jj.defaults.extensions.childTokens&&jj.defaults.extensions.childTokens[n.type]){jj.defaults.extensions.childTokens[n.type].forEach((function(e){jj.walkTokens(n[e],t)}))}else if(n.tokens){jj.walkTokens(n.tokens,t)}}}}};jj.parseInline=function(e,t){if(typeof e==="undefined"||e===null){throw new Error("marked.parseInline(): input parameter is undefined or null")}if(typeof e!=="string"){throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected")}t=Aj({},jj.defaults,t||{});xj(t);try{const n=zj.lexInline(e,t);if(t.walkTokens){jj.walkTokens(n,t.walkTokens)}return Rj.parseInline(n,t)}catch(e){e.message+="\nPlease report this to https://github.com/markedjs/marked.";if(t.silent){return"<p>An error occurred:</p><pre>"+aj(e.message+"",true)+"</pre>"}throw e}};jj.Parser=Rj;jj.parser=Rj.parse;jj.Renderer=Pj;jj.TextRenderer=Lj;jj.Lexer=zj;jj.lexer=zj.lex;jj.Tokenizer=Mj;jj.Slugger=Oj;jj.parse=jj;const Fj=jj.options;const Vj=jj.setOptions;const Hj=jj.use;const Uj=jj.walkTokens;const Wj=jj.parseInline;const $j=null&&jj;const qj=Rj.parse;const Gj=zj.lex;jj.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...e){return Object.getPrototypeOf(this).checkbox.call(this,...e).trimRight()},code(...e){return Object.getPrototypeOf(this).code.call(this,...e).replace("\n</code>","</code>")}}});function Yj(e){const t={gfm:true,breaks:true,tables:true,xhtml:true,headerIds:false};return jj.parse(e,t)}function Kj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(n.hasOwnProperty(i))e[i]=n[i]}}return e}function Zj(e,t){return Array(t+1).join(e)}var Qj=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function Jj(e){return Qj.indexOf(e.nodeName.toLowerCase())!==-1}var Xj=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function eF(e){return Xj.indexOf(e.nodeName.toLowerCase())!==-1}var tF=Xj.join();function nF(e){return e.querySelector&&e.querySelector(tF)}var iF={};iF.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}};iF.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}};iF.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var i=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&i<3){var o=Zj(i===1?"=":"-",e.length);return"\n\n"+e+"\n"+o+"\n\n"}else{return"\n\n"+Zj("#",i)+" "+e+"\n\n"}}};iF.blockquote={filter:"blockquote",replacement:function(e){e=e.replace(/^\n+|\n+$/g,"");e=e.replace(/^/gm,"> ");return"\n\n"+e+"\n\n"}};iF.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;if(n.nodeName==="LI"&&n.lastElementChild===t){return"\n"+e}else{return"\n\n"+e+"\n\n"}}};iF.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var i=n.bulletListMarker+"   ";var o=t.parentNode;if(o.nodeName==="OL"){var r=o.getAttribute("start");var s=Array.prototype.indexOf.call(o.children,t);i=(r?Number(r)+s:s+1)+".  "}return i+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}};iF.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}};iF.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){var i=t.firstChild.className||"";var o=(i.match(/language-(\S+)/)||[null,""])[1];var r=t.firstChild.textContent;var s=n.fence.charAt(0);var a=3;var c=new RegExp("^"+s+"{3,}","gm");var l;while(l=c.exec(r)){if(l[0].length>=a){a=l[0].length+1}}var d=Zj(s,a);return"\n\n"+d+o+"\n"+r.replace(/\n$/,"")+"\n"+d+"\n\n"}};iF.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}};iF.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");var i=t.title?' "'+t.title+'"':"";return"["+e+"]("+n+i+")"}};iF.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var i=t.getAttribute("href");var o=t.title?' "'+t.title+'"':"";var r;var s;switch(n.linkReferenceStyle){case"collapsed":r="["+e+"][]";s="["+e+"]: "+i+o;break;case"shortcut":r="["+e+"]";s="["+e+"]: "+i+o;break;default:var a=this.references.length+1;r="["+e+"]["+a+"]";s="["+a+"]: "+i+o}this.references.push(s);return r},references:[],append:function(e){var t="";if(this.references.length){t="\n\n"+this.references.join("\n")+"\n\n";this.references=[]}return t}};iF.emphasis={filter:["em","i"],replacement:function(e,t,n){if(!e.trim())return"";return n.emDelimiter+e+n.emDelimiter}};iF.strong={filter:["strong","b"],replacement:function(e,t,n){if(!e.trim())return"";return n.strongDelimiter+e+n.strongDelimiter}};iF.code={filter:function(e){var t=e.previousSibling||e.nextSibling;var n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e.trim())return"";var t="`";var n="";var i="";var o=e.match(/`+/gm);if(o){if(/^`/.test(e))n=" ";if(/`$/.test(e))i=" ";while(o.indexOf(t)!==-1)t=t+"`"}return t+n+e+i+t}};iF.image={filter:"img",replacement:function(e,t){var n=t.alt||"";var i=t.getAttribute("src")||"";var o=t.title||"";var r=o?' "'+o+'"':"";return i?"!["+n+"]"+"("+i+r+")":""}};function oF(e){this.options=e;this._keep=[];this._remove=[];this.blankRule={replacement:e.blankReplacement};this.keepReplacement=e.keepReplacement;this.defaultRule={replacement:e.defaultReplacement};this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}oF.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;if(t=rF(this.array,e,this.options))return t;if(t=rF(this._keep,e,this.options))return t;if(t=rF(this._remove,e,this.options))return t;return this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function rF(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];if(sF(o,t,n))return o}return void 0}function sF(e,t,n){var i=e.filter;if(typeof i==="string"){if(i===t.nodeName.toLowerCase())return true}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return true}else if(typeof i==="function"){if(i.call(e,t,n))return true}else{throw new TypeError("`filter` needs to be a string, array, or function")}}function aF(e){var t=e.element;var n=e.isBlock;var i=e.isVoid;var o=e.isPre||function(e){return e.nodeName==="PRE"};if(!t.firstChild||o(t))return;var r=null;var s=false;var a=null;var c=lF(a,t,o);while(c!==t){if(c.nodeType===3||c.nodeType===4){var l=c.data.replace(/[ \r\n\t]+/g," ");if((!r||/ $/.test(r.data))&&!s&&l[0]===" "){l=l.substr(1)}if(!l){c=cF(c);continue}c.data=l;r=c}else if(c.nodeType===1){if(n(c)||c.nodeName==="BR"){if(r){r.data=r.data.replace(/ $/,"")}r=null;s=false}else if(i(c)){r=null;s=true}}else{c=cF(c);continue}var d=lF(a,c,o);a=c;c=d}if(r){r.data=r.data.replace(/ $/,"");if(!r.data){cF(r)}}}function cF(e){var t=e.nextSibling||e.parentNode;e.parentNode.removeChild(e);return t}function lF(e,t,n){if(e&&e.parentNode===t||n(t)){return t.nextSibling||t.parentNode}return t.firstChild||t.nextSibling||t.parentNode}var dF=typeof window!=="undefined"?window:{};function uF(){var e=dF.DOMParser;var t=false;try{if((new e).parseFromString("","text/html")){t=true}}catch(e){}return t}function hF(){var e=function(){};{var t=__webpack_require__(1576).JSDOM;e.prototype.parseFromString=function(e){return new t(e).window.document}}return e}var fF=uF()?dF.DOMParser:hF();function gF(e){var t;if(typeof e==="string"){var n=pF().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");t=n.getElementById("turndown-root")}else{t=e.cloneNode(true)}aF({element:t,isBlock:Jj,isVoid:eF});return t}var mF;function pF(){mF=mF||new fF;return mF}function bF(e){e.isBlock=Jj(e);e.isCode=e.nodeName.toLowerCase()==="code"||e.parentNode.isCode;e.isBlank=kF(e);e.flankingWhitespace=wF(e);return e}function kF(e){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(e.nodeName)===-1&&/^\s*$/i.test(e.textContent)&&!eF(e)&&!nF(e)}function wF(e){var t="";var n="";if(!e.isBlock){var i=/^\s/.test(e.textContent);var o=/\s$/.test(e.textContent);var r=e.isBlank&&i&&o;if(i&&!_F("left",e)){t=" "}if(!r&&o&&!_F("right",e)){n=" "}}return{leading:t,trailing:n}}function _F(e,t){var n;var i;var o;if(e==="left"){n=t.previousSibling;i=/ $/}else{n=t.nextSibling;i=/^ /}if(n){if(n.nodeType===3){o=i.test(n.nodeValue)}else if(n.nodeType===1&&!Jj(n)){o=i.test(n.textContent)}}return o}var AF=Array.prototype.reduce;var vF=/^\n*/;var CF=/\n*$/;var yF=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function xF(e){if(!(this instanceof xF))return new xF(e);var t={rules:iF,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=Kj({},t,e);this.rules=new oF(this.options)}xF.prototype={turndown:function(e){if(!SF(e)){throw new TypeError(e+" is not a string, or an element/document/fragment node.")}if(e==="")return"";var t=EF.call(this,new gF(e));return DF.call(this,t)},use:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)this.use(e[t])}else if(typeof e==="function"){e(this)}else{throw new TypeError("plugin must be a Function or an Array of Functions")}return this},addRule:function(e,t){this.rules.add(e,t);return this},keep:function(e){this.rules.keep(e);return this},remove:function(e){this.rules.remove(e);return this},escape:function(e){return yF.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};function EF(e){var t=this;return AF.call(e.childNodes,(function(e,n){n=new bF(n);var i="";if(n.nodeType===3){i=n.isCode?n.nodeValue:t.escape(n.nodeValue)}else if(n.nodeType===1){i=TF.call(t,n)}return IF(e,i)}),"")}function DF(e){var t=this;this.rules.forEach((function(n){if(typeof n.append==="function"){e=IF(e,n.append(t.options))}}));return e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function TF(e){var t=this.rules.forNode(e);var n=EF.call(this,e);var i=e.flankingWhitespace;if(i.leading||i.trailing)n=n.trim();return i.leading+t.replacement(n,e,this.options)+i.trailing}function MF(e,t){var n=[e.match(CF)[0],t.match(vF)[0]].sort();var i=n[n.length-1];return i.length<2?i:"\n\n"}function IF(e,t){var n=MF(e,t);e=e.replace(CF,"");t=t.replace(vF,"");return e+n+t}function SF(e){return e!=null&&(typeof e==="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const BF=xF;var NF=/highlight-(?:text|source)-([a-z0-9]+)/;function zF(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return e.nodeName==="DIV"&&NF.test(e.className)&&t&&t.nodeName==="PRE"},replacement:function(e,t,n){var i=t.className||"";var o=(i.match(NF)||[null,""])[1];return"\n\n"+n.fence+o+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function PF(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var LF=Array.prototype.indexOf;var OF=Array.prototype.every;var RF={};RF.tableCell={filter:["th","td"],replacement:function(e,t){return VF(e,t)}};RF.tableRow={filter:"tr",replacement:function(e,t){var n="";var i={left:":--",right:"--:",center:":-:"};if(jF(t)){for(var o=0;o<t.childNodes.length;o++){var r="---";var s=(t.childNodes[o].getAttribute("align")||"").toLowerCase();if(s)r=i[s]||r;n+=VF(r,t.childNodes[o])}}return"\n"+e+(n?"\n"+n:"")}};RF.table={filter:function(e){return e.nodeName==="TABLE"&&jF(e.rows[0])},replacement:function(e){e=e.replace("\n\n","\n");return"\n\n"+e+"\n\n"}};RF.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function jF(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||FF(t))&&OF.call(e.childNodes,(function(e){return e.nodeName==="TH"}))}function FF(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function VF(e,t){var n=LF.call(t.parentNode.childNodes,t);var i=" ";if(n===0)i="| ";return i+e+" |"}function HF(e){e.keep((function(e){return e.nodeName==="TABLE"&&!jF(e.rows[0])}));for(var t in RF)e.addRule(t,RF[t])}function UF(e){e.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function WF(e){e.use([zF,PF,HF,UF])}const $F=BF.prototype.escape;function qF(e){e=$F(e);e=e.replace(/</g,"\\<");return e}BF.prototype.escape=function(e){let t="";let n=0;for(const i of QF(e)){const o=i.index;if(o>n){t+=qF(e.substring(n,o))}const r=i[0];t+=r;n=o+r.length}if(n<e.length){t+=qF(e.substring(n,e.length))}return t};const GF=new BF({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});GF.use([WF,KF]);function YF(e){return GF.turndown(e)}function KF(e){e.addRule("taskListItems",{filter(e){return e.type==="checkbox"&&(e.parentNode.nodeName==="LI"||e.parentNode.parentNode.nodeName==="LI")},replacement(e,t){return(t.checked?"[x]":"[ ]")+" "}})}const ZF=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function*QF(e){for(const t of e.matchAll(ZF)){const e=t[0];const n=JF(e);yield Object.assign([e.substring(0,n)],{index:t.index})}}function JF(e){let t=e.length;while(t>0){const n=e[t-1];if("?!.,:*_~'\"".includes(n)){t--}else if(n==")"){let n=0;for(let i=0;i<t;i++){if(e[i]=="("){n++}else if(e[i]==")"){n--}}if(n<0){t--}else{break}}else{break}}return t}class XF{constructor(e){this._htmlDP=new e_(e)}keepHtml(e){GF.keep([e])}toView(e){const t=Yj(e);return this._htmlDP.toView(t)}toData(e){const t=this._htmlDP.toData(e);return YF(t)}registerRawContentMatcher(e){this._htmlDP.registerRawContentMatcher(e)}useFillerType(){}}class eV extends yu{constructor(e){super(e);e.data.processor=new XF(e.data.viewDocument)}static get pluginName(){return"Markdown"}}class tV{constructor(e,t={}){this.skipComments=true;this.namespaces=t.namespaces||[];this.domParser=new DOMParser;this.domConverter=new vm(e,{renderingMode:"data"});this.htmlWriter=new Xw}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{keepOriginalCase:true,skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){const t=this.namespaces.map((e=>`xmlns:${e}="nsp"`)).join(" ");e=`<xml ${t}>${e}</xml>`;const n=this.domParser.parseFromString(e,"text/xml");const i=n.querySelector("parsererror");if(i){throw new Error("Parse error - "+i.textContent)}const o=n.createDocumentFragment();const r=n.documentElement.childNodes;while(r.length>0){o.appendChild(r[0])}return o}}var nV=__webpack_require__(7856);var iV=__webpack_require__.n(nV);class oV{static get safeXmlCharactersEntities(){return{tagOpener:"&laquo;",tagCloser:"&raquo;",doubleQuote:"&uml;",realDoubleQuote:"&quot;"}}static get safeBadBlackboardCharacters(){return{ltElement:"«mo»<«/mo»",gtElement:"«mo»>«/mo»",ampElement:"«mo»&«/mo»"}}static get safeGoodBlackboardCharacters(){return{ltElement:"«mo»§lt;«/mo»",gtElement:"«mo»§gt;«/mo»",ampElement:"«mo»§amp;«/mo»"}}static get xmlCharacters(){return{id:"xmlCharacters",tagOpener:"<",tagCloser:">",doubleQuote:'"',ampersand:"&",quote:"'"}}static get safeXmlCharacters(){return{id:"safeXmlCharacters",tagOpener:"«",tagCloser:"»",doubleQuote:"¨",ampersand:"§",quote:"`",realDoubleQuote:"¨"}}}class rV{static isMathmlInAttribute(e,t){const n="['\"][\\s]*=[\\s]*[\\w-]+";const i="\"[^\"]*\"|'[^']*'";const o=`[\\s]*(${i})[\\s]*=[\\s]*[\\w-]+[\\s]*`;const r=`('${o}')*`;const s=`^${n}${r}[\\s]+gmi<`;const a=new RegExp(s);const c=e.substring(0,t);const l=c.split("").reverse().join("");const d=a.test(l);return d}static safeXmlDecode(e){let{tagOpener:t}=oV.safeXmlCharactersEntities;let{tagCloser:n}=oV.safeXmlCharactersEntities;let{doubleQuote:i}=oV.safeXmlCharactersEntities;let{realDoubleQuote:o}=oV.safeXmlCharactersEntities;e=e.split(t).join(oV.safeXmlCharacters.tagOpener);e=e.split(n).join(oV.safeXmlCharacters.tagCloser);e=e.split(i).join(oV.safeXmlCharacters.doubleQuote);e=e.split(o).join(oV.safeXmlCharacters.realDoubleQuote);const{ltElement:r}=oV.safeBadBlackboardCharacters;const{gtElement:s}=oV.safeBadBlackboardCharacters;const{ampElement:a}=oV.safeBadBlackboardCharacters;if("_wrs_blackboard"in window&&window._wrs_blackboard){e=e.split(r).join(oV.safeGoodBlackboardCharacters.ltElement);e=e.split(s).join(oV.safeGoodBlackboardCharacters.gtElement);e=e.split(a).join(oV.safeGoodBlackboardCharacters.ampElement)}({tagOpener:t}=oV.safeXmlCharacters);({tagCloser:n}=oV.safeXmlCharacters);({doubleQuote:i}=oV.safeXmlCharacters);({realDoubleQuote:o}=oV.safeXmlCharacters);const{ampersand:c}=oV.safeXmlCharacters;const{quote:l}=oV.safeXmlCharacters;e=e.split(t).join(oV.xmlCharacters.tagOpener);e=e.split(n).join(oV.xmlCharacters.tagCloser);e=e.split(i).join(oV.xmlCharacters.doubleQuote);e=e.split(c).join(oV.xmlCharacters.ampersand);e=e.split(l).join(oV.xmlCharacters.quote);let d="";let u=null;for(let t=0;t<e.length;t+=1){const n=e.charAt(t);if(u==null){if(n==="$"){u=""}else{d+=n}}else if(n===";"){d+=`&${u}`;u=null}else if(n.match(/([a-zA-Z0-9#._-] | '-')/)){u+=n}else{d+=`$${u}`;u=null;t-=1}}return d}static safeXmlEncode(e){const{tagOpener:t}=oV.xmlCharacters;const{tagCloser:n}=oV.xmlCharacters;const{doubleQuote:i}=oV.xmlCharacters;const{ampersand:o}=oV.xmlCharacters;const{quote:r}=oV.xmlCharacters;e=e.split(t).join(oV.safeXmlCharacters.tagOpener);e=e.split(n).join(oV.safeXmlCharacters.tagCloser);e=e.split(i).join(oV.safeXmlCharacters.doubleQuote);e=e.split(o).join(oV.safeXmlCharacters.ampersand);e=e.split(r).join(oV.safeXmlCharacters.quote);return e}static mathMLEntities(e){let t="";for(let n=0;n<e.length;n+=1){const i=e.charAt(n);if(e.codePointAt(n)>128){t+=`&#${e.codePointAt(n)};`;if(e.codePointAt(n)>65535){n+=1}}else if(i==="&"){const o=e.indexOf(";",n+1);if(o>=0){const i=document.createElement("span");i.innerHTML=e.substring(n,o+1);t+=`&#${fV.fixedCharCodeAt(i.textContent||i.innerText,0)};`;n=o}else{t+=i}}else{t+=i}}return t}static addCustomEditorClassAttribute(e,t){let n="";const i=e.indexOf("<math");if(i===0){const o=e.indexOf(">");if(e.indexOf("class")===-1){n=`${e.substr(i,o)} class="wrs_${t}">`;n+=e.substr(o+1,e.length);return n}}return e}static removeCustomEditorClassAttribute(e,t){if(e.indexOf("class")===-1||e.indexOf(`wrs_${t}`)===-1){return e}if(e.indexOf(` class="wrs_${t}"`)!==-1){return e.replace(` class="wrs_${t}"`,"")}else if(e.indexOf(`class="wrs_${t}"`)!==-1){return e.replace(`class="wrs_${t}"`,"")}return e.replace(`wrs_${t}`,"")}static addAnnotation(e,t,n){const i=e.indexOf("<annotation");let o="";if(i!==-1){const i=e.indexOf("</semantics>");o=`${e.substring(0,i)}<annotation encoding="${n}">${t}</annotation>${e.substring(i)}`}else if(rV.isEmpty(e)){const i=e.indexOf("/>");const r=e.indexOf(">");const s=r===i?i:r;o=`${e.substring(0,s)}><semantics><annotation encoding="${n}">${t}</annotation></semantics></math>`}else{const i=e.indexOf(">")+1;const r=e.lastIndexOf("</math>");const s=e.substring(i,r);o=`${e.substring(0,i)}<semantics><mrow>${s}</mrow><annotation encoding="${n}">${t}</annotation></semantics></math>`}return o}static removeAnnotation(e,t){let n=e;const i=`<annotation encoding="${t}">`;const o="</annotation>";const r=e.indexOf(i);if(r!==-1){let t=false;let i=e.indexOf("<annotation");while(i!==-1){if(i!==r){t=true}i=e.indexOf("<annotation",i+1)}if(t){const t=e.indexOf(o,r);const i=t+o.length;const s=e.substring(0,r);n=s+e.substring(i)}else{n=rV.removeSemantics(e)}}return n}static removeSemantics(e){const t="</math>";const n="<semantics>";const i="<annotation";let o=e;const r=e.indexOf(n);if(r!==-1){const s=e.indexOf(i,r+n.length);if(s!==-1){o=e.substring(0,r)+e.substring(r+n.length,s)+t}}return o}static removeSemanticsOcurrences(e,t=oV.xmlCharacters){const n=`${t.tagOpener}math`;const i=`${t.tagOpener}/math${t.tagCloser}`;const o=`/${t.tagCloser}`;const{tagCloser:r}=t;const s=`${t.tagOpener}semantics${t.tagCloser}`;const a=`${t.tagOpener}annotation encoding=`;let c="";let l=e.indexOf(n);let d=0;while(l!==-1){c+=e.substring(d,l);const t=e.indexOf(i,l);const u=e.indexOf(o,l);const h=e.indexOf(r,l);if(t!==-1){d=t}else if(u===h-1){d=u}const f=e.indexOf(s,l);if(f!==-1){const t=e.substring(l,f);const o=e.indexOf(a,l);if(o!==-1){const r=f+s.length;const a=e.substring(r,o);c+=t+a+i;l=e.indexOf(n,l+n.length);d+=i.length}else{d=l;l=e.indexOf(n,l+n.length)}}else{d=l;l=e.indexOf(n,l+n.length)}}c+=e.substring(d,e.length);return c}static containClass(e,t){const n=e.indexOf("class");if(n===-1){return false}const i=e.indexOf(">",n);const o=e.substring(n,i);if(o.indexOf(t)!==-1){return true}return false}static isEmpty(e){const t=">";const n="/>";const i=e.indexOf(t);const o=e.indexOf(n);let r=false;if(o!==-1){if(o===i-1){r=true}}if(!r){const t=new RegExp("</(.+:)?math>");const n=t.exec(e);if(n){r=i+1===n.index}}return r}static encodeProperties(e){const t=/\w+=".*?"/g;const n=e=>{const t=e.indexOf('"');const n=e.substring(t+1,e.length-1);const i=fV.htmlEntities(n);const o=`${e.substring(0,t+1)}${i}"`;return o};const i=e.replace(t,n);return i}}class sV{static addConfiguration(e){Object.assign(sV.properties,e)}static get properties(){return sV._properties}static set properties(e){sV._properties=e}static get(e){if(!Object.prototype.hasOwnProperty.call(sV.properties,e)){if(Object.prototype.hasOwnProperty.call(sV.properties,"_wrs_conf_")){return sV.properties[`_wrs_conf_${e}`]}return false}return sV.properties[e]}static set(e,t){sV.properties[e]=t}static update(e,t){if(!sV.get(e)){sV.set(e,t)}else{const n=Object.assign(sV.get(e),t);sV.set(e,n)}}}sV._properties={};class aV{constructor(){this.cache=[]}populate(e,t){this.cache[e]=t}get(e){if(Object.prototype.hasOwnProperty.call(this.cache,e)){return this.cache[e]}return false}}class cV{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}fire(e,t){for(let n=0;n<this.listeners.length&&!t.cancelled;n+=1){if(this.listeners[n].eventName===e){this.listeners[n].callback(t)}}return t.defaultPrevented}static newListener(e,t){const n={};n.eventName=e;n.callback=t;return n}}class lV{static get listeners(){return lV._listeners}static addListener(e){lV.listeners.add(e)}static fireEvent(e,t){lV.listeners.fire(e,t)}static get parameters(){return lV._parameters}static set parameters(e){lV._parameters=e}static get servicePaths(){return lV._servicePaths}static set servicePaths(e){lV._servicePaths=e}static setServicePath(e,t){lV.servicePaths[e]=t}static getServicePath(e){return lV.servicePaths[e]}static get integrationPath(){return lV._integrationPath}static set integrationPath(e){lV._integrationPath=e}static getServerURL(){const e=window.location.href;const t=e.split("/");const n=`${t[0]}//${t[2]}`;return n}static init(e){lV.parameters=e;let t=lV.createServiceURI("configurationjs");let n=lV.createServiceURI("createimage");let i=lV.createServiceURI("showimage");let o=lV.createServiceURI("getmathml");let r=lV.createServiceURI("service");if(lV.parameters.URI.indexOf("/")===0){const e=lV.getServerURL();t=e+t;i=e+i;n=e+n;o=e+o;r=e+r}lV.setServicePath("configurationjs",t);lV.setServicePath("showimage",i);lV.setServicePath("createimage",n);lV.setServicePath("service",r);lV.setServicePath("getmathml",o);lV.setServicePath("configurationjs",t);lV.listeners.fire("onInit",{})}static getUrl(e,t){const n=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1);const i=fV.createHttpRequest();if(i){if(typeof t==="undefined"||typeof t==="undefined"){i.open("GET",e,false)}else if(e.substr(0,1)==="/"||e.substr(0,7)==="http://"||e.substr(0,8)==="https://"){i.open("POST",e,false)}else{i.open("POST",n+e,false)}let o=sV.get("customHeaders");if(o){o=o.toString();o.split(",").map((e=>e.trim().split("="))).forEach((([e,t])=>i.setRequestHeader(e,t)))}if(typeof t!=="undefined"&&t){i.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8");i.send(fV.httpBuildQuery(t))}else{i.send(null)}return i.responseText}return""}static getService(e,t,n){let i;if(n===true){const n=t?`?${t}`:"";const o=`${lV.getServicePath(e)}${n}`;i=lV.getUrl(o)}else{const n=lV.getServicePath(e);i=lV.getUrl(n,t)}return i}static getServerLanguageFromService(e){if(e.indexOf(".php")!==-1){return"php"}if(e.indexOf(".aspx")!==-1){return"aspx"}if(e.indexOf("wirispluginengine")!==-1){return"ruby"}return"java"}static createServiceURI(e){const t=lV.serverExtension();return fV.concatenateUrl(lV.parameters.URI,e)+t}static serverExtension(){if(lV.parameters.server.indexOf("php")!==-1){return".php"}if(lV.parameters.server.indexOf("aspx")!==-1){return".aspx"}return""}}lV._servicePaths={};lV._integrationPath="";lV._listeners=new cV;lV._parameters={};class dV{static get cache(){return dV._cache}static set cache(e){dV._cache=e}static getLatexFromMathML(e){const t=rV.removeSemantics(e);const{cache:n}=dV;const i={service:"mathml2latex",mml:t};const o=JSON.parse(lV.getService("service",i));let r="";if(o.status==="ok"){r=o.result.text;const t=fV.htmlEntities(r);const i=rV.addAnnotation(e,t,"LaTeX");n.populate(r,i)}return r}static getMathMLFromLatex(e,t){const n=dV.cache;if(dV.cache.get(e)){return dV.cache.get(e)}const i={service:"latex2mathml",latex:e};if(t){i.saveLatex=""}const o=JSON.parse(lV.getService("service",i));let r;if(o.status==="ok"){let t=o.result.text;t=t.split("\r").join("").split("\n").join(" ");if(t.indexOf("semantics")===-1&&t.indexOf("annotation")===-1){const n=fV.htmlEntities(e);t=rV.addAnnotation(t,n,"LaTeX");r=t}else{r=t}if(!n.get(e)){n.populate(e,t)}}else{r=`$$${e}$$`}return r}static parseMathmlToLatex(e,t){let n="";const i=`${t.tagOpener}math`;const o=`${t.tagOpener}/math${t.tagCloser}`;const r=`${t.tagOpener}annotation encoding=${t.doubleQuote}LaTeX${t.doubleQuote}${t.tagCloser}`;const s=`${t.tagOpener}/annotation${t.tagCloser}`;let a=e.indexOf(i);let c=0;let l;let d;let u;while(a!==-1){n+=e.substring(c,a);c=e.indexOf(o,a);if(c===-1){c=e.length-1}else{c+=o.length}l=e.substring(a,c);d=l.indexOf(r);if(d!==-1){d+=r.length;u=l.indexOf(s);let e=l.substring(d,u);if(t===oV.safeXmlCharacters){e=rV.safeXmlDecode(e)}n+=`$$${e}$$`;dV.cache.populate(e,l)}else{n+=l}a=e.indexOf(i,c)}n+=e.substring(c,e.length);return n}static getLatexFromTextNode(e,t,n){const i={open:"$$",close:"$$"};if(typeof n==="undefined"||n==null){n=i}let o=e;while(o.previousSibling&&o.previousSibling.nodeType===3){o=o.previousSibling}function r(e,t,i){let o=e.nodeValue.indexOf(i,t);while(o===-1){e=e.nextSibling;if(!e){return null}o=e.nodeValue?e.nodeValue.indexOf(n.close):-1}return{node:e,position:o}}function s(e,t,n,i){if(e===n){return t<=i}while(e&&e!==n){e=e.nextSibling}return e===n}let a;let c={node:o,position:0};const l=n.open.length;do{a=r(c.node,c.position,n.open);if(a==null||s(e,t,a.node,a.position)){return null}c=r(a.node,a.position+l,n.close);if(c==null){return null}c.position+=l}while(s(c.node,c.position,e,t));let d;if(a.node===c.node){d=a.node.nodeValue.substring(a.position+l,c.position-l)}else{const e=a.position+l;d=a.node.nodeValue.substring(e,a.node.nodeValue.length);let t=a.node;do{t=t.nextSibling;if(t===c.node){d+=c.node.nodeValue.substring(0,c.position-l)}else{d+=t.nodeValue?t.nodeValue:""}}while(t!==c.node)}return{latex:d,startNode:a.node,startPosition:a.position,endNode:c.node,endPosition:c.position}}}dV._cache=new aV;const uV=JSON.parse('{"ar":{"latex":"LaTeX","cancel":"إلغاء","accept":"إدراج","manual":"الدليل","insert_math":"إدراج صيغة رياضية - MathType","insert_chem":"إدراج صيغة كيميائية - ChemType","minimize":"تصغير","maximize":"تكبير","fullscreen":"ملء الشاشة","exit_fullscreen":"الخروج من ملء الشاشة","close":"إغلاق","mathtype":"MathType","title_modalwindow":"نافذة MathType مشروطة","close_modal_warning":"هل تريد المغادرة بالتأكيد؟ ستُفقد التغييرات التي أجريتها.","latex_name_label":"صيغة Latex","browser_no_compatible":"المستعرض غير متوافق مع تقنية AJAX. الرجاء استخدام أحدث إصدار من Mozilla Firefox.","error_convert_accessibility":"حدث خطأ أثناء التحويل من MathML إلى نص قابل للاستخدام.","exception_cross_site":"البرمجة النصية للمواقع المشتركة مسموح بها لـ HTTP فقط.","exception_high_surrogate":"المركّب المرتفع غير متبوع بمركّب منخفض في fixedCharCodeAt()‎","exception_string_length":"سلسلة غير صالحة. يجب أن يكون الطول من مضاعفات العدد 4","exception_key_nonobject":"Object.keys مستدعاة على غير كائن","exception_null_or_undefined":" هذا فارغ أو غير محدد","exception_not_function":" ليست دالة","exception_invalid_date_format":"تنسيق تاريخ غير صالح: ","exception_casting":"لا يمكن الصياغة ","exception_casting_to":" إلى "},"ca":{"latex":"LaTeX","cancel":"Cancel·lar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemàtica - MathType","insert_chem":"Inserir fórmula química - ChemType","minimize":"Minimitza","maximize":"Maximitza","fullscreen":"Pantalla completa","exit_fullscreen":"Sortir de la pantalla complera","close":"Tanca","mathtype":"MathType","title_modalwindow":" Finestra modal de MathType","close_modal_warning":"N\'estàs segur que vols sortir? Es perdran els canvis que has fet.","latex_name_label":"Fórmula en Latex","browser_no_compatible":"El teu navegador no és compatible amb AJAX. Si us plau, usa la darrera versió de Mozilla Firefox.","error_convert_accessibility":"Error en convertir de MathML a text accessible.","exception_cross_site":"Els scripts de llocs creuats només estan permesos per HTTP.","exception_high_surrogate":"Subrogat alt no seguit de subrogat baix a fixedCharCodeAt()","exception_string_length":"Cadena invàlida. La longitud ha de ser un múltiple de 4","exception_key_nonobject":"Object.keys anomenat a non-object","exception_null_or_undefined":" això és null o no definit","exception_not_function":" no és una funció","exception_invalid_date_format":"Format de data invàlid : ","exception_casting":"No es pot emetre ","exception_casting_to":" a "},"cs":{"latex":"LaTeX","cancel":"Storno","accept":"Vložit","manual":"Příručka","insert_math":"Vložit matematický vzorec - MathType","insert_chem":"Vložení chemického vzorce – ChemType","minimize":"Minimalizovat","maximize":"Maximalizovat","fullscreen":"Celá obrazovka","exit_fullscreen":"Opustit režim celé obrazovky","close":"Zavřít","mathtype":"MathType","title_modalwindow":"Modální okno MathType","close_modal_warning":"Opravdu chcete okno zavřít? Provedené změny budou ztraceny.","latex_name_label":"Vzorec v LaTeXu","browser_no_compatible":"Váš prohlížeč nepodporuje technologii AJAX. Použijte nejnovější verzi prohlížeče Mozilla Firefox.","error_convert_accessibility":"Při převodu kódu MathML na čitelný text došlo k chybě.","exception_cross_site":"Skriptování mezi více servery je povoleno jen v HTTP.","exception_high_surrogate":"Ve funkci fixedCharCodeAt() nenásleduje po první části kódu znaku druhá část","exception_string_length":"Neplatný řetězec. Délka musí být násobkem 4.","exception_key_nonobject":"Funkce Object.keys byla použita pro prvek, který není objektem","exception_null_or_undefined":" hodnota je null nebo není definovaná","exception_not_function":" není funkce","exception_invalid_date_format":"Neplatný formát data: ","exception_casting":"Nelze přetypovat ","exception_casting_to":" na "},"da":{"latex":"LaTeX","cancel":"Annuller","accept":"Indsæt","manual":"Brugervejledning","insert_math":"Indsæt matematisk formel - MathType","insert_chem":"Indsæt en kemisk formel - ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fuld skærm","exit_fullscreen":"Afslut Fuld skærm","close":"Luk","mathtype":"MathType","title_modalwindow":"MathType-modalvindue","close_modal_warning":"Er du sikker på, du vil lukke? Dine ændringer går tabt.","latex_name_label":"LaTex-formel","browser_no_compatible":"Din browser er ikke kompatibel med AJAX-teknologi. Brug den nyeste version af Mozilla Firefox.","error_convert_accessibility":"Fejl under konvertering fra MathML til tilgængelig tekst.","exception_cross_site":"Scripts på tværs af websteder er kun tilladt for HTTP.","exception_high_surrogate":"Et højt erstatningstegn er ikke fulgt af et lavt erstatningstegn i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Længden skal være et multiplum af 4","exception_key_nonobject":"Object.keys kaldet ved ikke-objekt","exception_null_or_undefined":" dette er nul eller ikke defineret","exception_not_function":" er ikke en funktion","exception_invalid_date_format":"Ugyldigt datoformat: ","exception_casting":"Kan ikke beregne ","exception_casting_to":" til "},"de":{"latex":"LaTeX","cancel":"Abbrechen","accept":"Einfügen","manual":"Handbuch","insert_math":"Mathematische Formel einfügen - MathType","insert_chem":"Eine chemische Formel einfügen – ChemType","minimize":"Verkleinern","maximize":"Vergrößern","fullscreen":"Vollbild","exit_fullscreen":"Vollbild schließen","close":"Schließen","mathtype":"MathType","title_modalwindow":"Modales MathType-Fenster","close_modal_warning":"Bist du sicher, dass du das Programm verlassen willst? Alle vorgenommenen Änderungen gehen damit verloren.","latex_name_label":"Latex-Formel","browser_no_compatible":"Dein Browser ist nicht mit der AJAX-Technologie kompatibel. Verwende bitte die neueste Version von Mozilla Firefox.","error_convert_accessibility":"Fehler beim Konvertieren von MathML in barrierefreien Text.","exception_cross_site":"Cross-Site-Scripting ist nur bei HTTP zulässig.","exception_high_surrogate":"Hoher Ersatz bei bei festerZeichenkodierungbei() nicht von niedrigem Ersatz befolgt.","exception_string_length":"Ungültige Zeichenfolge. Länge muss ein Vielfaches von 4 sein.","exception_key_nonobject":"Object.keys wurde für ein Nicht-Objekt aufgerufen.","exception_null_or_undefined":" Das ist Null oder nicht definiert.","exception_not_function":" ist keine Funktion","exception_invalid_date_format":"Ungültiges Datumsformat: ","exception_casting":"Umwandlung nicht möglich ","exception_casting_to":" zu "},"el":{"latex":"LaTeX","cancel":"Άκυρο","accept":"Εισαγωγή","manual":"Χειροκίνητα","insert_math":"Εισαγωγή μαθηματικού τύπου - MathType","insert_chem":"Εισαγωγή χημικού τύπου - ChemType","minimize":"Ελαχιστοποίηση","maximize":"Μεγιστοποίηση","fullscreen":"Πλήρης οθόνη","exit_fullscreen":"Έξοδος από πλήρη οθόνη","close":"Κλείσιμο","mathtype":"MathType","title_modalwindow":"Τροπικό παράθυρο MathType","close_modal_warning":"Επιθυμείτε σίγουρα αποχώρηση; Θα χαθούν οι αλλαγές που έχετε κάνει.","latex_name_label":"Τύπος LaTeX","browser_no_compatible":"Το πρόγραμμα περιήγησής σας δεν είναι συμβατό με την τεχνολογία AJAX. Χρησιμοποιήστε την πιο πρόσφατη έκδοση του Mozilla Firefox.","error_convert_accessibility":"Σφάλμα κατά τη μετατροπή από MathML σε προσβάσιμο κείμενο.","exception_cross_site":"Το XSS (Cross site scripting) επιτρέπεται μόνο για HTTP.","exception_high_surrogate":"Το υψηλό υποκατάστατο δεν ακολουθείται από χαμηλό υποκατάστατο στο fixedCharCodeAt()","exception_string_length":"Μη έγκυρη συμβολοσειρά. Το μήκος πρέπει να είναι πολλαπλάσιο του 4","exception_key_nonobject":"Έγινε κλήση του Object.keys σε μη αντικείμενο","exception_null_or_undefined":" αυτό είναι μηδενικό ή δεν έχει οριστεί","exception_not_function":" δεν είναι συνάρτηση","exception_invalid_date_format":"Μη έγκυρη μορφή ημερομηνίας: ","exception_casting":"Δεν είναι δυνατή η μετατροπή ","exception_casting_to":" σε "},"en":{"latex":"LaTeX","cancel":"Cancel","accept":"Insert","manual":"Manual","insert_math":"Insert a math equation - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"es":{"latex":"LaTeX","cancel":"Cancelar","accept":"Insertar","manual":"Manual","insert_math":"Insertar fórmula matemática - MathType","insert_chem":"Insertar fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Pantalla completa","exit_fullscreen":"Salir de pantalla completa","close":"Cerrar","mathtype":"MathType","title_modalwindow":"Ventana modal de MathType","close_modal_warning":"Seguro que quieres cerrar? Los cambios que has hecho se perderán","latex_name_label":"Formula en Latex","browser_no_compatible":"Tu navegador no es complatible con AJAX. Por favor, usa la última version de Mozilla Firefox.","error_convert_accessibility":"Error conviertiendo una fórmula MathML a texto accesible.","exception_cross_site":"Cross site scripting solo está permitido para HTTP.","exception_high_surrogate":"Subrogado alto no seguido por subrogado bajo en fixedCharCodeAt()","exception_string_length":"Cadena no válida. La longitud debe ser múltiplo de 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" esto es null o no definido","exception_not_function":" no es una función","exception_invalid_date_format":"Formato de fecha inválido: ","exception_casting":"No se puede emitir","exception_casting_to":" a "},"et":{"latex":"LaTeX","cancel":"Loobu","accept":"Lisa","manual":"Käsiraamat","insert_math":"Lisa matemaatiline valem – WIRIS","insert_chem":"Lisa keemiline valem – ChemType","minimize":"Minimeeri","maximize":"Maksimeeri","fullscreen":"Täiskuva","exit_fullscreen":"Välju täiskuvalt","close":"Sule","mathtype":"MathType","title_modalwindow":"MathType\'i modaalaken","close_modal_warning":"Kas soovite kindlasti lahkuda? Tehtud muudatused lähevad kaduma.","latex_name_label":"Latexi valem","browser_no_compatible":"Teie brauser ei ühildu AJAXi tehnoloogiaga. Palun kasutage Mozilla Firefoxi uusimat versiooni.","error_convert_accessibility":"Tõrge teisendamisel MathML-ist muudetavaks tekstiks.","exception_cross_site":"Ristskriptimine on lubatud ainult HTTP kasutamisel.","exception_high_surrogate":"Funktsioonis fixedCharCodeAt() ei järgne kõrgemale asendusliikmele madalam asendusliige.","exception_string_length":"Vigane string. Pikkus peab olema 4 kordne.","exception_key_nonobject":"Protseduur Object.keys kutsuti mitteobjekti korral.","exception_null_or_undefined":" see on null või määramata","exception_not_function":" ei ole funktsioon","exception_invalid_date_format":"Sobimatu kuupäeva kuju: ","exception_casting":"Esitamine ei õnnestu ","exception_casting_to":" – "},"eu":{"latex":"LaTeX","cancel":"Ezeztatu","accept":"Txertatu","manual":"Gida","insert_math":"Txertatu matematikako formula - MathType","insert_chem":"Txertatu formula kimiko bat - ChemType","minimize":"Ikonotu","maximize":"Maximizatu","fullscreen":"Pantaila osoa","exit_fullscreen":"Irten pantaila osotik","close":"Itxi","mathtype":"MathType","title_modalwindow":"MathType leiho modala","close_modal_warning":"Ziur irten nahi duzula? Egiten dituzun aldaketak galdu egingo dira.","latex_name_label":"LaTex Formula","browser_no_compatible":"Zure arakatzailea ez da bateragarria AJAX teknologiarekin. Erabili Mozilla Firefoxen azken bertsioa.","error_convert_accessibility":"Errorea MathMLtik testu irisgarrira bihurtzean.","exception_cross_site":"Gune arteko scriptak HTTPrako soilik onartzen dira.","exception_high_surrogate":"Ordezko baxuak ez dio ordezko altuari jarraitzen, hemen: fixedCharCodeAt()","exception_string_length":"Kate baliogabea. Luzerak 4ren multiploa izan behar du","exception_key_nonobject":"Object.keys deitu zaio objektua ez den zerbaiti","exception_null_or_undefined":" nulua edo definitu gabea da","exception_not_function":" ez da funtzio bat","exception_invalid_date_format":"Data-formatu baliogabea : ","exception_casting":"Ezin da igorri ","exception_casting_to":" honi "},"fi":{"latex":"LaTeX","cancel":"Peruuta","accept":"Lisää","manual":"Manual","insert_math":"Liitä matemaattinen kaava - MathType","insert_chem":"Lisää kemian kaava - ChemType","minimize":"Pienennä","maximize":"Suurenna","fullscreen":"Koko ruutu","exit_fullscreen":"Poistu koko ruudun tilasta","close":"Sulje","mathtype":"MathType","title_modalwindow":"MathTypen modaalinen ikkuna","close_modal_warning":"Oletko varma, että haluat poistua? Menetät tekemäsi muutokset.","latex_name_label":"Latex-kaava","browser_no_compatible":"Selaimesi ei tue AJAX-tekniikkaa. Ole hyvä ja käytä uusinta Firefox-versiota.","error_convert_accessibility":"Virhe muunnettaessa MathML:stä tekstiksi.","exception_cross_site":"Cross site scripting sallitaan vain HTTP:llä.","exception_high_surrogate":"fixedCharCodeAt(): yläsijaismerkkiä ei seurannut alasijaismerkki","exception_string_length":"Epäkelpo merkkijono. Pituuden on oltava 4:n kerrannainen","exception_key_nonobject":"Object.keys kutsui muuta kuin oliota","exception_null_or_undefined":" tämä on null tai ei määritelty","exception_not_function":" ei ole funktio","exception_invalid_date_format":"Virheellinen päivämäärämuoto : ","exception_casting":"Ei voida muuntaa tyyppiä ","exception_casting_to":" tyyppiin "},"fr":{"latex":"LaTeX","cancel":"Annuler","accept":"Insérer","manual":"Manuel","insert_math":"Insérer une formule mathématique - MathType","insert_chem":"Insérer une formule chimique - ChemType","minimize":"Minimiser","maximize":"Maximiser","fullscreen":"Plein écran","exit_fullscreen":"Quitter le plein écran","close":"Fermer","mathtype":"MathType","title_modalwindow":"Fenêtre modale MathType","close_modal_warning":"Confirmez-vous vouloir fermer ? Les changements effectués seront perdus.","latex_name_label":"Formule LaTeX","browser_no_compatible":"Votre navigateur n’est pas compatible avec la technologie AJAX. Veuillez utiliser la dernière version de Mozilla Firefox.","error_convert_accessibility":"Une erreur de conversion du format MathML en texte accessible est survenue.","exception_cross_site":"Le cross-site scripting n’est autorisé que pour HTTP.","exception_high_surrogate":"Substitut élevé non suivi d’un substitut inférieur dans fixedCharCodeAt()","exception_string_length":"Chaîne non valide. Longueur limitée aux multiples de 4","exception_key_nonobject":"Object.keys appelé sur un non-objet","exception_null_or_undefined":" nul ou non défini","exception_not_function":" n’est pas une fonction","exception_invalid_date_format":"Format de date non valide : ","exception_casting":"Impossible de convertir ","exception_casting_to":" sur "},"gl":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir unha fórmula matemática - MathType","insert_chem":"Inserir unha fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Pantalla completa","exit_fullscreen":"Saír da pantalla completa","close":"Pechar","mathtype":"MathType","title_modalwindow":"Ventá modal de MathType","close_modal_warning":"Seguro que quere saír? Perderanse os cambios realizados.","latex_name_label":"Fórmula Latex","browser_no_compatible":"O seu explorador non é compatible coa tecnoloxía AJAX. Use a versión máis recente de Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML a texto accesible.","exception_cross_site":"Os scripts de sitios só se permiten para HTTP.","exception_high_surrogate":"Suplente superior non seguido por suplente inferior en fixedCharCodeAt()","exception_string_length":"Cadea non válida. A lonxitude debe ser un múltiplo de 4","exception_key_nonobject":"Claves de obxecto chamadas en non obxecto","exception_null_or_undefined":" nulo ou non definido","exception_not_function":" non é unha función","exception_invalid_date_format":"Formato de data non válido: ","exception_casting":"Non se pode converter ","exception_casting_to":" a "},"he":{"latex":"LaTeX","cancel":"ביטול","accept":"עדכון","manual":"ידני","insert_math":"הוספת נוסחה מתמטית - MathType","insert_chem":"הוספת כתיבה כימית - ChemType","minimize":"מזערי","maximize":"מרבי","fullscreen":"מסך מלא","exit_fullscreen":"יציאה ממצב מסך מלא","close":"סגירה","mathtype":"MathType","title_modalwindow":"חלון מודאלי של MathType","close_modal_warning":"האם לצאת? שינויים אשר בוצעו ימחקו.","latex_name_label":"נוסחת Latex","browser_no_compatible":"הדפדפן שלך אינו תואם לטכנולוגיית AJAX. יש להשתמש בגרסה העדכנית ביותר של Mozilla Firefox.","error_convert_accessibility":"שגיאה בהמרה מ-MathML לטקסט נגיש.","exception_cross_site":"סקריפטינג חוצה-אתרים מורשה עבור HTTP בלבד.","exception_high_surrogate":"ערך ממלא מקום גבוה אינו מופיע אחרי ערך ממלא מקום נמוך ב-fixedCharCodeAt()‎","exception_string_length":"מחרוזת לא חוקית. האורך חייב להיות כפולה של 4","exception_key_nonobject":"בוצעה קריאה אל Object.keys ברכיב שאינו אובייקט","exception_null_or_undefined":" הוא Null או לא מוגדר","exception_not_function":"איננה פונקציה","exception_invalid_date_format":"תסדיר תאריך אינו תקין : ","exception_casting":"לא ניתן להמיר ","exception_casting_to":" ל "},"hr":{"latex":"LaTeX","cancel":"Poništi","accept":"Umetni","manual":"Priručnik","insert_math":"Umetnite matematičku formulu - MathType","insert_chem":"Umetnite kemijsku formulu - ChemType","minimize":"Minimiziraj","maximize":"Maksimiziraj","fullscreen":"Cijeli zaslon","exit_fullscreen":"Izlaz iz prikaza na cijelom zaslonu","close":"Zatvori","mathtype":"MathType","title_modalwindow":"MathType modalni prozor","close_modal_warning":"Sigurno želite zatvoriti? Izgubit će se unesene promjene.","latex_name_label":"Latex formula","browser_no_compatible":"Vaš preglednik nije kompatibilan s AJAX tehnologijom. Upotrijebite najnoviju verziju Mozilla Firefoxa.","error_convert_accessibility":"Pogreška konverzije iz MathML-a u dostupni tekst.","exception_cross_site":"Skriptiranje na različitim web-mjestima dopušteno je samo za HTTP.","exception_high_surrogate":"Iza visoke zamjene ne slijedi niska zamjena u fixedCharCodeAt()","exception_string_length":"Nevažeći niz. Duljina mora biti višekratnik broja 4","exception_key_nonobject":"Object.keys pozvano na ne-objekt","exception_null_or_undefined":" ovo je nula ili nije definirano","exception_not_function":" nije funkcija","exception_invalid_date_format":"Nevažeći format datuma : ","exception_casting":"Ne može se poslati ","exception_casting_to":" na "},"hu":{"latex":"LaTeX","cancel":"Mégsem","accept":"Beszúrás","manual":"Kézikönyv","insert_math":"Matematikai képlet beszúrása - MathType","insert_chem":"Kémiai képet beillesztése - ChemType","minimize":"Kis méret","maximize":"Nagy méret","fullscreen":"Teljes képernyő","exit_fullscreen":"Teljes képernyő elhagyása","close":"Bezárás","mathtype":"MathType","title_modalwindow":"MathType modális ablak","close_modal_warning":"Biztosan kilép? A módosítások el fognak veszni.","latex_name_label":"Latex képlet","browser_no_compatible":"A böngészője nem kompatibilis az AJAX technológiával. Használja a Mozilla Firefox legújabb verzióját.","error_convert_accessibility":"Hiba lépett fel a MathML szöveggé történő konvertálása során.","exception_cross_site":"Az oldalak közti scriptelés csak HTTP esetén engedélyezett.","exception_high_surrogate":"A magas helyettesítő karaktert nem alacsony helyettesítő karakter követi a fixedCharCodeAt() esetében","exception_string_length":"Érvénytelen karakterlánc. A hossznak a 4 többszörösének kell lennie","exception_key_nonobject":"Az Object.keys egy nem objektumra került meghívásra","exception_null_or_undefined":" null vagy nem definiált","exception_not_function":" nem függvény","exception_invalid_date_format":"Érvénytelen dátumformátum: ","exception_casting":"Nem alkalmazható ","exception_casting_to":" erre "},"id":{"latex":"LaTeX","cancel":"Membatalkan","accept":"Masukkan","manual":"Manual","insert_math":"Masukkan rumus matematika - MathType","insert_chem":"Masukkan rumus kimia - ChemType","minimize":"Minikan","maximize":"Perbesar","fullscreen":"Layar penuh","exit_fullscreen":"Keluar layar penuh","close":"Tutup","mathtype":"MathType","title_modalwindow":"Jendela modal MathType","close_modal_warning":"Anda yakin ingin keluar? Anda akan kehilangan perubahan yang Anda buat.","latex_name_label":"Rumus Latex","browser_no_compatible":"Penjelajah Anda tidak kompatibel dengan teknologi AJAX. Harap gunakan Mozilla Firefox versi terbaru.","error_convert_accessibility":"Kesalahan konversi dari MathML menjadi teks yang dapat diakses.","exception_cross_site":"Skrip lintas situs hanya diizinkan untuk HTTP.","exception_high_surrogate":"Pengganti tinggi tidak diikuti oleh pengganti rendah di fixedCharCodeAt()","exception_string_length":"String tidak valid. Panjang harus kelipatan 4","exception_key_nonobject":"Object.keys meminta nonobjek","exception_null_or_undefined":" ini tidak berlaku atau tidak didefinisikan","exception_not_function":" bukan sebuah fungsi","exception_invalid_date_format":"Format tanggal tidak valid : ","exception_casting":"Tidak dapat mentransmisikan ","exception_casting_to":" untuk "},"it":{"latex":"LaTeX","cancel":"Annulla","accept":"Inserisci","manual":"Manuale","insert_math":"Inserisci una formula matematica - MathType","insert_chem":"Inserisci una formula chimica - ChemType","minimize":"Riduci a icona","maximize":"Ingrandisci","fullscreen":"Schermo intero","exit_fullscreen":"Esci da schermo intero","close":"Chiudi","mathtype":"MathType","title_modalwindow":"Finestra modale di MathType","close_modal_warning":"Confermi di voler uscire? Le modifiche effettuate andranno perse.","latex_name_label":"Formula LaTeX","browser_no_compatible":"Il tuo browser non è compatibile con la tecnologia AJAX. Utilizza la versione più recente di Mozilla Firefox.","error_convert_accessibility":"Errore durante la conversione da MathML in testo accessibile.","exception_cross_site":"Lo scripting tra siti è consentito solo per HTTP.","exception_high_surrogate":"Surrogato alto non seguito da surrogato basso in fixedCharCodeAt()","exception_string_length":"Stringa non valida. La lunghezza deve essere un multiplo di 4","exception_key_nonobject":"Metodo Object.keys richiamato in un elemento non oggetto","exception_null_or_undefined":" questo è un valore null o non definito","exception_not_function":" non è una funzione","exception_invalid_date_format":"Formato di data non valido: ","exception_casting":"Impossibile eseguire il cast ","exception_casting_to":" a "},"ja":{"latex":"LaTeX","cancel":"キャンセル","accept":"挿入","manual":"マニュアル","insert_math":"数式を挿入 - MathType","insert_chem":"化学式を挿入 - ChemType","minimize":"最小化","maximize":"最大化","fullscreen":"全画面表示","exit_fullscreen":"全画面表示を解除","close":"閉じる","mathtype":"MathType","title_modalwindow":"MathType モードウィンドウ","close_modal_warning":"このページから移動してもよろしいですか？変更内容は失われます。","latex_name_label":"LaTeX 数式","browser_no_compatible":"お使いのブラウザは、AJAX 技術と互換性がありません。Mozilla Firefox の最新バージョンをご使用ください。","error_convert_accessibility":"MathML からアクセシブルなテキストへの変換中にエラーが発生しました。","exception_cross_site":"クロスサイトスクリプティングは、HTTP のみに許可されています。","exception_high_surrogate":"fixedCharCodeAt（）で上位サロゲートの後に下位サロゲートがありません","exception_string_length":"無効な文字列です。長さは4の倍数である必要があります","exception_key_nonobject":"Object.keys が非オブジェクトで呼び出されました","exception_null_or_undefined":" null であるか、定義されていません","exception_not_function":" は関数ではありません","exception_invalid_date_format":"無効な日付形式: ","exception_casting":"次にキャスト ","exception_casting_to":" できません "},"ko":{"latex":"LaTeX","cancel":"취소","accept":"삽입","manual":"설명서","insert_math":"수학 공식 삽입 - MathType","insert_chem":"화학 공식 입력하기 - ChemType","minimize":"최소화","maximize":"최대화","fullscreen":"전체 화면","exit_fullscreen":"전체 화면 나가기","close":"닫기","mathtype":"MathType","title_modalwindow":"MathType 모달 창","close_modal_warning":"정말로 나가시겠습니까? 변경 사항이 손실됩니다.","latex_name_label":"Latex 공식","browser_no_compatible":"사용자의 브라우저는 AJAX 기술과 호환되지 않습니다. Mozilla Firefox 최신 버전을 사용하십시오.","error_convert_accessibility":"MathML로부터 접근 가능한 텍스트로 오류 변환.","exception_cross_site":"사이트 교차 스크립팅은 HTTP 환경에서만 사용할 수 있습니다.","exception_high_surrogate":"fixedCharCodeAt()에서는 상위 서러게이트 뒤에 하위 서러게이트가 붙지 않습니다","exception_string_length":"유효하지 않은 스트링입니다. 길이는 4의 배수여야 합니다","exception_key_nonobject":"Object.keys가 non-object를 요청하였습니다","exception_null_or_undefined":" Null값이거나 정의되지 않았습니다","exception_not_function":" 함수가 아닙니다","exception_invalid_date_format":"유효하지 않은 날짜 포맷 : ","exception_casting":"캐스팅할 수 없습니다 ","exception_casting_to":" (으)로 "},"nl":{"latex":"LaTeX","cancel":"Annuleren","insert_chem":"Een scheikundige formule invoegen - ChemType","minimize":"Minimaliseer","maximize":"Maximaliseer","fullscreen":"Schermvullend","exit_fullscreen":"Verlaat volledig scherm","close":"Sluit","mathtype":"MathType","title_modalwindow":"Modaal venster MathType","close_modal_warning":"Weet je zeker dat je de app wilt sluiten? De gemaakte wijzigingen gaan verloren.","latex_name_label":"LaTeX-formule","browser_no_compatible":"Je browser is niet compatibel met AJAX-technologie. Gebruik de meest recente versie van Mozilla Firefox.","error_convert_accessibility":"Fout bij conversie van MathML naar toegankelijke tekst.","exception_cross_site":"Cross-site scripting is alleen toegestaan voor HTTP.","exception_high_surrogate":"Hoog surrogaat niet gevolgd door laag surrogaat in fixedCharCodeAt()","exception_string_length":"Ongeldige tekenreeks. Lengte moet een veelvoud van 4 zijn","exception_key_nonobject":"Object.keys opgeroepen voor niet-object","exception_null_or_undefined":" dit is nul of niet gedefinieerd","exception_not_function":" is geen functie","exception_invalid_date_format":"Ongeldige datumnotatie: ","exception_casting":"Kan niet weergeven ","exception_casting_to":" op "},"no":{"latex":"LaTeX","cancel":"Avbryt","accept":"Set inn","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Set inn ein kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringane du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering frå MathML til tilgjengeleg tekst.","exception_cross_site":"Skripting på tvers av nettstadar er bere tillaten med HTTP.","exception_high_surrogate":"Høgt surrogat er ikkje etterfølgt av lågt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengda må vera deleleg på 4","exception_key_nonobject":"Object.keys kalla på eit ikkje-objekt","exception_null_or_undefined":" dette er null eller ikkje definert","exception_not_function":" er ikkje ein funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikkje bruka casting ","exception_casting_to":" til "},"nb":{"latex":"LaTeX","cancel":"Avbryt","accept":"Insert","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Sett inn en kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringene du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettleseren er ikke kompatibel med AJAX-teknologien. Bruk den nyeste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering fra MathML til tilgjengelig tekst.","exception_cross_site":"Skripting på tvers av nettsteder er bare tillatt med HTTP.","exception_high_surrogate":"Høyt surrogat etterfølges ikke av lavt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengden må være delelig på 4","exception_key_nonobject":"Object.keys kalte på et ikke-objekt","exception_null_or_undefined":" dette er null eller ikke definert","exception_not_function":" er ikke en funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikke bruke casting ","exception_casting_to":" til "},"nn":{"latex":"LaTeX","cancel":"Avbryt","accept":"Set inn","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Set inn ein kjemisk formel – ChemType","minimize":"Minimer","maximize":"Maksimer","fullscreen":"Fullskjerm","exit_fullscreen":"Avslutt fullskjerm","close":"Lukk","mathtype":"MathType","title_modalwindow":"Modalt MathType-vindu","close_modal_warning":"Er du sikker på at du vil gå ut? Endringane du har gjort, vil gå tapt.","latex_name_label":"LaTeX-formel","browser_no_compatible":"Nettlesaren er ikkje kompatibel med AJAX-teknologien. Bruk den nyaste versjonen av Mozilla Firefox.","error_convert_accessibility":"Feil under konvertering frå MathML til tilgjengeleg tekst.","exception_cross_site":"Skripting på tvers av nettstadar er bere tillaten med HTTP.","exception_high_surrogate":"Høgt surrogat er ikkje etterfølgt av lågt surrogat i fixedCharCodeAt()","exception_string_length":"Ugyldig streng. Lengda må vera deleleg på 4","exception_key_nonobject":"Object.keys kalla på eit ikkje-objekt","exception_null_or_undefined":" dette er null eller ikkje definert","exception_not_function":" er ikkje ein funksjon","exception_invalid_date_format":"Ugyldig datoformat: ","exception_casting":"Kan ikkje bruka casting ","exception_casting_to":" til "},"pl":{"latex":"LaTeX","cancel":"Anuluj","accept":"Wstaw","manual":"Instrukcja","insert_math":"Wstaw formułę matematyczną - MathType","insert_chem":"Wstaw wzór chemiczny — ChemType","minimize":"Minimalizuj","maximize":"Maksymalizuj","fullscreen":"Pełny ekran","exit_fullscreen":"Opuść tryb pełnoekranowy","close":"Zamknij","mathtype":"MathType","title_modalwindow":"Okno modalne MathType","close_modal_warning":"Czy na pewno chcesz zamknąć? Wprowadzone zmiany zostaną utracone.","latex_name_label":"Wzór Latex","browser_no_compatible":"Twoja przeglądarka jest niezgodna z technologią AJAX Użyj najnowszej wersji Mozilla Firefox.","error_convert_accessibility":"Błąd podczas konwertowania z formatu MathML na dostępny tekst.","exception_cross_site":"Krzyżowanie skryptów witryny jest dozwolone tylko dla HTTP.","exception_high_surrogate":"Brak niskiego surogatu po wysokim surogacie w fixedCharCodeAt()","exception_string_length":"Niewłaściwy ciąg znaków. Długość musi być wielokrotnością liczby 4.","exception_key_nonobject":"Argumentem wywołanej funkcji Object.key nie jest obiekt.","exception_null_or_undefined":" jest zerowy lub niezdefiniowany","exception_not_function":" nie jest funkcją","exception_invalid_date_format":"Nieprawidłowy format daty: ","exception_casting":"Nie można rzutować ","exception_casting_to":" na "},"pt":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Inserir uma fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Ecrã completo","exit_fullscreen":"Sair do ecrã completo","close":"Fechar","mathtype":"MathType","title_modalwindow":"Janela modal do MathType","close_modal_warning":"Pretende sair? As alterações efetuadas serão perdidas.","latex_name_label":"Fórmula Latex","browser_no_compatible":"O seu navegador não é compatível com a tecnologia AJAX. Utilize a versão mais recente do Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML para texto acessível.","exception_cross_site":"O processamento de scripts em vários sites só é permitido para HTTP.","exception_high_surrogate":"Substituto alto não seguido por um substituto baixo em fixedCharCodeAt()","exception_string_length":"Cadeia inválida. O comprimento tem de ser um múltiplo de 4","exception_key_nonobject":"Object.keys chamou um não-objeto","exception_null_or_undefined":" é nulo ou não está definido","exception_not_function":" não é uma função","exception_invalid_date_format":"Formato de data inválido: ","exception_casting":"Não é possível adicionar ","exception_casting_to":" até "},"pt_br":{"latex":"LaTeX","cancel":"Cancelar","accept":"Inserir","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Insira uma fórmula química - ChemType","minimize":"Minimizar","maximize":"Maximizar","fullscreen":"Tela cheia","exit_fullscreen":"Sair de tela cheia","close":"Fechar","mathtype":"MathType","title_modalwindow":"Janela modal do MathType","close_modal_warning":"Tem certeza de que deseja sair? Todas as alterações serão perdidas.","latex_name_label":"Fórmula LaTeX","browser_no_compatible":"O navegador não é compatível com a tecnologia AJAX. Use a versão mais recente do Mozilla Firefox.","error_convert_accessibility":"Erro ao converter de MathML para texto acessível.","exception_cross_site":"O uso de scripts entre sites só é permitido para HTTP.","exception_high_surrogate":"High surrogate não seguido de low surrogate em fixedCharCodeAt()","exception_string_length":"String inválida. O comprimento deve ser um múltiplo de 4","exception_key_nonobject":"Object.keys chamados em não objeto","exception_null_or_undefined":" isto é nulo ou não definido","exception_not_function":" não é uma função","exception_invalid_date_format":"Formato de data inválido: ","exception_casting":"Não é possível transmitir ","exception_casting_to":" para "},"ro":{"latex":"LaTeX","cancel":"Anulare","accept":"Inserați","manual":"Ghid","insert_math":"Inserați o formulă matematică - MathType","insert_chem":"Inserați o formulă chimică - ChemType","minimize":"Minimizați","maximize":"Maximizați","fullscreen":"Afișați pe tot ecranul","exit_fullscreen":"Opriți afișarea pe tot ecranul","close":"Închideți","mathtype":"MathType","title_modalwindow":"Fereastră modală MathType","close_modal_warning":"Sigur doriți să ieșiți? Modificările realizate se vor pierde.","latex_name_label":"Formulă Latex","browser_no_compatible":"Browserul dvs. nu este compatibil cu tehnologia AJAX. Utilizați cea mai recentă versiune de Mozilla Firefox.","error_convert_accessibility":"Eroare la convertirea din MathML în text accesibil.","exception_cross_site":"Scriptarea între site‑uri este permisă doar pentru HTTP.","exception_high_surrogate":"Surogatul superior nu este urmat de un surogat inferior în fixedCharCodeAt()","exception_string_length":"Șir nevalid. Lungimea trebuie să fie multiplu de 4","exception_key_nonobject":"Object.keys a apelat un non-obiect","exception_null_or_undefined":" este null sau nu este definit","exception_not_function":" nu este funcție","exception_invalid_date_format":"Format de dată nevalid: ","exception_casting":"nu se poate difuza ","exception_casting_to":" către "},"ru":{"latex":"LaTeX","cancel":"отмена","accept":"Вставка","manual":"вручную","insert_math":"Вставить математическую формулу: WIRIS","insert_chem":"Вставить химическую формулу — ChemType","minimize":"Свернуть","maximize":"Развернуть","fullscreen":"На весь экран","exit_fullscreen":"Выйти из полноэкранного режима","close":"Закрыть","mathtype":"MathType","title_modalwindow":"Режимное окно MathType","close_modal_warning":"Вы уверены, что хотите выйти? Все внесенные изменения будут утрачены.","latex_name_label":"Формула Latex","browser_no_compatible":"Ваш браузер несовместим с технологией AJAX. Используйте последнюю версию Mozilla Firefox.","error_convert_accessibility":"При преобразовании формулы в текст допустимого формата произошла ошибка.","exception_cross_site":"Межсайтовые сценарии доступны только для HTTP.","exception_high_surrogate":"Младший символ-заместитель не сопровождает старший символ-заместитель в исправленном методе CharCodeAt()","exception_string_length":"Недопустимая строка. Длинна должна быть кратной 4.","exception_key_nonobject":"Метод Object.keys вызван не для объекта","exception_null_or_undefined":" значение пустое или не определено","exception_not_function":" не функция","exception_invalid_date_format":"Недопустимый формат даты: ","exception_casting":"Не удается привести ","exception_casting_to":" к "},"sv":{"latex":"LaTeX","cancel":"Avbryt","accept":"Infoga","manual":"Bruksanvisning","insert_math":"Infoga matematisk formel - MathType","insert_chem":"Infoga en kemiformel – ChemType","minimize":"Minimera","maximize":"Maximera","fullscreen":"Helskärm","exit_fullscreen":"Stäng helskärm","close":"Stäng","mathtype":"MathType","title_modalwindow":"MathType modulfönster","close_modal_warning":"Vill du avsluta? Inga ändringar kommer att sparas.","latex_name_label":"Latex-formel","browser_no_compatible":"Din webbläsare är inte kompatibel med AJAX-teknik. Använd den senaste versionen av Mozilla Firefox.","error_convert_accessibility":"Det uppstod ett fel vid konvertering från MathML till åtkomlig text.","exception_cross_site":"Skriptkörning över flera sajter är endast tillåtet för HTTP.","exception_high_surrogate":"Hög surrogat följs inte av låg surrogat i fixedCharCodeAt()","exception_string_length":"Ogiltig sträng. Längden måste vara en multipel av 4","exception_key_nonobject":"Object.keys anropade icke-objekt","exception_null_or_undefined":" det är null eller inte definierat","exception_not_function":" är inte en funktion","exception_invalid_date_format":"Ogiltigt datumformat: ","exception_casting":"Går inte att konvertera ","exception_casting_to":" till "},"tr":{"latex":"LaTeX","cancel":"Vazgeç","accept":"Ekle","manual":"Kılavuz","insert_math":"Matematik formülü ekle - MathType","insert_chem":"Kimya formülü ekleyin - ChemType","minimize":"Simge Durumuna Küçült","maximize":"Ekranı Kapla","fullscreen":"Tam Ekran","exit_fullscreen":"Tam Ekrandan Çık","close":"Kapat","mathtype":"MathType","title_modalwindow":"MathType kalıcı penceresi","close_modal_warning":"Çıkmak istediğinizden emin misiniz? Yaptığınız değişiklikler kaybolacak.","latex_name_label":"Latex Formülü","browser_no_compatible":"Tarayıcınız AJAX teknolojisiyle uyumlu değil. Lütfen en güncel Mozilla Firefox sürümünü kullanın.","error_convert_accessibility":"MathML biçiminden erişilebilir metne dönüştürme hatası.","exception_cross_site":"Siteler arası komut dosyası yazma işlemine yalnızca HTTP için izin verilir.","exception_high_surrogate":"fixedCharCodeAt() fonksiyonunda üst vekilin ardından alt vekil gelmiyor","exception_string_length":"Geçersiz dizgi. Uzunluk, 4\'ün katlarından biri olmalıdır","exception_key_nonobject":"Nesne olmayan öğe üzerinde Object.keys çağrıldı","exception_null_or_undefined":" bu değer boş veya tanımlanmamış","exception_not_function":" bir fonksiyon değil","exception_invalid_date_format":"Geçersiz tarih biçimi: ","exception_casting":"Tür dönüştürülemiyor ","exception_casting_to":" hedef: "},"zh":{"latex":"LaTeX","cancel":"取消","accept":"插入","manual":"手册","insert_math":"插入数学公式 - MathType","insert_chem":"插入化学分子式 - ChemType","minimize":"最小化","maximize":"最大化","fullscreen":"全屏幕","exit_fullscreen":"退出全屏幕","close":"关闭","mathtype":"MathType","title_modalwindow":"MathType 模式窗口","close_modal_warning":"您确定要离开吗？您所做的修改将丢失。","latex_name_label":"Latex 分子式","browser_no_compatible":"您的浏览器不兼容 AJAX 技术。请使用最新版 Mozilla Firefox。","error_convert_accessibility":"将 MathML 转换为可访问文本时出错。","exception_cross_site":"仅 HTTP 允许跨站脚本。","exception_high_surrogate":"fixedCharCodeAt() 中的高位代理之后未跟随低位代理","exception_string_length":"无效字符串。长度必须是 4 的倍数","exception_key_nonobject":"非对象调用了 Object.keys","exception_null_or_undefined":" 该值为空或未定义","exception_not_function":" 不是一个函数","exception_invalid_date_format":"无效日期格式： ","exception_casting":"无法转换 ","exception_casting_to":" 为 "},"":{}}');class hV{constructor(){throw new Error("Static class StringManager can not be instantiated.")}static get(e,t){let{language:n}=this;if(t){n=t}if(n&&n.length>2){n=n.slice(0,2)}if(!this.strings.hasOwnProperty(n)){console.warn(`Unknown language ${n} set in StringManager.`);n="en"}if(!this.strings[n].hasOwnProperty(e)){console.warn(`Unknown key ${e} for language ${n} in StringManager.`);return e}return this.strings[n][e]}}hV.strings=uV;hV.language="en";class fV{static fireEvent(e,t){if(document.createEvent){const n=document.createEvent("HTMLEvents");n.initEvent(t,true,true);return!e.dispatchEvent(n)}const n=document.createEventObject();return e.fireEvent(`on${t}`,n)}static addEvent(e,t,n){if(e.addEventListener){e.addEventListener(t,n,true)}else if(e.attachEvent){e.attachEvent(`on${t}`,n)}}static removeEvent(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,true)}else if(e.detachEvent){e.detachEvent(`on${t}`,n)}}static addElementEvents(e,t,n,i){if(t){this.callbackDblclick=e=>{const n=e||window.event;const i=n.srcElement?n.srcElement:n.target;t(i,n)};fV.addEvent(e,"dblclick",this.callbackDblclick)}if(n){this.callbackMousedown=e=>{const t=e||window.event;const i=t.srcElement?t.srcElement:t.target;n(i,t)};fV.addEvent(e,"mousedown",this.callbackMousedown)}if(i){this.callbackMouseup=e=>{const t=e||window.event;const n=t.srcElement?t.srcElement:t.target;i(n,t)};fV.addEvent(document,"mouseup",this.callbackMouseup);fV.addEvent(e,"mouseup",this.callbackMouseup)}}static removeElementEvents(e){fV.removeEvent(e,"dblclick",this.callbackDblclick);fV.removeEvent(e,"mousedown",this.callbackMousedown);fV.removeEvent(document,"mouseup",this.callbackMouseup);fV.removeEvent(e,"mouseup",this.callbackMouseup)}static addClass(e,t){if(!fV.containsClass(e,t)){e.className+=` ${t}`}}static containsClass(e,t){if(e==null||!("className"in e)){return false}const n=e.className.split(" ");for(let e=n.length-1;e>=0;e-=1){if(n[e]===t){return true}}return false}static removeClass(e,t){let n="";const i=e.className.split(" ");for(let e=0;e<i.length;e+=1){if(i[e]!==t){n+=`${i[e]} `}}e.className=n.trim()}static convertOldXmlinitialtextAttribute(e){const t="value=";const n=e.indexOf("xmlinitialtext");const i=e.indexOf(t,n);const o=e.charAt(i+t.length);const r=i+t.length+1;const s=e.indexOf(o,r);const a=e.substring(r,s);let c=a.split("«").join("§lt;");c=c.split("»").join("§gt;");c=c.split("&").join("§");c=c.split("¨").join("§quot;");e=e.split(a).join(c);return e}static createElement(e,t,n){if(t===undefined){t={}}if(n===undefined){n=document}let i;try{let o=`<${e}`;Object.keys(t).forEach((e=>{o+=` ${e}="${fV.htmlEntities(t[e])}"`}));o+=">";i=n.createElement(o)}catch(o){i=n.createElement(e);Object.keys(t).forEach((e=>{i.setAttribute(e,t[e])}))}return i}static createObject(e,t){if(t===undefined){t=document}e=e.split("<applet ").join('<span wirisObject="WirisApplet" ').split("<APPLET ").join('<span wirisObject="WirisApplet" ');e=e.split("</applet>").join("</span>").split("</APPLET>").join("</span>");e=e.split("<param ").join('<br wirisObject="WirisParam" ').split("<PARAM ").join('<br wirisObject="WirisParam" ');e=e.split("</param>").join("</br>").split("</PARAM>").join("</br>");const n=fV.createElement("div",{},t);n.innerHTML=e;function i(e){if(e.getAttribute&&e.getAttribute("wirisObject")==="WirisParam"){const n={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){n[e.attributes[t].nodeName]=e.attributes[t].nodeValue}}const i=fV.createElement("param",n,t);if(i.NAME){i.name=i.NAME;i.value=i.VALUE}i.removeAttribute("wirisObject");e.parentNode.replaceChild(i,e)}else if(e.getAttribute&&e.getAttribute("wirisObject")==="WirisApplet"){const n={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){n[e.attributes[t].nodeName]=e.attributes[t].nodeValue}}const o=fV.createElement("applet",n,t);o.removeAttribute("wirisObject");for(let t=0;t<e.childNodes.length;t+=1){i(e.childNodes[t]);if(e.childNodes[t].nodeName.toLowerCase()==="param"){o.appendChild(e.childNodes[t]);t-=1}}e.parentNode.replaceChild(o,e)}else{for(let t=0;t<e.childNodes.length;t+=1){i(e.childNodes[t])}}}i(n);return n.firstChild}static createObjectCode(e){if(typeof e==="undefined"||e===null){return null}if(e.nodeType===1){let t=`<${e.tagName}`;for(let n=0;n<e.attributes.length;n+=1){if(e.attributes[n].specified){t+=` ${e.attributes[n].name}="${fV.htmlEntities(e.attributes[n].value)}"`}}if(e.childNodes.length>0){t+=">";for(let n=0;n<e.childNodes.length;n+=1){t+=fV.createObject(e.childNodes[n])}t+=`</${e.tagName}>`}else if(e.nodeName==="DIV"||e.nodeName==="SCRIPT"){t+=`></${e.tagName}>`}else{t+="/>"}return t}if(e.nodeType===3){return fV.htmlEntities(e.nodeValue)}return""}static concatenateUrl(e,t){let n="";if(e.indexOf("/")!==e.length&&t.indexOf("/")!==0){n="/"}return(e+n+t).replace(/([^:]\/)\/+/g,"$1")}static htmlEntities(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}static htmlSanitize(e){let t=/\<annotation.+\<\/annotation\>/;let n=e.match(t);e=iV().sanitize(e,{ADD_TAGS:["semantics","annotation"],ALLOWED_ATTR:["linebreak"]});return e.replace(t,n)}static htmlEntitiesDecode(e){const t=document.createElement("textarea");t.innerHTML=e;return t.value}static createHttpRequest(){const e=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1);if(e.substr(0,7)==="file://"){throw hV.get("exception_cross_site")}if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}static httpBuildQuery(e){let t="";Object.keys(e).forEach((n=>{if(e[n]!=null){t+=`${fV.urlEncode(n)}=${fV.urlEncode(e[n])}&`}}));if(t.substring(t.length-1)==="&"){t=t.substring(0,t.length-1)}return t}static propertiesToString(e){const t=[];Object.keys(e).forEach((n=>{if(Object.prototype.hasOwnProperty.call(e,n)){t.push(n)}}));const n=t.length;for(let e=0;e<n;e+=1){for(let i=e+1;i<n;i+=1){const n=t[e];const o=t[i];if(fV.compareStrings(n,o)>0){t[e]=o;t[i]=n}}}let i="";for(let o=0;o<n;o+=1){const n=t[o];i+=n;i+="=";let r=e[n];r=r.replace("\\","\\\\");r=r.replace("\n","\\n");r=r.replace("\r","\\r");r=r.replace("\t","\\t");i+=r;i+="\n"}return i}static compareStrings(e,t){let n;const i=e.length;const o=t.length;const r=i>o?o:i;for(n=0;n<r;n+=1){const i=fV.fixedCharCodeAt(e,n)-fV.fixedCharCodeAt(t,n);if(i!==0){return i}}return e.length-t.length}static fixedCharCodeAt(e,t){t=t||0;const n=e.charCodeAt(t);let i;let o;if(n>=55296&&n<=56319){i=n;o=e.charCodeAt(t+1);if(Number.isNaN(o)){throw hV.get("exception_high_surrogate")}return(i-55296)*1024+(o-56320)+65536}if(n>=56320&&n<=57343){return false}return n}static urlToAssArray(e){let t;t=e.indexOf("?");if(t>0){const n=e.substring(t+1);const i=n.split("&");const o={};for(t=0;t<i.length;t+=1){const e=i[t];const n=e.split("=");if(n.length>1){o[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}}return o}return{}}static urlEncode(e){let t="";t=encodeURIComponent(e);return t}static getWIRISImageOutput(e,t,n){const i=fV.createObject(e);if(i){if(i.className===sV.get("imageClassName")||i.getAttribute(sV.get("imageMathmlAttribute"))){if(!t){return e}const o=i.getAttribute(sV.get("imageMathmlAttribute"));let r=rV.safeXmlDecode(o);if(!sV.get("saveHandTraces")){r=rV.removeAnnotation(r,"application/json")}if(r==null){r=i.getAttribute("alt")}if(n){const e=rV.safeXmlEncode(r);return e}return r}}return e}static getNodeLength(e){const t={IMG:1,BR:1};if(e.nodeType===3){return e.nodeValue.length}if(e.nodeType===1){let n=t[e.nodeName.toUpperCase()];if(n===undefined){n=0}for(let t=0;t<e.childNodes.length;t+=1){n+=fV.getNodeLength(e.childNodes[t])}return n}return 0}static getSelectedItem(e,t,n){let i;if(t){i=e.contentWindow;i.focus()}else{i=window;e.focus()}if(document.selection&&!n){const n=i.document.selection.createRange();if(n.parentElement){if(n.htmlText.length>0){if(n.text.length===0){return fV.getSelectedItem(e,t,true)}return null}i.document.execCommand("InsertImage",false,"#");let o=n.parentElement();if(o.nodeName.toUpperCase()!=="IMG"){n.pasteHTML('<span id="wrs_openEditorWindow_temporalObject"></span>');o=i.document.getElementById("wrs_openEditorWindow_temporalObject")}let r;let s;if(o.nextSibling&&o.nextSibling.nodeType===3){r=o.nextSibling;s=0}else if(o.previousSibling&&o.previousSibling.nodeType===3){r=o.previousSibling;s=r.nodeValue.length}else{r=i.document.createTextNode("");o.parentNode.insertBefore(r,o);s=0}o.parentNode.removeChild(o);return{node:r,caretPosition:s}}if(n.length>1){return null}return{node:n.item(0)}}if(i.getSelection){let e;const t=i.getSelection();try{e=t.getRangeAt(0)}catch(t){e=i.document.createRange()}const n=e.startContainer;if(n.nodeType===3){return{node:n,caretPosition:e.startOffset}}if(n!==e.endContainer){return null}if(n.nodeType===1){const t=e.startOffset;if(n.childNodes[t]){return{node:n.childNodes[t]}}}}return null}static getSelectedItemOnTextarea(e){const t=document.createTextNode(e.value);const n=dV.getLatexFromTextNode(t,e.selectionStart);if(n===null){return null}return{node:t,caretPosition:e.selectionStart,startPosition:n.startPosition,endPosition:n.endPosition}}static getElementsByNameFromString(e,t,n){const i=[];e=e.toLowerCase();t=t.toLowerCase();let o=e.indexOf(`<${t} `);while(o!==-1){let r;if(n){r=">"}else{r=`</${t}>`}let s=e.indexOf(r,o);if(s!==-1){s+=r.length;i.push({start:o,end:s})}else{s=o+1}o=e.indexOf(`<${t} `,s)}return i}static decode64(e){const t="+".charCodeAt(0);const n="/".charCodeAt(0);const i="0".charCodeAt(0);const o="a".charCodeAt(0);const r="A".charCodeAt(0);const s="-".charCodeAt(0);const a="_".charCodeAt(0);const c=e.charCodeAt(0);if(c===t||c===s){return 62}if(c===n||c===a){return 63}if(c<i){return-1}if(c<i+10){return c-i+26+26}if(c<r+26){return c-r}if(c<o+26){return c-o+26}return null}static b64ToByteArray(e,t){let n;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}const i=[];let o;let r;if(!t){if(e.charAt(e.length-2)==="="){r=2}else if(e.charAt(e.length-1)==="="){r=1}else{r=0}o=r>0?e.length-4:e.length}else{o=t}let s;for(s=0;s<o;s+=4){n=fV.decode64(e.charAt(s))<<18|fV.decode64(e.charAt(s+1))<<12|fV.decode64(e.charAt(s+2))<<6|fV.decode64(e.charAt(s+3));i.push(n>>16&255);i.push(n>>8&255);i.push(n&255)}if(r){if(r===2){n=fV.decode64(e.charAt(s))<<2|fV.decode64(e.charAt(s+1))>>4;i.push(n&255)}else if(r===1){n=fV.decode64(e.charAt(s))<<10|fV.decode64(e.charAt(s+1))<<4|fV.decode64(e.charAt(s+2))>>2;i.push(n>>8&255);i.push(n&255)}}return i}static readInt32(e){if(e.length<4){return false}const t=e.splice(0,4);return t[0]<<24|t[1]<<16|t[2]<<8|t[3]<<0}static readByte(e){return e.shift()<<0}static readBytes(e,t,n){return e.splice(t,n)}static updateTextArea(e,t){if(e&&t){e.focus();if(e.selectionStart!=null){const{selectionEnd:n}=e;const i=e.value.substring(0,e.selectionStart);const o=e.value.substring(n,e.value.length);e.value=i+t+o;e.selectionEnd=n+t.length}else{const e=document.selection.createRange();e.text=t}}}static updateExistingTextOnTextarea(e,t,n,i){e.focus();const o=e.value.substring(0,n);e.value=o+t+e.value.substring(i,e.value.length);e.selectionEnd=n+t.length}static addArgument(e,t,n){let i;if(e.indexOf("?")>0){i="&"}else{i="?"}return`${e+i+t}=${n}`}}class gV{static removeImgDataAttributes(e){const t=[];const{attributes:n}=e;Object.keys(n).forEach((e=>{const i=n[e];if(i!==undefined&&i.name!==undefined&&i.name.indexOf("data-")===0){t.push(i.name)}}));t.forEach((t=>{e.removeAttribute(t)}))}static clone(e,t){const n=sV.get("imageCustomEditorName");if(!e.hasAttribute(n)){t.removeAttribute(n)}const i=sV.get("imageMathmlAttribute");const o=[i,n,"alt","height","width","style","src","role"];o.forEach((n=>{const i=e.getAttribute(n);if(i){t.setAttribute(n,i)}}))}static setImgSize(e,t,n){let i;let o;let r;let s;if(n){if(sV.get("imageFormat")==="svg"){if(sV.get("saveMode")!=="base64"){i=gV.getMetricsFromSvgString(t)}else{o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length);s="";r=fV.b64ToByteArray(o,o.length);for(let e=0;e<r.length;e+=1){s+=String.fromCharCode(r[e])}i=gV.getMetricsFromSvgString(s)}}else{o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length);r=fV.b64ToByteArray(o,88);i=gV.getMetricsFromBytes(r)}}else{i=fV.urlToAssArray(t)}let a=i.cw;if(!a){return}let c=i.ch;let l=i.cb;const{dpi:d}=i;if(d){a=a*96/d;c=c*96/d;l=l*96/d}e.width=a;e.height=c;e.style.verticalAlign=`-${c-l}px`}static fixAfterResize(e){e.removeAttribute("style");e.removeAttribute("width");e.removeAttribute("height");e.style.maxWidth="none";if(e.src.indexOf("data:image")!==-1){if(sV.get("imageFormat")==="svg"){const t=decodeURIComponent(e.src.substring(32,e.src.length));gV.setImgSize(e,t,true)}else{const t=e.src.substring(22,e.src.length);gV.setImgSize(e,t,true)}}else{gV.setImgSize(e,e.src)}}static getMetricsFromSvgString(e){let t=e.indexOf('height="');let n=e.indexOf('"',t+8,e.length);const i=e.substring(t+8,n);t=e.indexOf('width="');n=e.indexOf('"',t+7,e.length);const o=e.substring(t+7,n);t=e.indexOf('wrs:baseline="');n=e.indexOf('"',t+14,e.length);const r=e.substring(t+14,n);if(typeof o!=="undefined"){const e=[];e.cw=o;e.ch=i;if(typeof r!=="undefined"){e.cb=r}return e}return[]}static getMetricsFromBytes(e){fV.readBytes(e,0,8);let t;let n;let i;let o;let r;while(e.length>=4){i=fV.readInt32(e);if(i===1229472850){t=fV.readInt32(e);n=fV.readInt32(e);fV.readInt32(e);fV.readByte(e)}else if(i===1650545477){o=fV.readInt32(e)}else if(i===1883789683){r=fV.readInt32(e);r=Math.round(r/39.37);fV.readInt32(e);fV.readByte(e)}fV.readInt32(e)}if(typeof t!=="undefined"){const e=[];e.cw=t;e.ch=n;e.dpi=r;if(o){e.cb=o}return e}return[]}}class mV{static get cache(){return mV._cache}static set cache(e){mV._cache=e}static mathMLToAccessible(e,t,n){if(typeof t==="undefined"){t="en"}if(rV.containClass(e,"wrs_chemistry")){n.mode="chemistry"}n.ignoreStyles=true;let i="";if(mV.cache.get(e)){i=mV.cache.get(e)}else{n.service="mathml2accessible";n.lang=t;const o=JSON.parse(lV.getService("service",n));if(o.status!=="error"){i=o.result.text;mV.cache.populate(e,i)}else{i=hV.get("error_convert_accessibility")}}return i}}mV._cache=new aV;var pV=__webpack_require__(6209);class bV{static mathmlToImgObject(e,t,n,i){const o=e.createElement("img");o.align="middle";o.style.maxWidth="none";let r=n||{};const s=sV.get("editorParameters");r={...s,...r};r.mml=t;r.lang=i;r.metrics="true";r.centerbaseline="false";if(sV.get("saveMode")==="base64"&&sV.get("base64savemode")==="default"){r.base64=true}o.className=sV.get("imageClassName");if(t.indexOf('class="')!==-1){let e=t.substring(t.indexOf('class="')+'class="'.length,t.length);e=e.substring(0,e.indexOf('"'));e=e.substring(4,e.length);o.setAttribute(sV.get("imageCustomEditorName"),e)}if(sV.get("wirisPluginPerformance")&&(sV.get("saveMode")==="xml"||sV.get("saveMode")==="safeXml")){let e=JSON.parse(bV.createShowImageSrc(r,i));if(e.status==="warning"){try{e=JSON.parse(lV.getService("showimage",r))}catch(e){return null}}({result:e}=e);if(e.format==="png"){o.src=`data:image/png;base64,${e.content}`}else{o.src=`data:image/svg+xml;charset=utf8,${fV.urlEncode(e.content)}`}o.setAttribute(sV.get("imageMathmlAttribute"),rV.safeXmlEncode(t));gV.setImgSize(o,e.content,true);if(sV.get("enableAccessibility")){if(typeof e.alt==="undefined"){o.alt=mV.mathMLToAccessible(t,i,r)}else{o.alt=e.alt}}}else{const e=bV.createImageSrc(t,r);o.setAttribute(sV.get("imageMathmlAttribute"),rV.safeXmlEncode(t));o.src=e;gV.setImgSize(o,e,sV.get("saveMode")==="base64"&&sV.get("base64savemode")==="default");if(sV.get("enableAccessibility")){o.alt=mV.mathMLToAccessible(t,i,r)}}if(typeof bV.observer!=="undefined"){bV.observer.observe(o)}o.setAttribute("role","math");return o}static createImageSrc(e,t){if(sV.get("saveMode")==="base64"&&sV.get("base64savemode")==="default"){t.base64=true}let n=lV.getService("createimage",t);if(n.indexOf("@BASE@")!==-1){const e=lV.getServicePath("createimage").split("/");e.pop();n=n.split("@BASE@").join(e.join("/"))}return n}static initParse(e,t){e=bV.initParseSaveMode(e,t);return bV.initParseEditMode(e)}static initParseSaveMode(e,t){if(sV.get("saveMode")){e=dV.parseMathmlToLatex(e,oV.safeXmlCharacters);e=dV.parseMathmlToLatex(e,oV.xmlCharacters);e=bV.parseMathmlToImg(e,oV.safeXmlCharacters,t);e=bV.parseMathmlToImg(e,oV.xmlCharacters,t);if(sV.get("saveMode")==="base64"&&sV.get("base64savemode")==="image"){e=bV.codeImgTransform(e,"base642showimage")}}return e}static initParseEditMode(e){if(sV.get("parseModes").indexOf("latex")!==-1){const t=fV.getElementsByNameFromString(e,"img",true);const n='encoding="LaTeX">';let i=0;for(let o=0;o<t.length;o+=1){const r=e.substring(t[o].start+i,t[o].end+i);if(r.indexOf(` class="${sV.get("imageClassName")}"`)!==-1){let s=` ${sV.get("imageMathmlAttribute")}="`;let a=r.indexOf(s);if(a===-1){s=' alt="';a=r.indexOf(s)}if(a!==-1){a+=s.length;const c=r.indexOf('"',a);const l=fV.htmlSanitize(rV.safeXmlDecode(r.substring(a,c)));let d=l.indexOf(n);if(d!==-1){d+=n.length;const r=l.indexOf("</annotation>",d);const s=l.substring(d,r);const a=`$$${fV.htmlEntitiesDecode(s)}$$`;const c=e.substring(0,t[o].start+i);const u=e.substring(t[o].end+i);e=c+a+u;i+=a.length-(t[o].end-t[o].start)}}}}}return e}static endParse(e){const t=bV.endParseEditMode(e);const n=bV.endParseSaveMode(t);return n}static endParseEditMode(e){if(sV.get("parseModes").indexOf("latex")!==-1){let t="";let n=0;let i=e.indexOf("$$");while(i!==-1){t+=e.substring(n,i);n=e.indexOf("$$",i+2);if(n!==-1){const o=e.substring(i+2,n);const r=fV.htmlEntitiesDecode(o);let s=fV.htmlSanitize(dV.getMathMLFromLatex(r,true));if(!sV.get("saveHandTraces")){s=rV.removeAnnotation(s,"application/json")}t+=s;n+=2}else{t+="$$";n=i+2}i=e.indexOf("$$",n)}t+=e.substring(n,e.length);e=t}return e}static endParseSaveMode(e){if(sV.get("saveMode")){if(sV.get("saveMode")==="safeXml"){e=bV.codeImgTransform(e,"img2mathml")}else if(sV.get("saveMode")==="xml"){e=bV.codeImgTransform(e,"img2mathml")}else if(sV.get("saveMode")==="base64"&&sV.get("base64savemode")==="image"){e=bV.codeImgTransform(e,"img264")}}return e}static createShowImageSrcData(e,t){const n={};const i=["mml","color","centerbaseline","zoom","dpi","fontSize","fontFamily","defaultStretchy","backgroundColor","format"];i.forEach((t=>{if(typeof e[t]!=="undefined"){n[t]=e[t]}}));const o={};Object.keys(e).forEach((t=>{if(t!=="mml"){o[t]=e[t]}}));o.formula=com.wiris.js.JsPluginTools.md5encode(fV.propertiesToString(n));o.lang=typeof t==="undefined"?"en":t;o.version=sV.get("version");return o}static createShowImageSrc(e,t){const n=this.createShowImageSrcData(e,t);const i=lV.getService("showimage",fV.httpBuildQuery(n),true);return i}static codeImgTransform(e,t){let n="";let i=0;const o=/<img/gi;const r=o.source.length;while(o.test(e)){const s=o.lastIndex-r;n+=e.substring(i,s);let a=s+1;while(a<e.length&&i<=s){const t=e.charAt(a);if(t==='"'||t==="'"){const n=e.indexOf(t,a+1);if(n===-1){a=e.length}else{a=n}}else if(t===">"){i=a+1}a+=1}if(i<s){n+=e.substring(s,e.length);return n}let c=e.substring(s,i);const l=fV.createObject(c);let d=l.getAttribute(sV.get("imageMathmlAttribute"));let u;let h;if(t==="base642showimage"){if(d==null){d=l.getAttribute("alt")}d=rV.safeXmlDecode(d);c=bV.mathmlToImgObject(document,d,null,null);n+=fV.createObjectCode(c)}else if(t==="img2mathml"){if(sV.get("saveMode")){if(sV.get("saveMode")==="safeXml"){u=true;h=true}else if(sV.get("saveMode")==="xml"){u=true;h=false}}n+=fV.getWIRISImageOutput(c,u,h)}else if(t==="img264"){if(d===null){d=l.getAttribute("alt")}d=rV.safeXmlDecode(d);const e={};e.base64="true";c=bV.mathmlToImgObject(document,d,e,null);gV.setImgSize(c,c.src,true);n+=fV.createObjectCode(c)}}n+=e.substring(i,e.length);return n}static parseMathmlToImg(e,t,n){let i="";const o=`${t.tagOpener}math`;const r=`${t.tagOpener}/math${t.tagCloser}`;let s=e.indexOf(o);let a=0;while(s!==-1){i+=e.substring(a,s);const c=e.indexOf(sV.get("imageMathmlAttribute"));a=e.indexOf(r,s);if(a===-1){a=e.length-1}else if(c!==-1){a+=e.indexOf("/>",s)}else{a+=r.length}if(!rV.isMathmlInAttribute(e,s)&&c===-1){let o=e.substring(s,a);o=t.id===oV.safeXmlCharacters.id?rV.safeXmlDecode(o):rV.mathMLEntities(o);i+=fV.createObjectCode(bV.mathmlToImgObject(document,o,null,n))}else{i+=e.substring(s,a)}s=e.indexOf(o,a)}i+=e.substring(a,e.length);return i}}if(typeof MutationObserver!=="undefined"){const e=new MutationObserver((e=>{e.forEach((e=>{if(e.oldValue===sV.get("imageClassName")&&e.attributeName==="class"&&e.target.className.indexOf(sV.get("imageClassName"))===-1){e.target.className=sV.get("imageClassName")}}))}));bV.observer=Object.create(e);bV.observer.Config={attributes:true,attributeOldValue:true};bV.observer.observe=function(e){Object.getPrototypeOf(this).observe(e,this.Config)}}class kV{constructor(){this.isContentChanged=false;this.waitingForChanges=false}setIsContentChanged(e){this.isContentChanged=e}getIsContentChanged(){return this.isContentChanged}setWaitingForChanges(e){this.waitingForChanges=e}caretPositionChanged(e){}clipboardChanged(e){}contentChanged(e){if(this.waitingForChanges===true&&this.isContentChanged===false){this.isContentChanged=true}}styleChanged(e){}transformationReceived(e){}}var wV=__webpack_require__(7209);class _V{static init(e){if(!this.telemeter){(0,wV.ZP)(e.url).then((()=>{this.telemeter=new wV.GD(e.solution,e.hosts,e.config)})).catch((e=>{console.log(e)}))}}static async finish(){if(!this.telemeter)return;try{let e=this.telemeter;this.telemeter=undefined;await e.finish()}catch(e){console.error(e)}}}class AV{constructor(e){this.editorAttributes={};if("editorAttributes"in e){this.editorAttributes=e.editorAttributes}else{throw new Error("ContentManager constructor error: editorAttributes property missed.")}this.customEditors=null;if("customEditors"in e){this.customEditors=e.customEditors}this.environment={};if("environment"in e){this.environment=e.environment}else{throw new Error("ContentManager constructor error: environment property missed")}this.language="";if("language"in e){this.language=e.language}else{throw new Error("ContentManager constructor error: language property missed")}this.editorListener=new kV;this.editor=null;this.ua=navigator.userAgent.toLowerCase();this.deviceProperties={};this.deviceProperties.isAndroid=this.ua.indexOf("android")>-1;this.deviceProperties.isIOS=AV.isIOS();this.toolbar=null;this.dbclick=null;this.modalDialogInstance=null;this.listeners=new cV;this.mathML=null;this.isNewElement=true;this.integrationModel=null}addListener(e){this.listeners.add(e)}setIntegrationModel(e){this.integrationModel=e}setModalDialogInstance(e){this.modalDialogInstance=e}insert(){this.updateTitle(this.modalDialogInstance);this.insertEditor(this.modalDialogInstance)}insertEditor(){if(AV.isEditorLoaded()){this.editor=window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes);this.editor.insertInto(this.modalDialogInstance.contentContainer);this.editor.focus();if(this.modalDialogInstance.rtl){this.editor.action("rtl")}if(this.editor.getEditorModel().isRTL()){this.editor.element.style.direction="rtl"}this.editor.getEditorModel().addEditorListener(this.editorListener);if(this.modalDialogInstance.deviceProperties.isIOS){setTimeout((function(){if(this.hasOwnProperty("modalDialogInstance"))this.modalDialogInstance.hideKeyboard()}),400);const e=document.getElementsByClassName("wrs_formulaDisplay")[0];fV.addEvent(e,"focus",this.modalDialogInstance.handleOpenedIosSoftkeyboard);fV.addEvent(e,"blur",this.modalDialogInstance.handleClosedIosSoftkeyboard)}this.listeners.fire("onLoad",{})}else{setTimeout(AV.prototype.insertEditor.bind(this),100)}}init(){if(!AV.isEditorLoaded()){this.addEditorAsExternalDependency()}}addEditorAsExternalDependency(){const e=document.createElement("script");e.type="text/javascript";let t=sV.get("editorUrl");const n=document.createElement("a");AV.setHrefToAnchorElement(n,t);AV.setProtocolToAnchorElement(n);t=AV.getURLFromAnchorElement(n);const i=this.getEditorStats();e.src=`${t}?lang=${this.language}&stats-editor=${i.editor}&stats-mode=${i.mode}&stats-version=${i.version}`;document.getElementsByTagName("head")[0].appendChild(e)}static setHrefToAnchorElement(e,t){e.href=t}static setProtocolToAnchorElement(e){if(window.location.href.indexOf("https://")===0){if(e.protocol==="http:"){e.protocol="https:"}}}static getURLFromAnchorElement(e){const t=e.port==="80"||e.port==="443"||e.port==="";return`${e.protocol}//${e.hostname}${t?"":`:${e.port}`}${e.pathname.startsWith("/")?e.pathname:`/${e.pathname}`}`}getEditorStats(){const e={};if("editor"in this.environment){e.editor=this.environment.editor}else{e.editor="unknown"}if("mode"in this.environment){e.mode=this.environment.mode}else{e.mode=sV.get("saveMode")}if("version"in this.environment){e.version=this.environment.version}else{e.version=sV.get("version")}return e}static isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static isEditorLoaded(){return window.com&&window.com.wiris&&window.com.wiris.jsEditor&&window.com.wiris.jsEditor.JsEditor&&window.com.wiris.jsEditor.JsEditor.newInstance}setInitialContent(){if(!this.isNewElement){this.setMathML(this.mathML)}}setMathML(e,t){if(typeof t==="undefined"){t=false}this.editor.setMathMLWithCallback(e,(()=>{this.editorListener.setWaitingForChanges(true)}));setTimeout((()=>{this.editorListener.setIsContentChanged(false)}),500);if(!t){this.onFocus()}}onFocus(){if(typeof this.editor!=="undefined"&&this.editor!=null){this.editor.focus()}}submitAction(){if(!this.editor.isFormulaEmpty()){let e=this.editor.getMathMLWithSemantics();if(this.customEditors.getActiveEditor()!==null){const{toolbar:t}=this.customEditors.getActiveEditor();e=rV.addCustomEditorClassAttribute(e,t)}else{Object.keys(this.customEditors.editors).forEach((t=>{e=rV.removeCustomEditorClassAttribute(e,t)}))}const t=rV.mathMLEntities(e);this.integrationModel.updateFormula(t)}else{this.integrationModel.updateFormula(null)}this.customEditors.disable();this.integrationModel.notifyWindowClosed();this.setEmptyMathML();this.customEditors.disable()}setEmptyMathML(){if(this.deviceProperties.isAndroid||this.deviceProperties.isIOS){if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir="rtl"><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',true)}else{this.setMathML('<math><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',true)}}else if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir="rtl"/>',true)}else{this.setMathML("<math/>",true)}}onOpen(){if(this.isNewElement){this.setEmptyMathML()}else{this.setMathML(this.mathML)}let e=this.updateToolbar();this.onFocus();if(this.deviceProperties.isIOS){const e=document.documentElement.clientWidth/window.innerWidth;if(e!==1){this.setKeyboardMode()}}let t=this.dbclick?"formula":"button";try{_V.telemeter.track("OPENED_MTCT_EDITOR",{toolbar:e,trigger:t})}catch(e){console.error(e)}WV.globalListeners.fire("onModalOpen",{})}setKeyboardMode(){const e=document.getElementsByClassName("wrs_handOpen wrs_disablePalette")[0];if(e){e.classList.remove("wrs_handOpen");e.classList.remove("wrs_disablePalette")}else{setTimeout(AV.prototype.setKeyboardMode.bind(this),100)}}updateToolbar(){this.updateTitle(this.modalDialogInstance);const e=this.customEditors.getActiveEditor();let t;if(e){t=e.toolbar?e.toolbar:_wrs_int_wirisProperties.toolbar;if(this.toolbar==null||this.toolbar!==t){this.setToolbar(t)}}else{t=this.getToolbar();if(this.toolbar==null||this.toolbar!==t){this.setToolbar(t);this.customEditors.disable()}}return t}updateTitle(){const e=this.customEditors.getActiveEditor();if(e){this.modalDialogInstance.setTitle(e.title)}else{this.modalDialogInstance.setTitle("MathType")}}getToolbar(){let e="general";if("toolbar"in this.editorAttributes){({toolbar:e}=this.editorAttributes)}if(e==="general"){e=typeof _wrs_int_wirisProperties==="undefined"||typeof _wrs_int_wirisProperties.toolbar==="undefined"?"general":_wrs_int_wirisProperties.toolbar}return e}setToolbar(e){this.toolbar=e;this.editor.setParams({toolbar:this.toolbar})}hasChanges(){return!this.editor.isFormulaEmpty()&&this.editorListener.getIsContentChanged()}onKeyDown(e){if(e.key!==undefined&&e.repeat===false){if(e.key==="Escape"||e.key==="Esc"){let t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed");if(t.length===0){t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed");if(t.length===0){t=document.getElementsByClassName("wrs_select wrs_pressed");if(t.length===0){this.modalDialogInstance.cancelAction();e.stopPropagation();e.preventDefault()}}}}else if(e.shiftKey&&e.key==="Tab"){if(document.activeElement===this.modalDialogInstance.submitButton){this.editor.focus();e.stopPropagation();e.preventDefault()}else if(document.querySelector('[title="Manual"]')===document.activeElement){this.modalDialogInstance.closeDiv.focus();e.stopPropagation();e.preventDefault()}else{if(document.activeElement===this.modalDialogInstance.minimizeDiv){if(!(this.modalDialogInstance.properties.state==="minimized")){this.modalDialogInstance.cancelButton.focus();e.stopPropagation();e.preventDefault()}}}}else if(e.key==="Tab"){if(document.activeElement===this.modalDialogInstance.cancelButton){this.modalDialogInstance.minimizeDiv.focus();e.stopPropagation();e.preventDefault()}else if(document.activeElement===this.modalDialogInstance.closeDiv){if(!(this.modalDialogInstance.properties.state==="minimized")){const t=document.querySelector('[title="Manual"]');t.focus();e.stopPropagation();e.preventDefault()}}else{const t=document.getElementsByClassName("wrs_formulaDisplay")[0];if(t.getAttribute("class")==="wrs_formulaDisplay wrs_focused"){this.modalDialogInstance.submitButton.focus();e.stopPropagation();e.preventDefault()}}}}}}class vV{constructor(){this.editors=[];this.activeEditor="default"}addEditor(e,t){const n={};n.name=t.name;n.toolbar=t.toolbar;n.icon=t.icon;n.confVariable=t.confVariable;n.title=t.title;n.tooltip=t.tooltip;this.editors[e]=n}enable(e){this.activeEditor=e}disable(){this.activeEditor="default"}getActiveEditor(){if(this.activeEditor!=="default"){return this.editors[this.activeEditor]}return null}}const CV={imageCustomEditorName:"data-custom-editor",imageClassName:"Wirisformula",CASClassName:"Wiriscas"};const yV=CV;class xV{constructor(){this.cancelled=false;this.defaultPrevented=false}cancel(){this.cancelled=true}preventDefault(){this.defaultPrevented=true}}class EV{constructor(e){this.overlayElement=e.overlayElement;this.callbacks=e.callbacks;this.overlayWrapper=this.overlayElement.appendChild(document.createElement("div"));this.overlayWrapper.setAttribute("class","wrs_popupmessage_overlay_envolture");this.message=this.overlayWrapper.appendChild(document.createElement("div"));this.message.id="wrs_popupmessage";this.message.setAttribute("class","wrs_popupmessage_panel");this.message.setAttribute("role","dialog");this.message.setAttribute("aria-describedby","description_txt");const t=document.createElement("p");const n=document.createTextNode(e.strings.message);t.appendChild(n);t.id="description_txt";this.message.appendChild(t);const i=this.overlayWrapper.appendChild(document.createElement("div"));i.setAttribute("class","wrs_popupmessage_overlay");i.addEventListener("click",this.cancelAction.bind(this));this.buttonArea=this.message.appendChild(document.createElement("div"));this.buttonArea.setAttribute("class","wrs_popupmessage_button_area");this.buttonArea.id="wrs_popup_button_area";const o={class:"wrs_button_accept",innerHTML:e.strings.submitString,id:"wrs_popup_accept_button","data-testid":"mtcteditor-cd-close-button"};this.closeButton=this.createButton(o,this.closeAction.bind(this));this.buttonArea.appendChild(this.closeButton);const r={class:"wrs_button_cancel",innerHTML:e.strings.cancelString,id:"wrs_popup_cancel_button","data-testid":"mtcteditor-cd-cancel-button"};this.cancelButton=this.createButton(r,this.cancelAction.bind(this));this.buttonArea.appendChild(this.cancelButton)}createButton(e,t){let n={};n=document.createElement("button");n.setAttribute("id",e.id);n.setAttribute("class",e.class);n.innerHTML=e.innerHTML;n.addEventListener("click",t);if(e["data-testid"]){n.setAttribute("data-testid",e["data-testid"])}return n}show(){if(this.overlayWrapper.style.display!=="block"){document.activeElement.blur();this.overlayWrapper.style.display="block";this.closeButton.focus()}else{this.overlayWrapper.style.display="none"}}cancelAction(){this.overlayWrapper.style.display="none";if(typeof this.callbacks.cancelCallback!=="undefined"){this.callbacks.cancelCallback()}}closeAction(){this.cancelAction();if(typeof this.callbacks.closeCallback!=="undefined"){this.callbacks.closeCallback()}qV.setActionsOnCancelButtons()}onKeyDown(e){if(e.key!==undefined){if(e.key==="Escape"||e.key==="Esc"){this.cancelAction();e.stopPropagation();e.preventDefault()}else if(e.key==="Tab"){if(document.activeElement===this.closeButton){this.cancelButton.focus()}else{this.closeButton.focus()}e.stopPropagation();e.preventDefault()}}}}const DV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3783"\n   version="1.1">\n  <metadata\n     id="metadata3789">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3787" />\n  <image\n     y="0"\n     x="0"\n     id="image3791"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\nvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M\n4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4\nJ/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749R\ngs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5Z\nA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLY\nJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7Jkk\nS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpF\naA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIA\nAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const TV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg2"\n   version="1.1">\n  <metadata\n     id="metadata8">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs6" />\n  <image\n     y="0"\n     x="0"\n     id="image10"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\n2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtE\nQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0\nXawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbz\nFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT9\n6VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0Gko\nNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0\nJryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4\nARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u\n8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const MV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3793"\n   version="1.1">\n  <metadata\n     id="metadata3799">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3797" />\n  <image\n     y="0"\n     x="0"\n     id="image3801"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJ\nKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQf\nSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7\nns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4t\nKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1\neoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYL\nCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y5\n4+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Y\ng2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const IV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg12"\n   version="1.1">\n  <metadata\n     id="metadata18">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs16" />\n  <image\n     y="0"\n     x="0"\n     id="image20"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQ\nU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0\nlPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOy\nvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6\nsFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcF\nmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmg\npMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM\n9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const SV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3813"\n   version="1.1">\n  <metadata\n     id="metadata3819">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3817" />\n  <image\n     y="0"\n     x="0"\n     id="image3821"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0\nkoGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rO\nvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJ\nRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const BV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg32"\n   version="1.1">\n  <metadata\n     id="metadata38">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs36" />\n  <image\n     y="0"\n     x="0"\n     id="image40"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\npklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIK\nvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1Bo\nCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26\nb1V6LAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const NV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3823"\n   version="1.1">\n  <metadata\n     id="metadata3829">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3827" />\n  <image\n     y="0"\n     x="0"\n     id="image3831"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhO\nUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+c\nwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64\ng26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR\n1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQ\niWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYu\nCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZN\nEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAq\nwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const zV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg42"\n   version="1.1">\n  <metadata\n     id="metadata48">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs46" />\n  <image\n     y="0"\n     x="0"\n     id="image50"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQ\nQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4k\nT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeq\nrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqC\nN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW\n3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmc\nuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyT\nIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXD\nbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';const PV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg3803"\n   version="1.1">\n  <metadata\n     id="metadata3809">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3807" />\n  <image\n     y="0"\n     x="0"\n     id="image3811"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a\n3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6\nV9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqRO\nEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n';const LV='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg22"\n   version="1.1">\n  <metadata\n     id="metadata28">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs26" />\n  <image\n     y="0"\n     x="0"\n     id="image30"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+\nyT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBB\nfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+\nX1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n';class OV{constructor(e){this.attributes=e;const t=navigator.userAgent.toLowerCase();const n=t.indexOf("android")>-1;const i=AV.isIOS();this.iosSoftkeyboardOpened=false;this.iosMeasureUnit=t.indexOf("crios")===-1?"%":"vh";this.iosDivHeight=`100%${this.iosMeasureUnit}`;const o=window.outerWidth;const r=window.outerHeight;const s=o>r;const a=o<r;const c=s&&this.attributes.height>r;const l=a&&this.attributes.width>o;const d=AV.isMobile();this.instanceId=document.getElementsByClassName("wrs_modal_dialogContainer").length;this.deviceProperties={orientation:s?"landscape":"portait",isAndroid:n,isIOS:i,isMobile:d,isDesktop:!d&&!i&&!n};this.properties={created:false,state:"",previousState:"",position:{bottom:0,right:10},size:{height:338,width:580}};this.websiteBeforeLockParameters=null;let u={};u.class="wrs_modal_overlay";u.id=this.getElementId(u.class);this.overlay=fV.createElement("div",u);u={};u.class="wrs_modal_title_bar";u.id=this.getElementId(u.class);this.titleBar=fV.createElement("div",u);u={};u.class="wrs_modal_title";u.id=this.getElementId(u.class);this.title=fV.createElement("div",u);this.title.innerHTML="offline";u={};u.class="wrs_modal_close_button";u.id=this.getElementId(u.class);u.title=hV.get("close");u.style={};this.closeDiv=fV.createElement("a",u);this.closeDiv.setAttribute("role","button");this.closeDiv.setAttribute("tabindex",3);let h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(DV)})`;let f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(TV)})`;this.closeDiv.setAttribute("style",h);this.closeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.closeDiv.setAttribute("onmouseout",`this.style = "${h}";`);this.closeDiv.setAttribute("data-testid","mtcteditor-close-button");u={};u.class="wrs_modal_stack_button";u.id=this.getElementId(u.class);u.title=hV.get("exit_fullscreen");this.stackDiv=fV.createElement("a",u);this.stackDiv.setAttribute("role","button");this.stackDiv.setAttribute("tabindex",2);h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(NV)})`;f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(zV)})`;this.stackDiv.setAttribute("style",h);this.stackDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.stackDiv.setAttribute("onmouseout",`this.style = "${h}";`);this.stackDiv.setAttribute("data-testid","mtcteditor-fullscreen-disable-button");u={};u.class="wrs_modal_maximize_button";u.id=this.getElementId(u.class);u.title=hV.get("fullscreen");this.maximizeDiv=fV.createElement("a",u);this.maximizeDiv.setAttribute("role","button");this.maximizeDiv.setAttribute("tabindex",2);h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(MV)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(IV)})`;this.maximizeDiv.setAttribute("style",h);this.maximizeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.maximizeDiv.setAttribute("onmouseout",`this.style = "${h}";`);this.maximizeDiv.setAttribute("data-testid","mtcteditor-fullscreen-enable-button");u={};u.class="wrs_modal_minimize_button";u.id=this.getElementId(u.class);u.title=hV.get("minimize");this.minimizeDiv=fV.createElement("a",u);this.minimizeDiv.setAttribute("role","button");this.minimizeDiv.setAttribute("tabindex",1);h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(SV)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(BV)})`;this.minimizeDiv.setAttribute("style",h);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${h}";`);this.minimizeDiv.setAttribute("data-testid","mtcteditor-minimize-button");u={};u.class="wrs_modal_dialogContainer";u.id=this.getElementId(u.class);u.role="dialog";this.container=fV.createElement("div",u);this.container.setAttribute("aria-labeledby","wrs_modal_title[0]");u={};u.class="wrs_modal_wrapper";u.id=this.getElementId(u.class);this.wrapper=fV.createElement("div",u);u={};u.class="wrs_content_container";u.id=this.getElementId(u.class);this.contentContainer=fV.createElement("div",u);u={};u.class="wrs_modal_controls";u.id=this.getElementId(u.class);this.controls=fV.createElement("div",u);u={};u.class="wrs_modal_buttons_container";u.id=this.getElementId(u.class);this.buttonContainer=fV.createElement("div",u);this.submitButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_accept"),class:"wrs_modal_button_accept",innerHTML:hV.get("accept"),"data-testid":"mtcteditor-insert-button"},this.submitAction.bind(this));this.cancelButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_cancel"),class:"wrs_modal_button_cancel",innerHTML:hV.get("cancel"),"data-testid":"mtcteditor-cancel-button"},this.cancelAction.bind(this));this.contentManager=null;const g={cancelString:hV.get("cancel"),submitString:hV.get("close"),message:hV.get("close_modal_warning")};const m={closeCallback:()=>{this.close()},cancelCallback:()=>{this.focus()}};const p={overlayElement:this.container,callbacks:m,strings:g};this.popup=new EV(p);this.rtl=false;if("rtl"in this.attributes){this.rtl=this.attributes.rtl}this.handleOpenedIosSoftkeyboard=this.handleOpenedIosSoftkeyboard.bind(this);this.handleClosedIosSoftkeyboard=this.handleClosedIosSoftkeyboard.bind(this)}setContentManager(e){this.contentManager=e}getContentManager(){return this.contentManager}submitAction(){if(typeof this.contentManager.submitAction!=="undefined"){this.contentManager.submitAction()}try{_V.telemeter.track("CLOSED_MTCT_EDITOR",{toolbar:this.contentManager.toolbar,trigger:"mtct_insert"})}catch(e){console.error(e)}this.close()}cancelAction(){if(typeof this.contentManager.hasChanges==="undefined"){qV.setActionsOnCancelButtons();try{_V.telemeter.track("CLOSED_MTCT_EDITOR",{toolbar:this.contentManager.toolbar,trigger:"mtct_close"})}catch(e){console.error(e)}this.close()}else if(!this.contentManager.hasChanges()){qV.setActionsOnCancelButtons();try{_V.telemeter.track("CLOSED_MTCT_EDITOR",{toolbar:this.contentManager.toolbar,trigger:"mtct_close"})}catch(e){console.error(e)}this.close()}else{this.showPopUpMessage();try{_V.telemeter.track("CLOSED_MTCT_EDITOR",{toolbar:this.contentManager.toolbar,trigger:"mtct_close"})}catch(e){console.error(e)}}}createSubmitButton(e,t){class n{constructor(){this.element=document.createElement("button");this.element.id=e.id;this.element.className=e.class;this.element.innerHTML=e.innerHTML;this.element.dataset.testid=e["data-testid"];fV.addEvent(this.element,"click",t)}getElement(){return this.element}}return new n(e,t).getElement()}create(){this.titleBar.appendChild(this.closeDiv);this.titleBar.appendChild(this.stackDiv);this.titleBar.appendChild(this.maximizeDiv);this.titleBar.appendChild(this.minimizeDiv);this.titleBar.appendChild(this.title);if(this.deviceProperties.isDesktop){this.container.appendChild(this.titleBar)}this.wrapper.appendChild(this.contentContainer);this.wrapper.appendChild(this.controls);this.controls.appendChild(this.buttonContainer);this.buttonContainer.appendChild(this.submitButton);this.buttonContainer.appendChild(this.cancelButton);this.container.appendChild(this.wrapper);this.recalculateScrollBar();document.body.appendChild(this.container);document.body.appendChild(this.overlay);if(this.deviceProperties.isDesktop){this.createModalWindowDesktop();this.createResizeButtons();this.addListeners();if(sV.get("modalWindowFullScreen")){this.maximize()}}else if(this.deviceProperties.isAndroid){this.createModalWindowAndroid()}else if(this.deviceProperties.isIOS){this.createModalWindowIos()}if(this.contentManager!=null){this.contentManager.insert(this)}this.properties.open=true;this.properties.created=true;if(this.isRTL()){this.container.style.right=`${window.innerWidth-this.scrollbarWidth-this.container.offsetWidth}px`;this.container.className+=" wrs_modal_rtl"}}createResizeButtons(){this.resizerBR=document.createElement("div");this.resizerBR.className="wrs_bottom_right_resizer";this.resizerBR.innerHTML="◢";this.resizerBR.dataset.testid="mtcteditor-resize-button-right";this.resizerTL=document.createElement("div");this.resizerTL.className="wrs_bottom_left_resizer";this.resizerTL.dataset.testid="mtcteditor-resize-button-left";this.container.appendChild(this.resizerBR);this.titleBar.appendChild(this.resizerTL);fV.addEvent(this.resizerBR,"mousedown",this.activateResizeStateBR.bind(this));fV.addEvent(this.resizerTL,"mousedown",this.activateResizeStateTL.bind(this))}activateResizeStateBR(e){this.initializeResizeProperties(e,false)}activateResizeStateTL(e){this.initializeResizeProperties(e,true)}initializeResizeProperties(e,t){fV.addClass(document.body,"wrs_noselect");fV.addClass(this.overlay,"wrs_overlay_active");this.resizeDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.initialWidth=parseInt(this.container.style.width,10);this.initialHeight=parseInt(this.container.style.height,10);if(!t){this.initialRight=parseInt(this.container.style.right,10);this.initialBottom=parseInt(this.container.style.bottom,10)}else{this.leftScale=true}if(!this.initialRight){this.initialRight=0}if(!this.initialBottom){this.initialBottom=0}document.body.style["user-select"]="none"}open(){this.removeClass("wrs_closed");const{isIOS:e}=this.deviceProperties;const{isAndroid:t}=this.deviceProperties;const{isMobile:n}=this.deviceProperties;if(e||t||n){this.restoreWebsiteScale();this.lockWebsiteScroll();setTimeout((()=>{this.hideKeyboard()}),400)}if(!this.properties.created){this.create()}else{if(!this.properties.open){this.properties.open=true;if(!this.deviceProperties.isAndroid&&!this.deviceProperties.isIOS){this.restoreState()}}if(this.deviceProperties.isDesktop&&sV.get("modalWindowFullScreen")){this.maximize()}if(this.deviceProperties.isIOS){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`${100+this.iosMeasureUnit}`)}}if(!AV.isEditorLoaded()){const e=cV.newListener("onLoad",(()=>{this.contentManager.onOpen(this)}));this.contentManager.addListener(e)}else{this.contentManager.onOpen(this)}}close(){this.removeClass("wrs_maximized");this.removeClass("wrs_minimized");this.removeClass("wrs_stack");this.addClass("wrs_closed");this.saveModalProperties();this.unlockWebsiteScroll();this.properties.open=false;WV.globalListeners.fire("onModalClose",{})}restoreWebsiteScale(){let e=document.querySelector("meta[name=viewport]");const t=["initial-scale=","minimum-scale=","maximum-scale="];const n=["1.0","1.0","1.0"];const i=(e,t)=>{const i=e.getAttribute("content");if(i){const o=i.split(",");let r="";const s=[];for(let e=0;e<o.length;e+=1){let n=false;let i=0;while(!n&&i<t.length){if(o[e].indexOf(t[i])){n=true}i+=1}if(!n){s.push(o[e])}}for(let e=0;e<t.length;e+=1){const i=t[e]+n[e];r+=e===0?i:`,${i}`}for(let e=0;e<s.length;e+=1){r+=`,${s[e]}`}e.setAttribute("content",r);e.setAttribute("content","");e.setAttribute("content",i)}else{e.setAttribute("content","initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0");e.removeAttribute("content")}};if(!e){e=document.createElement("meta");document.getElementsByTagName("head")[0].appendChild(e);i(e,t,n);e.remove()}else{i(e,t,n)}}lockWebsiteScroll(){this.websiteBeforeLockParameters={bodyStylePosition:document.body.style.position?document.body.style.position:"",bodyStyleOverflow:document.body.style.overflow?document.body.style.overflow:"",htmlStyleOverflow:document.documentElement.style.overflow?document.documentElement.style.overflow:"",windowScrollX:window.scrollX,windowScrollY:window.scrollY}}unlockWebsiteScroll(){if(this.websiteBeforeLockParameters){document.body.style.position=this.websiteBeforeLockParameters.bodyStylePosition;document.body.style.overflow=this.websiteBeforeLockParameters.bodyStyleOverflow;document.documentElement.style.overflow=this.websiteBeforeLockParameters.htmlStyleOverflow;const{windowScrollX:e}=this.websiteBeforeLockParameters;const{windowScrollY:t}=this.websiteBeforeLockParameters;window.scrollTo(e,t);this.websiteBeforeLockParameters=null}}isIE11(){if(navigator.userAgent.search("Msie/")>=0||navigator.userAgent.search("Trident/")>=0||navigator.userAgent.search("Edge/")>=0){return true}return false}isRTL(){if(this.attributes.language==="ar"||this.attributes.language==="he"){return true}return this.rtl}addClass(e){fV.addClass(this.overlay,e);fV.addClass(this.titleBar,e);fV.addClass(this.overlay,e);fV.addClass(this.container,e);fV.addClass(this.contentContainer,e);fV.addClass(this.stackDiv,e);fV.addClass(this.minimizeDiv,e);fV.addClass(this.maximizeDiv,e);fV.addClass(this.wrapper,e)}removeClass(e){fV.removeClass(this.overlay,e);fV.removeClass(this.titleBar,e);fV.removeClass(this.overlay,e);fV.removeClass(this.container,e);fV.removeClass(this.contentContainer,e);fV.removeClass(this.stackDiv,e);fV.removeClass(this.minimizeDiv,e);fV.removeClass(this.maximizeDiv,e);fV.removeClass(this.wrapper,e)}createModalWindowDesktop(){this.addClass("wrs_modal_desktop");this.stack()}createModalWindowAndroid(){this.addClass("wrs_modal_android");window.addEventListener("resize",this.orientationChangeAndroidSoftkeyboard.bind(this))}createModalWindowIos(){this.addClass("wrs_modal_ios");window.addEventListener("resize",this.orientationChangeIosSoftkeyboard.bind(this))}restoreState(){if(this.properties.state==="maximized"){this.maximize()}else if(this.properties.state==="minimized"){this.properties.state=this.properties.previousState;this.properties.previousState="";this.minimize()}else{this.stack()}}stack(){this.properties.previousState=this.properties.state;this.properties.state="stack";this.removeClass("wrs_maximized");this.minimizeDiv.title=hV.get("minimize");this.removeClass("wrs_minimized");this.addClass("wrs_stack");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(SV)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(BV)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`);this.restoreModalProperties();if(typeof this.resizerBR!=="undefined"&&typeof this.resizerTL!=="undefined"){this.setResizeButtonsVisibility()}this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale();this.focus()}minimize(){this.saveModalProperties();this.title.style.cursor="pointer";if(this.properties.state==="minimized"&&this.properties.previousState==="stack"){this.stack()}else if(this.properties.state==="minimized"&&this.properties.previousState==="maximized"){this.maximize()}else{this.container.style.height="30px";this.container.style.width="250px";this.container.style.bottom="0px";this.container.style.right="10px";this.removeListeners();this.properties.previousState=this.properties.state;this.properties.state="minimized";this.setResizeButtonsVisibility();this.minimizeDiv.title=hV.get("maximize");if(fV.containsClass(this.overlay,"wrs_stack")){this.removeClass("wrs_stack")}else{this.removeClass("wrs_maximized")}this.addClass("wrs_minimized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(PV)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(LV)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`)}}maximize(){this.saveModalProperties();if(this.properties.state!=="maximized"){this.properties.previousState=this.properties.state;this.properties.state="maximized"}this.setResizeButtonsVisibility();if(fV.containsClass(this.overlay,"wrs_minimized")){this.minimizeDiv.title=hV.get("minimize");this.removeClass("wrs_minimized")}else if(fV.containsClass(this.overlay,"wrs_stack")){this.container.style.left=null;this.container.style.top=null;this.removeClass("wrs_stack")}this.addClass("wrs_maximized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(SV)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(BV)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`);this.setSize(parseInt(window.innerHeight*.8,10),parseInt(window.innerWidth*.8,10));if(this.container.clientHeight>700){this.container.style.height="700px"}if(this.container.clientWidth>1200){this.container.style.width="1200px"}const{innerHeight:n}=window;const{innerWidth:i}=window;const{offsetHeight:o}=this.container;const{offsetWidth:r}=this.container;const s=n/2-o/2;const a=i/2-r/2;this.setPosition(s,a);this.recalculateScale();this.recalculatePosition();this.recalculateSize();this.focus()}reExpand(){if(this.properties.state==="minimized"){if(this.properties.previousState==="maximized"){this.maximize()}else{this.stack()}this.title.style.cursor=""}}setSize(e,t){this.container.style.height=`${e}px`;this.container.style.width=`${t}px`;this.recalculateSize()}setPosition(e,t){this.container.style.bottom=`${e}px`;this.container.style.right=`${t}px`}saveModalProperties(){if(this.properties.state==="stack"){this.properties.position.bottom=parseInt(this.container.style.bottom,10);this.properties.position.right=parseInt(this.container.style.right,10);this.properties.size.width=parseInt(this.container.style.width,10);this.properties.size.height=parseInt(this.container.style.height,10)}}restoreModalProperties(){if(this.properties.state==="stack"){this.setPosition(this.properties.position.bottom,this.properties.position.right);this.setSize(this.properties.size.height,this.properties.size.width)}}recalculateSize(){this.wrapper.style.width=`${this.container.clientWidth-12}px`;this.wrapper.style.height=`${this.container.clientHeight-38}px`;this.contentContainer.style.height=`${parseInt(this.wrapper.offsetHeight-50,10)}px`}setResizeButtonsVisibility(){if(this.properties.state==="stack"){this.resizerTL.style.visibility="visible";this.resizerBR.style.visibility="visible"}else{this.resizerTL.style.visibility="hidden";this.resizerBR.style.visibility="hidden"}}addListeners(){this.maximizeDiv.addEventListener("click",this.maximize.bind(this),true);this.stackDiv.addEventListener("click",this.stack.bind(this),true);this.minimizeDiv.addEventListener("click",this.minimize.bind(this),true);this.closeDiv.addEventListener("click",this.cancelAction.bind(this));this.maximizeDiv.addEventListener("keypress",(function(e){if(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32){e.target.click()}}),true);this.stackDiv.addEventListener("keypress",(function(e){if(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32){e.target.click();e.preventDefault()}}),true);this.minimizeDiv.addEventListener("keypress",(function(e){if(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32){e.target.click();e.preventDefault()}}),true);this.closeDiv.addEventListener("keypress",(function(e){if(e.key==="Enter"||e.key===" "||e.keyCode===13||e.keyCode===32){e.target.click();e.preventDefault()}}));this.title.addEventListener("click",this.reExpand.bind(this));this.overlay.addEventListener("click",this.cancelAction.bind(this));fV.addEvent(window,"mousedown",this.startDrag.bind(this));fV.addEvent(window,"mouseup",this.stopDrag.bind(this));fV.addEvent(window,"mousemove",this.drag.bind(this));fV.addEvent(window,"resize",this.onWindowResize.bind(this));fV.addEvent(window,"keydown",this.onKeyDown.bind(this))}removeListeners(){fV.removeEvent(window,"mousedown",this.startDrag);fV.removeEvent(window,"mouseup",this.stopDrag);fV.removeEvent(window,"mousemove",this.drag);fV.removeEvent(window,"resize",this.onWindowResize);fV.removeEvent(window,"keydown",this.onKeyDown)}eventClient(e){if(typeof e.clientX==="undefined"&&e.changedTouches){const t={X:e.changedTouches[0].clientX,Y:e.changedTouches[0].clientY};return t}const t={X:e.clientX,Y:e.clientY};return t}startDrag(e){if(this.properties.state==="minimized"){return}if(e.target===this.title){if(typeof this.dragDataObject==="undefined"||this.dragDataObject===null){this.dragDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.lastDrag={x:"0px",y:"0px"};if(this.container.style.right===""){this.container.style.right="0px"}if(this.container.style.bottom===""){this.container.style.bottom="0px"}if(this.isIE11()){}fV.addClass(document.body,"wrs_noselect");fV.addClass(this.overlay,"wrs_overlay_active");this.limitWindow=this.getLimitWindow()}}}drag(e){if(this.dragDataObject){e.preventDefault();let t=Math.min(this.eventClient(e).Y,this.limitWindow.minPointer.y);t=Math.max(this.limitWindow.maxPointer.y,t);let n=Math.min(this.eventClient(e).X,this.limitWindow.minPointer.x);n=Math.max(this.limitWindow.maxPointer.x,n);const i=`${n-this.dragDataObject.x}px`;const o=`${t-this.dragDataObject.y}px`;this.lastDrag={x:i,y:o};this.container.style.transform=`translate3d(${i},${o},0)`}if(this.resizeDataObject){const{innerWidth:t}=window;const{innerHeight:n}=window;let i=Math.min(this.eventClient(e).X,t-this.scrollbarWidth-7);let o=Math.min(this.eventClient(e).Y,n-7);if(i<0){i=0}if(o<0){o=0}let r;if(this.leftScale){r=-1}else{r=1}this.container.style.width=`${this.initialWidth+r*(i-this.resizeDataObject.x)}px`;this.container.style.height=`${this.initialHeight+r*(o-this.resizeDataObject.y)}px`;if(!this.leftScale){if(this.resizeDataObject.x-i-this.initialWidth<-580){this.container.style.right=`${this.initialRight-(i-this.resizeDataObject.x)}px`}else{this.container.style.right=`${this.initialRight+this.initialWidth-580}px`;this.container.style.width="580px"}if(this.resizeDataObject.y-o<this.initialHeight-338){this.container.style.bottom=`${this.initialBottom-(o-this.resizeDataObject.y)}px`}else{this.container.style.bottom=`${this.initialBottom+this.initialHeight-338}px`;this.container.style.height="338px"}}this.recalculateScale();this.recalculatePosition()}}getLimitWindow(){const e=window.innerWidth;const t=window.innerHeight;const{offsetHeight:n}=this.container;const i=parseInt(this.container.style.bottom,10);const o=parseInt(this.container.style.right,10);const{pageXOffset:r}=window;const s=this.dragDataObject.y;const a=this.dragDataObject.x;const c=n+i-(t-(s-r));const l=e-this.scrollbarWidth-(a-r)-o;const d=t-this.container.offsetHeight+c;const u=this.title.offsetHeight-(this.title.offsetHeight-c);const h=e-l-this.scrollbarWidth;const f=this.container.offsetWidth-l;const g={x:h,y:d};const m={x:f,y:u};return{minPointer:g,maxPointer:m}}getScrollBarWidth(){const e=document.createElement("p");e.style.width="100%";e.style.height="200px";const t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;if(n===i){i=t.clientWidth}document.body.removeChild(t);return n-i}stopDrag(){if(this.dragDataObject||this.resizeDataObject){this.container.style.transform="";if(this.dragDataObject){this.container.style.right=`${parseInt(this.container.style.right,10)-parseInt(this.lastDrag.x,10)}px`;this.container.style.bottom=`${parseInt(this.container.style.bottom,10)-parseInt(this.lastDrag.y,10)}px`}this.focus();document.body.style["user-select"]="";if(this.isIE11()){}fV.removeClass(document.body,"wrs_noselect");fV.removeClass(this.overlay,"wrs_overlay_active")}this.dragDataObject=null;this.resizeDataObject=null;this.initialWidth=null;this.leftScale=null}onWindowResize(){this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale()}onKeyDown(e){if(e.key!==undefined){if(this.popup.overlayWrapper.style.display!=="block"){if(e.key==="Escape"||e.key==="Esc"){if(this.properties.open){this.contentManager.onKeyDown(e)}}else if(e.shiftKey&&e.key==="Tab"){if(document.activeElement===this.cancelButton){this.submitButton.focus();e.stopPropagation();e.preventDefault()}else{this.contentManager.onKeyDown(e)}}else if(e.key==="Tab"){if(document.activeElement===this.submitButton){this.cancelButton.focus();e.stopPropagation();e.preventDefault()}else{this.contentManager.onKeyDown(e)}}}else{this.popup.onKeyDown(e)}}}recalculatePosition(){this.container.style.right=`${Math.min(parseInt(this.container.style.right,10),window.innerWidth-this.scrollbarWidth-this.container.offsetWidth)}px`;if(parseInt(this.container.style.right,10)<0){this.container.style.right="0px"}this.container.style.bottom=`${Math.min(parseInt(this.container.style.bottom,10),window.innerHeight-this.container.offsetHeight)}px`;if(parseInt(this.container.style.bottom,10)<0){this.container.style.bottom="0px"}}recalculateScale(){let e=false;if(parseInt(this.container.style.width,10)>580){this.container.style.width=`${Math.min(parseInt(this.container.style.width,10),window.innerWidth-this.scrollbarWidth)}px`;e=true}else{this.container.style.width="580px";e=true}if(parseInt(this.container.style.height,10)>338){this.container.style.height=`${Math.min(parseInt(this.container.style.height,10),window.innerHeight)}px`;e=true}else{this.container.style.height="338px";e=true}if(e){this.recalculateSize()}}recalculateScrollBar(){this.hasScrollBar=window.innerWidth>document.documentElement.clientWidth;if(this.hasScrollBar){this.scrollbarWidth=this.getScrollBarWidth()}else{this.scrollbarWidth=0}}hideKeyboard(){const e=document.createElement("input");this.container.appendChild(e);e.focus();e.blur();e.remove()}focus(){if(this.contentManager!=null&&typeof this.contentManager.onFocus!=="undefined"){this.contentManager.onFocus()}}portraitMode(){return window.innerHeight>window.innerWidth}handleOpenedIosSoftkeyboard(){if(!this.iosSoftkeyboardOpened&&this.iosDivHeight!=null&&this.iosDivHeight===`100${this.iosMeasureUnit}`){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`)}else{this.setContainerHeight(`40${this.iosMeasureUnit}`)}}this.iosSoftkeyboardOpened=true}handleClosedIosSoftkeyboard(){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeIosSoftkeyboard(){if(this.iosSoftkeyboardOpened){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`)}else{this.setContainerHeight(`40${this.iosMeasureUnit}`)}}else{this.setContainerHeight(`100${this.iosMeasureUnit}`)}}orientationChangeAndroidSoftkeyboard(){this.setContainerHeight("100%")}setContainerHeight(e){this.iosDivHeight=e;this.wrapper.style.height=e}showPopUpMessage(){if(this.properties.state==="minimized"){this.stack()}this.popup.show()}setTitle(e){this.title.innerHTML=e}getElementId(e){return`${e}[${this.instanceId}]`}}var RV;const jV=null&&RV;
/*! http://mths.be/codepointat v0.1.0 by @mathias */if(!String.prototype.codePointAt){(function(){"use strict";var e=function(e){if(this==null){throw TypeError()}var t=String(this);var n=t.length;var i=e?Number(e):0;if(i!=i){i=0}if(i<0||i>=n){return undefined}var o=t.charCodeAt(i);var r;if(o>=55296&&o<=56319&&n>i+1){r=t.charCodeAt(i+1);if(r>=56320&&r<=57343){return(o-55296)*1024+r-56320+65536}}return o};if(Object.defineProperty){Object.defineProperty(String.prototype,"codePointAt",{value:e,configurable:true,writable:true})}else{String.prototype.codePointAt=e}})()}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function e(t,n){"use strict";if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var i=Object(t);for(var o=1;o<arguments.length;o++){var r=arguments[o];if(r!=null){for(var s in r){if(Object.prototype.hasOwnProperty.call(r,s)){i[s]=r[s]}}}}return i},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(this==null){throw new TypeError('"this" s null or is not defined')}var n=Object(this);var i=n.length>>>0;if(i===0){return false}var o=t|0;var r=Math.max(o>=0?o:i-Math.abs(o),0);function s(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}while(r<i){if(s(n[r],e)){return true}r++}return false}})}if(!String.prototype.includes){String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp){throw TypeError("first argument must not be a RegExp")}if(t===undefined){t=0}return this.indexOf(e,t)!==-1}}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?t|0:0;return this.substring(n,n+e.length)===e}})}var FV=__webpack_require__(7546);var VV={injectType:"singletonStyleTag",attributes:{"data-cke":true}};VV.insert="head";VV.singleton=true;var HV=zl()(FV.Z,VV);const UV=FV.Z.locals||{};class WV{constructor(e){this.language="en";this.editMode="images";this.modalDialog=null;this.customEditors=new vV;const t={name:"Chemistry",toolbar:"chemistry",icon:"chem.png",confVariable:"chemEnabled",title:"ChemType",tooltip:"Insert a chemistry formula - ChemType"};this.customEditors.addEditor("chemistry",t);this.environment={};this.editionProperties={};this.editionProperties.isNewElement=true;this.editionProperties.temporalImage=null;this.editionProperties.latexRange=null;this.editionProperties.range=null;this.editionProperties.editionStartTime=null;this.integrationModel=null;this.contentManager=null;this.browser=(()=>{const e=navigator.userAgent;let t="none";if(e.search("Edge/")>=0){t="EDGE"}else if(e.search("Chrome/")>=0){t="CHROME"}else if(e.search("Trident/")>=0){t="IE"}else if(e.search("Firefox/")>=0){t="FIREFOX"}else if(e.search("Safari/")>=0){t="SAFARI"}return t})();this.listeners=new cV;this.serviceProviderProperties={};if("serviceProviderProperties"in e){this.serviceProviderProperties=e.serviceProviderProperties}else{throw new Error("serviceProviderProperties property missing.")}}static get globalListeners(){return WV._globalListeners}static set globalListeners(e){WV._globalListeners=e}static get initialized(){return WV._initialized}static set initialized(e){WV._initialized=e}setIntegrationModel(e){this.integrationModel=e}setEnvironment(e){if("editor"in e){this.environment.editor=e.editor}if("mode"in e){this.environment.mode=e.mode}if("version"in e){this.environment.version=e.version}}getModalDialog(){return this.modalDialog}init(){if(!WV.initialized){const e=cV.newListener("onInit",(()=>{const e=lV.getService("configurationjs","","get");const t=JSON.parse(e);sV.addConfiguration(t);sV.addConfiguration(yV);hV.language=this.language;this.listeners.fire("onLoad",{})}));lV.addListener(e);lV.init(this.serviceProviderProperties);WV.initialized=true}else{this.listeners.fire("onLoad",{})}}addListener(e){this.listeners.add(e)}static addGlobalListener(e){WV.globalListeners.add(e)}beforeUpdateFormula(e,t){const n=new xV;n.mathml=e;n.wirisProperties={};if(t!=null){Object.keys(t).forEach((e=>{n.wirisProperties[e]=t[e]}))}n.language=this.language;n.editMode=this.editMode;if(this.listeners.fire("onBeforeFormulaInsertion",n)){return{}}if(WV.globalListeners.fire("onBeforeFormulaInsertion",n)){return{}}return{mathml:n.mathml,wirisProperties:n.wirisProperties}}insertFormula(e,t,n,i){const o={};if(!n){this.insertElementOnSelection(null,e,t)}else if(this.editMode==="latex"){o.latex=dV.getLatexFromMathML(n);if(!!this.integrationModel.fillNonLatexNode&&!o.latex){const i=new xV;i.editMode=this.editMode;i.windowTarget=t;i.focusElement=e;i.latex=o.latex;this.integrationModel.fillNonLatexNode(i,t,n)}else{o.node=t.document.createTextNode(`$$${o.latex}$$`)}this.insertElementOnSelection(o.node,e,t)}else{o.node=bV.mathmlToImgObject(t.document,n,i,this.language);this.insertElementOnSelection(o.node,e,t)}return o}afterUpdateFormula(e,t,n,i){const o=new xV;o.editMode=this.editMode;o.windowTarget=t;o.focusElement=e;o.node=n;o.latex=i;if(this.listeners.fire("onAfterFormulaInsertion",o)){return{}}if(WV.globalListeners.fire("onAfterFormulaInsertion",o)){return{}}return{}}placeCaretAfterNode(e){this.integrationModel.getSelection();const t=e.ownerDocument;if(typeof t.getSelection!=="undefined"&&!!e.parentElement){const n=t.createRange();n.setStartAfter(e);n.collapse(true);const i=t.getSelection();i.removeAllRanges();i.addRange(n);t.body.focus()}}insertElementOnSelection(e,t,n){let i=null;if(this.editionProperties.isNewElement){if(e){if(t.type==="textarea"){fV.updateTextArea(t,e.textContent)}else if(document.selection&&document.getSelection===0){let t=n.document.selection.createRange();n.document.execCommand("InsertImage",false,e.src);if(!("parentElement"in t)){n.document.execCommand("delete",false);t=n.document.selection.createRange();n.document.execCommand("InsertImage",false,e.src)}if("parentElement"in t){const n=t.parentElement();if(n.nodeName.toUpperCase()==="IMG"){n.parentNode.replaceChild(e,n)}else{t.pasteHTML(fV.createObjectCode(e))}}}else{const t=this.integrationModel.getSelection();let n=null;if(this.editionProperties.range){({range:n}=this.editionProperties);this.editionProperties.range=null}else{n=t.getRangeAt(0)}n.deleteContents();let i=n.startContainer;const o=n.startOffset;if(i.nodeType===3){i=i.splitText(o);i.parentNode.insertBefore(e,i)}else if(i.nodeType===1){i.insertBefore(e,i.childNodes[o])}this.placeCaretAfterNode(e)}}else if(t.type==="textarea"){t.focus()}else{const e=this.integrationModel.getSelection();e.removeAllRanges();if(this.editionProperties.range){const{range:t}=this.editionProperties;this.editionProperties.range=null;e.addRange(t)}}}else if(this.editionProperties.latexRange){if(document.selection&&document.getSelection===0){this.editionProperties.isNewElement=true;this.editionProperties.latexRange.select();this.insertElementOnSelection(e,t,n)}else{this.editionProperties.latexRange.deleteContents();this.editionProperties.latexRange.insertNode(e);this.placeCaretAfterNode(e)}}else if(t.type==="textarea"){let n;if(typeof this.integrationModel.getSelectedItem!=="undefined"){n=this.integrationModel.getSelectedItem(t,false)}else{n=fV.getSelectedItemOnTextarea(t)}fV.updateExistingTextOnTextarea(t,e.textContent,n.startPosition,n.endPosition)}else{i=this.editionProperties.temporalImage?.dataset.mathml;if(e&&e.nodeName.toLowerCase()==="img"){gV.removeImgDataAttributes(this.editionProperties.temporalImage);gV.clone(e,this.editionProperties.temporalImage)}else{this.editionProperties.temporalImage.remove()}this.placeCaretAfterNode(this.editionProperties.temporalImage)}const o=e?.dataset?.mathml;let r={mathml_origin:i?rV.safeXmlDecode(i):i,mathml:o?rV.safeXmlDecode(o):o,elapsed_time:Date.now()-this.editionProperties.editionStartTime,editor_origin:null,toolbar:this.modalDialog.contentManager.toolbar,size:o?.length};Object.keys(r).forEach((e=>{if(e==="mathml_origin"||e==="editor_origin")!r[e]?delete r[e]:{}}));try{_V.telemeter.track("INSERTED_FORMULA",{...r})}catch(e){console.error(e)}}openModalDialog(e,t){this.editionProperties.editionStartTime=Date.now();this.editMode="images";try{if(t){e.contentWindow.focus();const t=e.contentWindow.getSelection();this.editionProperties.range=t.getRangeAt(0)}else{e.focus();const t=getSelection();this.editionProperties.range=t.getRangeAt(0)}}catch(e){this.editionProperties.range=null}if(t===undefined){t=true}this.editionProperties.latexRange=null;if(e){let n;if(typeof this.integrationModel.getSelectedItem!=="undefined"){n=this.integrationModel.getSelectedItem(e,t)}else{n=fV.getSelectedItem(e,t)}if(n){if(!n.caretPosition&&fV.containsClass(n.node,sV.get("imageClassName"))){this.editionProperties.temporalImage=n.node;this.editionProperties.isNewElement=false}else if(n.node.nodeType===3){if(this.integrationModel.getMathmlFromTextNode){const e=this.integrationModel.getMathmlFromTextNode(n.node,n.caretPosition);if(e){this.editMode="latex";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement("img");this.editionProperties.temporalImage.setAttribute(sV.get("imageMathmlAttribute"),rV.safeXmlEncode(e))}}else{const i=dV.getLatexFromTextNode(n.node,n.caretPosition);if(i){const n=dV.getMathMLFromLatex(i.latex);this.editMode="latex";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement("img");this.editionProperties.temporalImage.setAttribute(sV.get("imageMathmlAttribute"),rV.safeXmlEncode(n));const o=t?e.contentWindow:window;if(e.tagName.toLowerCase()!=="textarea"){if(document.selection){let e=0;let t=i.startNode.previousSibling;while(t){e+=fV.getNodeLength(t);t=t.previousSibling}this.editionProperties.latexRange=o.document.selection.createRange();this.editionProperties.latexRange.moveToElementText(i.startNode.parentNode);this.editionProperties.latexRange.move("character",e+i.startPosition);this.editionProperties.latexRange.moveEnd("character",i.latex.length+4)}else{this.editionProperties.latexRange=o.document.createRange();this.editionProperties.latexRange.setStart(i.startNode,i.startPosition);this.editionProperties.latexRange.setEnd(i.endNode,i.endPosition)}}}}}}else if(e.tagName.toLowerCase()==="textarea"){this.editMode="latex"}}const n=sV.get("editorAttributes").split(", ");const i={};for(let e=0,t=n.length;e<t;e+=1){const t=n[e].split("=");const o=t[0];const r=t[1];i[o]=r}const o={language:this.language};const r=sV.get("editorParameters");const s=this.integrationModel.editorParameters;Object.assign(o,i,r);Object.assign(o,i,s);this.language=o.language;hV.language=this.language;o.rtl=this.integrationModel.rtl;const a={};a.editorAttributes=o;a.language=this.language;a.customEditors=this.customEditors;a.environment=this.environment;if(this.modalDialog==null){this.modalDialog=new OV(o);this.contentManager=new AV(a);const e=cV.newListener("onLoad",(()=>{this.contentManager.dbclick=this.editionProperties.dbclick;this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=rV.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(sV.get("imageMathmlAttribute")));this.contentManager.mathML=e}}));this.contentManager.addListener(e);this.contentManager.init();this.modalDialog.setContentManager(this.contentManager);this.contentManager.setModalDialogInstance(this.modalDialog)}else{this.contentManager.dbclick=this.editionProperties.dbclick;this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=rV.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(sV.get("imageMathmlAttribute")));this.contentManager.mathML=e}}this.contentManager.setIntegrationModel(this.integrationModel);this.modalDialog.open()}getCustomEditors(){return this.customEditors}}WV._globalListeners=new cV;WV._initialized=false;const $V='<svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.25706 1.09882C7.02167 -0.26048 8.97875 -0.26048 9.74336 1.09882L15.3237 11.0194C16.0736 12.3526 15.1102 13.9999 13.5805 13.9999H2.4199C0.890251 13.9999 -0.073177 12.3526 0.676753 11.0194L6.25706 1.09882ZM9.00012 11C9.00012 11.5523 8.55241 12 8.00012 12C7.44784 12 7.00012 11.5523 7.00012 11C7.00012 10.4477 7.44784 10 8.00012 10C8.55241 10 9.00012 10.4477 9.00012 11ZM8.00012 3C7.44784 3 7.00012 3.44772 7.00012 4V7C7.00012 7.55228 7.44784 8 8.00012 8C8.55241 8 9.00012 7.55228 9.00012 7V4C9.00012 3.44772 8.55241 3 8.00012 3Z" fill="#FB923C"/>\n</svg>\n';class qV{constructor(e){this.language="en";this.serviceProviderProperties={};if("serviceProviderProperties"in e){this.serviceProviderProperties=e.serviceProviderProperties}this.configurationService="";if("configurationService"in e){this.serviceProviderProperties.URI=e.configurationService;console.warn("Deprecated property configurationService. Use serviceParameters on instead.",[e.configurationService])}this.version="version"in e?e.version:"";this.target=null;if("target"in e){this.target=e.target}else{throw new Error("IntegrationModel constructor error: target property missed.")}if("scriptName"in e){this.scriptName=e.scriptName}this.callbackMethodArguments={};if("callbackMethodArguments"in e){this.callbackMethodArguments=e.callbackMethodArguments}this.environment={};if("environment"in e){this.environment=e.environment}this.isIframe=false;if(this.target!=null){this.isIframe=this.target.tagName.toUpperCase()==="IFRAME"}this.editorObject=null;if("editorObject"in e){this.editorObject=e.editorObject}this.rtl=false;if("rtl"in e){this.rtl=e.rtl}this.managesLanguage=false;if("managesLanguage"in e){this.managesLanguage=e.managesLanguage}this.temporalImageResizing=false;this.core=null;this.listeners=new cV;if("integrationParameters"in e){qV.integrationParameters.forEach((t=>{if(t in e.integrationParameters){const n=e.integrationParameters[t];if(Object.keys(n).length!==0){this[t]=n}}}))}}init(){this.language=this.getLanguage();const e=cV.newListener("onLoad",(()=>{this.callbackFunction(this.callbackMethodArguments)}));if(this.serviceProviderProperties.URI.indexOf("configuration")!==-1){const e=this.serviceProviderProperties.URI;const t=lV.getServerLanguageFromService(e);this.serviceProviderProperties.server=t;const n=this.serviceProviderProperties.URI.indexOf("configuration");const i=this.serviceProviderProperties.URI.substring(0,n);this.serviceProviderProperties.URI=i}let t=this.serviceProviderProperties.URI;t=t.indexOf("/")===0||t.indexOf("http")===0?t:fV.concatenateUrl(this.getPath(),t);this.serviceProviderProperties.URI=t;const n={};n.serviceProviderProperties=this.serviceProviderProperties;this.setCore(new WV(n));this.core.addListener(e);this.core.language=this.language;this.core.init();this.core.setEnvironment(this.environment);let i={};i.class=i.id="wrs_modal_offline";this.offlineModal=fV.createElement("div",i);i={};i.class="wrs_modal_content_offline";this.offlineModalContent=fV.createElement("div",i);i={};i.class="wrs_modal_offline_close";this.offlineModalClose=fV.createElement("span",i);this.offlineModalClose.innerHTML="&times;";i={};i.class="wrs_modal_offline_warn";this.offlineModalWarn=fV.createElement("span",i);let o=`background-image: url(data:image/svg+xml;base64,${window.btoa($V)})`;this.offlineModalWarn.setAttribute("style",o);i={};i.class="wrs_modal_offline_text_container";this.offlineModalMessage=fV.createElement("div",i);i={};i.class="wrs_modal_offline_text_warn";this.offlineModalMessage1=fV.createElement("p",i);this.offlineModalMessage1.innerHTML="You are not online!";i={};i.class="wrs_modal_offline_text";this.offlineModalMessage2=fV.createElement("p",i);this.offlineModalMessage2.innerHTML=`Thank you for using MathType. We have detected you are disconnected from the network. We remind you that you'll need to be connected to use MathType. <br /><br />Please refresh the page if this message continues appearing.`;this.offlineModalContent.appendChild(this.offlineModalClose);this.offlineModalMessage.appendChild(this.offlineModalMessage1);this.offlineModalMessage.appendChild(this.offlineModalMessage2);this.offlineModalContent.appendChild(this.offlineModalMessage);this.offlineModalContent.appendChild(this.offlineModalWarn);this.offlineModal.appendChild(this.offlineModalContent);document.body.appendChild(this.offlineModal);let r=document.getElementById("wrs_modal_offline");this.offlineModalClose.addEventListener("click",(function(){r.style.display="none"}));let s=this.environment.editor;s=s.slice(0,-1);if(s.includes("TinyMCE"))s="TinyMCE";if(s.includes("Generic"))s="Generic";let a=s;let c=!!(typeof M==="object"&&M!==null),l;if(c){a="Moodle";l={nam:"moodle",fam:"lms",ver:this.environment.moodleVersion,category:this.environment.moodleCourseCategory,course:this.environment.moodleCourseName};if(!s.includes("TinyMCE")){s="Atto"}}let d=this.getOS();let u=this.getBrowser();let h=[{nam:u.detectedBrowser,fam:"browser",ver:u.versionBrowser},{nam:s.toLowerCase(),fam:"html-editor",ver:this.environment.editorVersion},{nam:d.detectedOS,fam:"os",ver:d.versionOS},{nam:window.location.hostname,fam:"domain"},l];h=h.filter((function(e){if(e)Object.keys(e).forEach((t=>e[t]==="unknown"?delete e[t]:{}));return e!==undefined}));_V.init({solution:{name:"MathType for "+a,version:this.version},hosts:h,config:{test:false,debug:false,dry_run:false,api_key:"eda2ce9b-0e8a-46f2-acdd-c228a615314e"},url:undefined})}getBrowser(){let e="unknown",t="unknown";let n=window.navigator.userAgent;if(/Brave/.test(n)){e="brave";if(n.indexOf("Brave/")){let e=n.indexOf("Brave")+6;let i=n.substring(e).indexOf(" ");i=i===-1?n.lastIndexOf(""):i;t=n.substring(e,i+e).replace("_",".").replace(/[^\d.-]/g,"")}}else if(n.indexOf("Edg/")!==-1){e="edge_chromium";let i=n.indexOf("Edg/")+4;t=n.substring(i).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Edg/.test(n)){e="edge";let i=n.indexOf("Edg")+3;i=i+n.substring(i).indexOf("/");let o=n.substring(i).indexOf(" ");o=o===-1?n.lastIndexOf(""):o;t=n.substring(i,o+i).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Firefox/.test(n)||/FxiOS/.test(n)){e="firefox";let i=n.indexOf("Firefox");i=i===-1?n.indexOf("FxiOS"):i;i=i+n.substring(i).indexOf("/")+1;let o=n.substring(i).indexOf(" ");o=o===-1?n.lastIndexOf(""):o;t=n.substring(i,o+i).replace("_",".")}else if(/OPR/.test(n)){e="opera";let i=n.indexOf("OPR/")+4;let o=n.substring(i).indexOf(" ");o=o===-1?n.lastIndexOf(""):o;t=n.substring(i,o+i).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Chrome/.test(n)||/CriOS/.test(n)){e="chrome";let i=n.indexOf("Chrome");i=i===-1?n.indexOf("CriOS"):i;i=i+n.substring(i).indexOf("/")+1;let o=n.substring(i).indexOf(" ");o=o===-1?n.lastIndexOf(""):o;t=n.substring(i,o+i).replace("_",".")}else if(/Safari/.test(n)){e="safari";let i=n.indexOf("Version/");i=i+n.substring(i).indexOf("/")+1;let o=n.substring(i).indexOf(" ");o=o===-1?n.lastIndexOf(""):o;t=n.substring(i,o+i).replace("_",".")}return{detectedBrowser:e,versionBrowser:t}}getOS(){let e="unknown",t="unknown";let n=window.navigator.userAgent,i=window.navigator.platform,o=["Macintosh","MacIntel","MacPPC","Mac68K"],r=["Win32","Win64","Windows","WinCE"],s=["iPhone","iPad","iPod"];if(o.indexOf(i)!==-1){e="macos";if(n.indexOf("OS X")!==-1){let e=n.indexOf("OS X")+5;let i=n.substring(e).indexOf(" ");t=n.substring(e,i+e).replace("_",".").replace(/[^\d.-]/g,"")}}else if(s.indexOf(i)!==-1){e="ios";if(n.indexOf("OS ")!==-1){let e=n.indexOf("OS ")+3;let i=n.substring(e).indexOf(")");t=n.substring(e,i+e).replace("_",".").replace(/[^\d.-]/g,"")}}else if(r.indexOf(i)!==-1){e="windows";let i=n.indexOf("Windows");let o=n.substring(i).indexOf(";");if(o===-1){o=n.substring(i).indexOf(")")}t=n.substring(i,o+i).replace("_",".").replace(/[^\d.-]/g,"")}else if(/Android/.test(n)){e="android";let i=n.indexOf("Android");let o=n.substring(i).indexOf(";");if(o===-1){o=n.substring(i).indexOf(")")}t=n.substring(i,o+i).replace("_",".").replace(/[^\d.-]/g,"")}else if(/CrOS/.test(n)){e="chromeos";let i=n.indexOf("CrOS ")+5;i=i+n.substring(i).indexOf(" ");let o=n.substring(i).indexOf(")");t=n.substring(i,o+i).replace("_",".").replace(/[^\d.-]/g,"")}else if(e==="unknown"&&/Linux/.test(i)){e="linux"}return{detectedOS:e,versionOS:t}}getPath(){if(typeof this.scriptName==="undefined"){throw new Error("scriptName property needed for getPath.")}const e=document.getElementsByTagName("script");let t="";for(let n=0;n<e.length;n+=1){const i=e[n].src.lastIndexOf(this.scriptName);if(i>=0){t=e[n].src.substr(0,i-1)}}return t}getVersion(){return this.version}setLanguage(e){this.language=e}setCore(e){this.core=e;e.setIntegrationModel(this)}getCore(){return this.core}setTarget(e){this.target=e;this.isIframe=this.target.tagName.toUpperCase()==="IFRAME"}setEditorObject(e){this.editorObject=e}openNewFormulaEditor(){if(window.navigator.onLine){this.core.editionProperties.dbclick=false;this.core.editionProperties.isNewElement=true;this.core.openModalDialog(this.target,this.isIframe)}else{let e=document.getElementById("wrs_modal_offline");e.style.display="block"}}openExistingFormulaEditor(){if(window.navigator.onLine){this.core.editionProperties.isNewElement=false;this.core.openModalDialog(this.target,this.isIframe)}else{let e=document.getElementById("wrs_modal_offline");e.style.display="block"}}updateFormula(e){if(this.editorParameters){e=com.wiris.editor.util.EditorUtils.addAnnotation(e,"application/vnd.wiris.mtweb-params+json",JSON.stringify(this.editorParameters))}let t;let n;const i=null;if(this.isIframe){t=this.target.contentWindow;n=this.target.contentWindow}else{t=this.target;n=window}let o=this.core.beforeUpdateFormula(e,i);if(!o){return""}o=this.insertFormula(t,n,o.mathml,o.wirisProperties);if(!o){return""}return this.core.afterUpdateFormula(o.focusElement,o.windowTarget,o.node,o.latex)}insertFormula(e,t,n,i){const o=this.core.insertFormula(e,t,n,i);this.core.editionProperties.temporalImage=null;return o}getSelection(){if(this.isIframe){this.target.contentWindow.focus();return this.target.contentWindow.getSelection()}this.target.focus();return window.getSelection()}addEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;fV.addElementEvents(e,((e,t)=>{this.doubleClickHandler(e,t);t.stopImmediatePropagation()}),((e,t)=>{this.mousedownHandler(e,t)}),((e,t)=>{this.mouseupHandler(e,t)}))}removeEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;fV.removeElementEvents(e)}destroy(){this.removeEvents();this.editorObject=null}doubleClickHandler(e){this.core.editionProperties.dbclick=true;if(e.nodeName.toLowerCase()==="img"){this.core.getCustomEditors().disable();const t=sV.get("imageCustomEditorName");if(e.hasAttribute(t)){const n=e.getAttribute(t);this.core.getCustomEditors().enable(n)}if(fV.containsClass(e,sV.get("imageClassName"))){this.core.editionProperties.temporalImage=e;this.core.editionProperties.isNewElement=true;this.openExistingFormulaEditor()}}}mouseupHandler(){if(this.temporalImageResizing){setTimeout((()=>{gV.fixAfterResize(this.temporalImageResizing)}),10)}}mousedownHandler(e){if(e.nodeName.toLowerCase()==="img"){if(fV.containsClass(e,sV.get("imageClassName"))){this.temporalImageResizing=e}}}getLanguage(){return this.getBrowserLanguage()}getBrowserLanguage(){let e="en";if(navigator.userLanguage){e=navigator.userLanguage.substring(0,2)}else if(navigator.language){e=navigator.language.substring(0,2)}else{e="en"}return e}callbackFunction(){const e=cV.newListener("onTargetReady",(()=>{this.addEvents(this.target)}));this.listeners.add(e)}notifyWindowClosed(){}getMathmlFromTextNode(e,t){}fillNonLatexNode(e,t,n){}getSelectedItem(e,t){}static setActionsOnCancelButtons(){const e=WirisPlugin.currentInstance;const t=e.getSelection();t.removeAllRanges();if(e.core.editionProperties.range){const{range:n}=e.core.editionProperties;e.core.editionProperties.range=null;t.addRange(n);if(n.startOffset!==n.endOffset){e.core.placeCaretAfterNode(e.core.editionProperties.temporalImage)}}if(WirisPlugin.currentInstance){WirisPlugin.currentInstance.core.editionProperties.temporalImage=null}}}qV.prototype.getMathmlFromTextNode=undefined;qV.prototype.fillNonLatexNode=undefined;qV.prototype.getSelectedItem=undefined;qV.integrationParameters=["serviceProviderProperties","editorParameters"];class GV extends qV{constructor(e){const t=e.editorObject;if(typeof t.config!=="undefined"&&typeof t.config.get("mathTypeParameters")!=="undefined"){e.integrationParameters=t.config.get("mathTypeParameters")}super(e);this.integrationFolderName="ckeditor_wiris"}getLanguage(){try{return this.editorParameters.language}catch(e){console.error()}const e=this.editorObject.config.get("language");if(e!=null){if(typeof e==="object"){if(e.hasOwnProperty("ui")){return e.ui}return e}return e}return super.getLanguage()}addEditorListeners(){const e=this.editorObject;if(typeof e.config.wirislistenersdisabled==="undefined"||!e.config.wirislistenersdisabled){this.checkElement()}}checkElement(){const e=this.editorObject;const t=e.sourceElement;if(!t.wirisActive){this.setTarget(t);this.addEvents();t.wirisActive=true}}doubleClickHandler(e,t){this.core.editionProperties.dbclick=true;if(this.editorObject.isReadOnly===false){if(e.nodeName.toLowerCase()==="img"){if(fV.containsClass(e,sV.get("imageClassName"))){if(typeof t.stopPropagation!=="undefined"){t.stopPropagation()}else{t.returnValue=false}this.core.getCustomEditors().disable();const n=e.getAttribute(sV.get("imageCustomEditorName"));if(n){this.core.getCustomEditors().enable(n)}this.core.editionProperties.temporalImage=e;this.openExistingFormulaEditor()}}}}static getCorePath(){return null}callbackFunction(){super.callbackFunction();this.addEditorListeners()}openNewFormulaEditor(){this.core.editionProperties.selection=this.editorObject.editing.view.document.selection;return super.openNewFormulaEditor()}insertMathml(e){return this.editorObject.model.change((t=>{const n=this.getCore();const i=t.createElement("mathml",{formula:e});i.data=e;if(n.editionProperties.isNewElement){if(!e)return;const n=this.core.editionProperties.selection||this.editorObject.editing.view.document.selection;const o=this.editorObject.editing.mapper.toModelPosition(n.getLastPosition());t.insert(i,o);if(!n.isCollapsed){for(const e of n.getRanges()){t.remove(this.editorObject.editing.mapper.toModelRange(e))}}const r=this.editorObject.model.createPositionAfter(i);t.setSelection(r)}else{const o=n.editionProperties.temporalImage;const r=this.editorObject.editing.view.domConverter.domToView(o).parent;const s=this.editorObject.editing.mapper.toModelElement(r);const a=this.editorObject.model.createPositionBefore(s);if(e){t.insert(i,a)}t.remove(s)}return i}))}findText(e){let t=e;let n;while(!n){n=this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(t));t=t.parentElement}const i=this.editorObject.model.createRangeIn(n);const o=Array.from(i.getItems());for(const t of o){let n=e.data;if(e.nodeType===3){n=n.replaceAll(String.fromCharCode(8288),"")}if(t.is("textProxy")&&t.data===n.replace(String.fromCharCode(160)," ")){return t.textNode}}}insertFormula(e,t,n,i){const o={};let r;if(!n){this.insertMathml("")}else if(this.core.editMode==="latex"){o.latex=dV.getLatexFromMathML(n);o.node=t.document.createTextNode(`$$${o.latex}$$`);this.editorObject.model.change((e=>{const{latexRange:t}=this.core.editionProperties;const n=this.findText(t.startContainer);const i=this.findText(t.endContainer);let r=e.createPositionAt(n.parent,n.startOffset+t.startOffset);let s=e.createPositionAt(i.parent,i.startOffset+t.endOffset);let a=e.createRange(r,s);if(t.startContainer.nodeType===3&&t.startContainer.previousSibling?.nodeType===1){let o="$$"+dV.getLatexFromMathML(rV.safeXmlDecode(this.core.editionProperties.temporalImage.dataset.mathml))+"$$";let c=t.startContainer.data;c=c.replaceAll(String.fromCharCode(8288),"");let l=c.indexOf(o);let d=c.substring(l);let u=d.substring(2).indexOf("$$")+4;let h=d.substr(0,u);c=c.replace(h,"");if(!c){r=e.createPositionBefore(n);a=n}else{r=r=e.createPositionAt(n.parent,n.startOffset+l);s=e.createPositionAt(i.parent,i.startOffset+u+l);a=e.createRange(r,s)}}e.remove(a);e.insertText(`$$${o.latex}$$`,n.getAttributes(),r)}))}else{r=this.core.editionProperties.temporalImage?.dataset.mathml;try{o.node=this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(n)),t.document)}catch(e){const t=e.toString();if(t.includes("CKEditorError: Cannot read property 'parent' of undefined")){this.core.modalDialog.cancelAction()}}}let s={mathml_origin:r?rV.safeXmlDecode(r):r,mathml:n?rV.safeXmlDecode(n):n,elapsed_time:Date.now()-this.core.editionProperties.editionStartTime,editor_origin:null,toolbar:this.core.modalDialog.contentManager.toolbar,size:n?.length};Object.keys(s).forEach((e=>{if(e==="mathml_origin"||e==="editor_origin")!s[e]?delete s[e]:{}}));try{_V.telemeter.track("INSERTED_FORMULA",{...s})}catch(e){console.error(e)}this.core.editionProperties.temporalImage=null;return o}notifyWindowClosed(){this.editorObject.editing.view.focus()}}class YV extends Eu{execute(e={}){if(!e.hasOwnProperty("integration")||!(e.integration instanceof GV)){throw'Must pass a valid CKEditor5Integration instance as attribute "integration" of options'}this.integration=e.integration;this.setEditor();this.openEditor()}setEditor(){this.integration.core.getCustomEditors().disable()}openEditor(){this.integration.core.editionProperties.dbclick=false;const e=this._getSelectedImage();if(typeof e!=="undefined"&&e!==null&&e.classList.contains(WirisPlugin.Configuration.get("imageClassName"))){this.integration.core.editionProperties.temporalImage=e;this.integration.openExistingFormulaEditor()}else{this.integration.openNewFormulaEditor()}}_getSelectedImage(){const{selection:e}=this.editor.editing.view.document;if(e.isCollapsed||e.rangeCount!==1){return}const t=e.getFirstRange();let n;for(const e of t){if(e.item.name!=="span"){return}n=e.item.getChild(0);break}if(!n){return}return this.editor.editing.view.domConverter.mapViewToDom(n)}}class KV extends YV{setEditor(){this.integration.core.getCustomEditors().enable("chemistry")}}const ZV='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#FFFFFF;}\n\t.st1{fill:#EF4A5F;}\n\t.st2{fill:#C8202F;}\n</style>\n<path class="st0" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n<path class="st0" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n<g>\n\t<g>\n\t\t<path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\t\t\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\t\t\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\t\t\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n\t</g>\n</g>\n</svg>\n';const QV='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 40.3 49.5" style="enable-background:new 0 0 40.3 49.5;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#A4CF61;}\n</style>\n<path class="st0" d="M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8\n\tl0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0\n\tl12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0\n\tc0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1"/>\n</svg>\n';const JV={i8:"8.4.0"};let XV=null;class eH extends yu{static get requires(){return[DB]}static get pluginName(){return"MathType"}init(){const e=this._addIntegration();XV=e;this._addCommands();this._addViews(e);this._addSchema();this._addConverters();this._exposeWiris()}destroy(){XV.destroy()}_addIntegration(){const{editor:e}=this;const t={};t.environment={};t.environment.editor="CKEditor5";t.environment.editorVersion="5.x";t.version=JV.i8;t.editorObject=e;t.serviceProviderProperties={};t.serviceProviderProperties.URI="https://www.wiris.net/demo/plugins/app";t.serviceProviderProperties.server="java";t.target=e.sourceElement;t.scriptName="bundle.js";t.managesLanguage=true;let n;if(t.target){n=new GV(t);n.init();n.listeners.fire("onTargetReady",{});n.checkElement();this.listenTo(e.editing.view.document,"click",((e,t)=>{if(t.domEvent.detail===2){n.doubleClickHandler(t.domTarget,t.domEvent);e.stop()}}),{priority:"highest"})}return n}_addCommands(){const{editor:e}=this;e.commands.add("MathType",new YV(e));e.commands.add("ChemType",new KV(e))}_addViews(e){const{editor:t}=this;if(sV.get("editorEnabled")){t.ui.componentFactory.add("MathType",(n=>{const i=new yd(n);i.bind("isEnabled").to(t.commands.get("MathType"),"isEnabled");i.set({label:hV.get("insert_math",t.config.get("language")),icon:ZV,tooltip:true});i.on("execute",(()=>{t.execute("MathType",{integration:e})}));return i}))}if(sV.get("chemEnabled")){t.ui.componentFactory.add("ChemType",(n=>{const i=new yd(n);i.bind("isEnabled").to(t.commands.get("ChemType"),"isEnabled");i.set({label:hV.get("insert_chem",t.config.get("language")),icon:QV,tooltip:true});i.on("execute",(()=>{t.execute("ChemType",{integration:e})}));return i}))}t.editing.view.addObserver(WA)}_addSchema(){const{schema:e}=this.editor.model;e.register("mathml",{allowWhere:"$text",isObject:true,isInline:true,allowAttributes:["formula"]})}_addConverters(){const{editor:e}=this;e.conversion.for("upcast").elementToElement({view:{name:"span",classes:"ck-math-widget"},model:(e,{writer:t})=>{const n=rV.safeXmlDecode(e.getChild(0).getAttribute("data-mathml"));return t.createElement("mathml",{formula:n})}});e.data.upcastDispatcher.on("element:math",((n,i,o)=>{const{consumable:r,writer:s}=o;const{viewItem:a}=i;if(!r.test(a,{name:true})){return}const c=t(a);const l=new tV(e.editing.view.document);const d=new qA(e.editing.view.document);const u=d.createDocumentFragment(a.getChildren());const h=[...a.getAttributes()].map((([e,t])=>` ${e}="${t}"`)).join("");let f=l.toData(u)||"";f=fV.htmlSanitize(`<math${h}>${f}</math>`);const g=c?s.createText(bV.initParse(f,e.config.get("language"))):s.createElement("mathml",{formula:f});const m=o.splitToAllowedParent(g,i.modelCursor);if(!m){return}o.writer.insert(g,m.position);r.consume(a,{name:true});const p=o.getSplitParts(g);i.modelRange=s.createRange(o.writer.createPositionBefore(g),o.writer.createPositionAfter(p[p.length-1]));if(m.cursorParent){i.modelCursor=o.writer.createPositionAt(m.cursorParent,0)}else{i.modelCursor=i.modelRange.end}}));function t(e){const t=e.getChild(0);if(!t||t.name!=="semantics")return false;for(const e of t.getChildren()){if(e.name==="annotation"&&e.getAttribute("encoding")==="LaTeX"){return true}}return false}function n(e,{writer:t}){const n=t.createContainerElement("span",{class:"ck-math-widget"});const o=i(e,{writer:t});if(o){t.insert(t.createPositionAt(n,0),o)}return VS(n,t)}function i(t,{writer:n}){const i=new e_(n.document);const o=t.getAttribute("formula").replace('ref="<"','ref="&lt;"');const r=bV.initParse(o,e.config.get("language"));const s=i.toView(r).getChild(0);if(s){return n.createEmptyElement("img",s.getAttributes(),{renderUnsafeAttributes:["src"]})}return null}e.conversion.for("editingDowncast").elementToElement({model:"mathml",view:n});e.conversion.for("dataDowncast").elementToElement({model:"mathml",view:r});function o(e,t){if(t.is("text")){return e.createText(t.data)}if(t.is("element")){if(t.is("emptyElement")){return e.createEmptyElement(t.name,t.getAttributes())}const n=e.createContainerElement(t.name,t.getAttributes());for(const i of t.getChildren()){e.insert(e.createPositionAt(n,"end"),o(e,i))}return n}throw new Exception("Given node has unsupported type.")}function r(e,{writer:t}){const n=new e_(t.document);let i=bV.endParseSaveMode(e.getAttribute("formula"));const r=n.toView(i).getChild(0);return o(t,r)}e.editing.mapper.on("viewToModelPosition",KS(e.model,(e=>e.hasClass("ck-math-widget"))));const{get:s}=e.data;e.data.get=t=>{let n=s.bind(e.data)(t);return bV.endParse(n)}}_exposeWiris(){window.WirisPlugin={Core:WV,Parser:bV,Image:gV,MathML:rV,Util:fV,Configuration:sV,Listeners:cV,IntegrationModel:qV,currentInstance:XV,Latex:dV}}}function tH(e,t){const n=(n,i,o)=>{if(!o.consumable.consume(i.item,n.name)){return}const r=i.attributeNewValue;const s=o.writer;const a=o.mapper.toViewElement(i.item);const c=[...a.getChildren()].find((e=>e.getCustomProperty("media-content")));s.remove(c);const l=e.getMediaViewElement(s,r,t);s.insert(s.createPositionAt(a,0),l)};return e=>{e.on("attribute:url:media",n)}}function nH(e,t,n){t.setCustomProperty("media",true,e);return VS(e,t,{label:n})}function iH(e){const t=e.getSelectedElement();if(t&&oH(t)){return t}return null}function oH(e){return!!e.getCustomProperty("media")&&isWidget(e)}function rH(e,t,n,i){return e.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(e,n,i),e.createSlot()])}function sH(e){const t=e.getSelectedElement();if(t&&t.is("element","media")){return t}return null}function aH(e,t,n,i){e.change((o=>{const r=o.createElement("media",{url:t});e.insertObject(r,n,null,{setSelection:"on",findOptimalPosition:i?"auto":undefined})}))}class cH extends Eu{refresh(){const e=this.editor.model;const t=e.document.selection;const n=sH(t);this.value=n?n.getAttribute("url"):undefined;this.isEnabled=dH(t)||lH(t,e)}execute(e){const t=this.editor.model;const n=t.document.selection;const i=sH(n);if(i){t.change((t=>{t.setAttribute("url",e,i)}))}else{aH(t,e,n,true)}}}function lH(e,t){const n=YS(e,t);let i=n.start.parent;if(i.isEmpty&&!t.schema.isLimit(i)){i=i.parent}return t.schema.checkChild(i,"media")}function dH(e){const t=e.getSelectedElement();return!!t&&t.name==="media"}const uH='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';const hH="0 0 64 42";class fH{constructor(e,t){const n=t.providers;const i=t.extraProviders||[];const o=new Set(t.removeProviders);const r=n.concat(i).filter((e=>{const t=e.name;if(!t){z("media-embed-no-provider-name",{provider:e});return false}return!o.has(t)}));this.locale=e;this.providerDefinitions=r}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e){return new gH(this.locale)}e=e.trim();for(const t of this.providerDefinitions){const n=t.html;const i=il(t.url);for(const t of i){const i=this._getUrlMatches(e,t);if(i){return new gH(this.locale,e,i,n)}}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n){return n}let i=e.replace(/^https?:\/\//,"");n=i.match(t);if(n){return n}i=i.replace(/^www\./,"");n=i.match(t);if(n){return n}return null}}class gH{constructor(e,t,n,i){this.url=this._getValidUrl(t);this._locale=e;this._match=n;this._previewRenderer=i}getViewElement(e,t){const n={};let i;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){if(this.url){n["data-oembed-url"]=this.url}if(t.renderForEditingView){n.class="ck-media__wrapper"}const o=this._getPreviewHtml(t);i=e.createRawElement("div",n,((e,t)=>{t.setContentOf(e,o)}))}else{if(this.url){n.url=this.url}i=e.createEmptyElement(t.elementName,n)}e.setCustomProperty("media-content",true,i);return i}_getPreviewHtml(e){if(this._previewRenderer){return this._previewRenderer(this._match)}else{if(this.url&&e.renderForEditingView){return this._getPlaceholderHtml()}return""}}_getPlaceholderHtml(){const e=new wd;const t=this._locale.t;e.content=uH;e.viewBox=hH;const n=new Vl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render();return n.outerHTML}_getValidUrl(e){if(!e){return null}if(e.match(/^https?/)){return e}return"https://"+e}}var mH=__webpack_require__(952);var pH={injectType:"singletonStyleTag",attributes:{"data-cke":true}};pH.insert="head";pH.singleton=true;var bH=zl()(mH.Z,pH);const kH=mH.Z.locals||{};class wH extends yu{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e);e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>{const t=e[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" width="480" height="270" allowfullscreen allow="autoplay">'+"</iframe>"+"</div>"}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>{const t=e[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" allowtransparency="true" allow="encrypted-media">'+"</iframe>"+"</div>"}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const t=e[1];const n=e[2];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${t}${n?`?start=${n}`:""}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>'+"</iframe>"+"</div>"}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>{const t=e[1];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>'+"</iframe>"+"</div>"}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]});this.registry=new fH(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor;const t=e.model.schema;const n=e.t;const i=e.conversion;const o=e.config.get("mediaEmbed.previewsInData");const r=e.config.get("mediaEmbed.elementName");const s=this.registry;e.commands.add("mediaEmbed",new cH(e));t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]});i.for("dataDowncast").elementToStructure({model:"media",view:(e,{writer:t})=>{const n=e.getAttribute("url");return rH(t,s,n,{elementName:r,renderMediaPreview:!!n&&o})}});i.for("dataDowncast").add(tH(s,{elementName:r,renderMediaPreview:o}));i.for("editingDowncast").elementToStructure({model:"media",view:(e,{writer:t})=>{const i=e.getAttribute("url");const o=rH(t,s,i,{elementName:r,renderForEditingView:true});return nH(o,t,n("media widget"))}});i.for("editingDowncast").add(tH(s,{elementName:r,renderForEditingView:true}));i.for("upcast").elementToElement({view:e=>["oembed",r].includes(e.name)&&e.getAttribute("url")?{name:true}:null,model:(e,{writer:t})=>{const n=e.getAttribute("url");if(s.hasMedia(n)){return t.createElement("media",{url:n})}return null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":true}},model:(e,{writer:t})=>{const n=e.getAttribute("data-oembed-url");if(s.hasMedia(n)){return t.createElement("media",{url:n})}return null}}).add((e=>{const t=(e,t,n)=>{if(!n.consumable.consume(t.viewItem,{name:true,classes:"media"})){return}const{modelRange:i,modelCursor:o}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=i;t.modelCursor=o;const r=gl(i.getItems());if(!r){n.consumable.revert(t.viewItem,{name:true,classes:"media"})}};e.on("element:figure",t)}))}}const _H=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class AH extends yu{static get requires(){return[uN,hT,VN]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e);this._timeoutId=null;this._positionToInsert=null}init(){const e=this.editor;const t=e.model.document;const n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const e=t.selection.getFirstRange();const n=H_.fromPosition(e.start);n.stickiness="toPrevious";const i=H_.fromPosition(e.end);i.stickiness="toNext";t.once("change:data",(()=>{this._embedMediaBetweenPositions(n,i);n.detach();i.detach()}),{priority:"high"})}));const i=e.commands.get("undo");i.on("execute",(()=>{if(this._timeoutId){nc.window.clearTimeout(this._timeoutId);this._positionToInsert.detach();this._timeoutId=null;this._positionToInsert=null}}),{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor;const i=n.plugins.get(wH).registry;const o=new Gb(e,t);const r=o.getWalker({ignoreElementEnd:true});let s="";for(const e of r){if(e.item.is("$textProxy")){s+=e.item.data}}s=s.trim();if(!s.match(_H)){o.detach();return}if(!i.hasMedia(s)){o.detach();return}const a=n.commands.get("mediaEmbed");if(!a.isEnabled){o.detach();return}this._positionToInsert=H_.fromPosition(e);this._timeoutId=nc.window.setTimeout((()=>{n.model.change((e=>{this._timeoutId=null;e.remove(o);o.detach();let t=null;if(this._positionToInsert.root.rootName!=="$graveyard"){t=this._positionToInsert}aH(n.model,s,t,false);this._positionToInsert.detach();this._positionToInsert=null}));n.plugins.get(hT).requestUndoOnBackspace()}),100)}}var vH=__webpack_require__(3525);var CH={injectType:"singletonStyleTag",attributes:{"data-cke":true}};CH.insert="head";CH.singleton=true;var yH=zl()(vH.Z,CH);const xH=vH.Z.locals||{};class EH extends jl{constructor(e,t){super(t);const n=t.t;this.focusTracker=new ml;this.keystrokes=new pl;this.set("mediaURLInputValue","");this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(n("Save"),DC.check,"ck-button-save");this.saveButtonView.type="submit";this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",(e=>!!e));this.cancelButtonView=this._createButton(n("Cancel"),DC.cancel,"ck-button-cancel","cancel");this._focusables=new Sl;this._focusCycler=new ku({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this._validators=e;this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render();n({view:this});const e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach((e=>{this._focusables.add(e);this.focusTracker.add(e.element)}));this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t);this.keystrokes.set("arrowleft",t);this.keystrokes.set("arrowup",t);this.keystrokes.set("arrowdown",t)}destroy(){super.destroy();this.focusTracker.destroy();this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t){this.urlInputView.errorText=t;return false}}return true}resetFormStatus(){this.urlInputView.errorText=null;this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t;const t=new tu(this.locale,by);const n=t.fieldView;this._urlInputViewInfoDefault=e("Paste the media URL in the input.");this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster.");t.label=e("Media URL");t.infoText=this._urlInputViewInfoDefault;n.on("input",(()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault;this.mediaURLInputValue=n.element.value.trim()}));return t}_createButton(e,t,n,i){const o=new yd(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:n}});if(i){o.delegate("execute").to(this,i)}return o}}const DH='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>';class TH extends yu{static get requires(){return[wH]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor;const t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",(e=>{const n=oy(e);this._setUpDropdown(n,t);return n}))}_setUpDropdown(e,n){const i=this.editor;const o=i.t;const r=e.buttonView;const s=i.plugins.get(wH).registry;e.once("change:isOpen",(()=>{const o=new(t(EH))(MH(i.t,s),i.locale);e.panelView.children.add(o);r.on("open",(()=>{o.disableCssTransitions();o.url=n.value||"";o.urlInputView.fieldView.select();o.enableCssTransitions()}),{priority:"low"});e.on("submit",(()=>{if(o.isValid()){i.execute("mediaEmbed",o.url);i.editing.view.focus()}}));e.on("change:isOpen",(()=>o.resetFormStatus()));e.on("cancel",(()=>{i.editing.view.focus()}));o.delegate("submit","cancel").to(e);o.urlInputView.fieldView.bind("value").to(n,"value");o.urlInputView.bind("isEnabled").to(n,"isEnabled")}));e.bind("isEnabled").to(n);r.set({label:o("Insert media"),icon:DH,tooltip:true})}}function MH(e,t){return[t=>{if(!t.url.length){return e("The URL must not be empty.")}},n=>{if(!t.hasMedia(n.url)){return e("This media URL is not supported.")}}]}var IH=__webpack_require__(5777);var SH={injectType:"singletonStyleTag",attributes:{"data-cke":true}};SH.insert="head";SH.singleton=true;var BH=zl()(IH.Z,SH);const NH=IH.Z.locals||{};class zH extends yu{static get requires(){return[wH,TH,AH,DB]}static get pluginName(){return"MediaEmbed"}}class PH extends Eu{constructor(e){super(e);this._isEnabledBasedOnSelection=false}refresh(){const e=this.editor.model;const t=e.document;this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"mention")}execute(e){const t=this.editor.model;const n=t.document;const i=n.selection;const o=typeof e.mention=="string"?{id:e.mention}:e.mention;const r=o.id;const s=e.range||i.getFirstRange();if(!t.canEditAt(s)){return}const a=e.text||r;const c=OH({_text:a,id:r},o);if(e.marker.length!=1){throw new N("mentioncommand-incorrect-marker",this)}if(r.charAt(0)!=e.marker){throw new N("mentioncommand-incorrect-id",this)}t.change((e=>{const n=kl(i.getAttributes());const o=new Map(n.entries());o.set("mention",c);t.insertContent(e.createText(a,o),s);t.insertContent(e.createText(" ",n),s.start.getShiftedBy(a.length))}))}}class LH extends yu{static get pluginName(){return"MentionEditing"}init(){const e=this.editor;const t=e.model;const n=t.document;t.schema.extend("$text",{allowAttributes:"mention"});e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:e=>RH(e)}});e.conversion.for("downcast").attributeToElement({model:"mention",view:FH});e.conversion.for("downcast").add(jH);n.registerPostFixer((e=>UH(e,n,t.schema)));n.registerPostFixer((e=>WH(e,n)));n.registerPostFixer((e=>VH(e,n)));e.commands.add("mention",new PH(e))}}function OH(e,t){return Object.assign({uid:D()},e,t||{})}function RH(e,t){const n=e.getAttribute("data-mention");const i=e.getChild(0);if(!i){return}const o={id:n,_text:i.data};return OH(o,t)}function jH(e){e.on("attribute:mention",((e,t,n)=>{const i=t.attributeNewValue;if(!t.item.is("$textProxy")||!i){return}const o=t.range.start;const r=o.textNode||o.nodeAfter;if(r.data!=i._text){n.consumable.consume(t.item,e.name)}}),{priority:"highest"})}function FH(e,{writer:t}){if(!e){return}const n={class:"mention","data-mention":e.id};const i={id:e.uid,priority:20};return t.createAttributeElement("span",n,i)}function VH(e,t){const n=t.selection;const i=n.focus;if(n.isCollapsed&&n.hasAttribute("mention")&&HH(i)){e.removeSelectionAttribute("mention");return true}return false}function HH(e){const t=e.isAtStart;const n=e.nodeBefore&&e.nodeBefore.is("$text");return n||t}function UH(e,t,n){const i=t.differ.getChanges();let o=false;for(const t of i){if(t.type=="attribute"){continue}const i=t.position;if(t.name=="$text"){const t=i.textNode&&i.textNode.nextSibling;o=qH(i.textNode,e)||o;o=qH(t,e)||o;o=qH(i.nodeBefore,e)||o;o=qH(i.nodeAfter,e)||o}if(t.name!="$text"&&t.type=="insert"){const t=i.nodeAfter;for(const n of e.createRangeIn(t).getItems()){o=qH(n,e)||o}}if(t.type=="insert"&&n.isInline(t.name)){const t=i.nodeAfter&&i.nodeAfter.nextSibling;o=qH(i.nodeBefore,e)||o;o=qH(t,e)||o}}return o}function WH(e,t){const n=t.differ.getChanges();let i=false;for(const t of n){if(t.type==="attribute"&&t.attributeKey!="mention"){const n=t.range.start.nodeBefore;const o=t.range.end.nodeAfter;for(const r of[n,o]){if($H(r)&&r.getAttribute(t.attributeKey)!=t.attributeNewValue){e.setAttribute(t.attributeKey,t.attributeNewValue,r);i=true}}}}return i}function $H(e){if(!e||!(e.is("$text")||e.is("$textProxy"))||!e.hasAttribute("mention")){return false}const t=e.data;const n=e.getAttribute("mention");const i=n._text;return t!=i}function qH(e,t){if($H(e)){t.removeAttribute("mention",e);return true}return false}var GH=__webpack_require__(6391);var YH={injectType:"singletonStyleTag",attributes:{"data-cke":true}};YH.insert="head";YH.singleton=true;var KH=zl()(GH.Z,YH);const ZH=GH.Z.locals||{};class QH extends HC{constructor(e){super(e);this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected;const t=this.items.getIndex(e);this.select(t+1)}selectPrevious(){const e=this.selected;const t=this.items.getIndex(e);this.select(t-1)}select(e){let t=0;if(e>0&&e<this.items.length){t=e}else if(e<0){t=this.items.length-1}const n=this.items.get(t);if(this.selected===n){return}if(this.selected){this.selected.removeHighlight()}n.highlight();this.selected=n;if(!this._isItemVisibleInScrolledArea(n)){this.element.scrollTop=n.element.offsetTop}}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new dc(this.element).contains(new dc(e.element))}}class JH extends jl{constructor(e,t){super(e);this.template=undefined;this.domElement=t;this.domElement.classList.add("ck-button");this.set("isOn",false);this.on("change:isOn",((e,t,n)=>{if(n){this.domElement.classList.add("ck-on");this.domElement.classList.remove("ck-off")}else{this.domElement.classList.add("ck-off");this.domElement.classList.remove("ck-on")}}));this.listenTo(this.domElement,"click",(()=>{this.fire("execute")}))}render(){super.render();this.element=this.domElement}}class XH extends UC{highlight(){const e=this.children.first;e.isOn=true}removeHighlight(){const e=this.children.first;e.isOn=false}}const eU=3;const tU=[qc.arrowup,qc.arrowdown,qc.esc];const nU=[qc.enter,qc.tab];class iU extends yu{static get pluginName(){return"MentionUI"}static get requires(){return[WE]}constructor(e){super(e);this._items=new fl;this._mentionsView=this._createMentionView();this._mentionsConfigurations=new Map;this._requestFeedDebounced=Xm(this._requestFeed,100);e.config.define("mention",{feeds:[]})}init(){const t=this.editor;const n=t.config.get("mention.commitKeys")||nU;const i=tU.concat(n);this._balloon=t.plugins.get(WE);t.editing.view.document.on("keydown",((e,t)=>{if(r(t.keyCode)&&this._isUIVisible){t.preventDefault();e.stop();if(t.keyCode==qc.arrowdown){this._mentionsView.selectNext()}if(t.keyCode==qc.arrowup){this._mentionsView.selectPrevious()}if(n.includes(t.keyCode)){this._mentionsView.executeSelected()}if(t.keyCode==qc.esc){this._hideUIAndRemoveMarker()}}}),{priority:"highest"});e({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const o=t.config.get("mention.feeds");for(const e of o){const{feed:t,marker:n,dropdownLimit:i}=e;if(!hU(n)){throw new N("mentionconfig-incorrect-marker",null,{marker:n})}const o=typeof t=="function"?t.bind(this.editor):lU(t);const r=e.itemRenderer;const s={marker:n,feedCallback:o,itemRenderer:r,dropdownLimit:i};this._mentionsConfigurations.set(n,s)}this._setupTextWatcher(o);this.listenTo(t,"change:isReadOnly",(()=>{this._hideUIAndRemoveMarker()}));this.on("requestFeed:response",((e,t)=>this._handleFeedResponse(t)));this.on("requestFeed:error",(()=>this._hideUIAndRemoveMarker()));function r(e){return i.includes(e)}}destroy(){super.destroy();this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale;const t=new QH(e);t.items.bindTo(this._items).using((n=>{const{item:i,marker:o}=n;const{dropdownLimit:r}=this._mentionsConfigurations.get(o);const s=r||this.editor.config.get("mention.dropdownLimit")||10;if(t.items.length>=s){return null}const a=new XH(e);const c=this._renderItem(i,o);c.delegate("execute").to(a);a.children.add(c);a.item=i;a.marker=o;a.on("execute",(()=>{t.fire("execute",{item:i,marker:o})}));return a}));t.on("execute",((e,t)=>{const n=this.editor;const i=n.model;const o=t.item;const r=t.marker;const s=n.model.markers.get("mention");const a=i.createPositionAt(i.document.selection.focus);const c=i.createPositionAt(s.getStart());const l=i.createRange(c,a);this._hideUIAndRemoveMarker();n.execute("mention",{mention:o,text:o.text,marker:r,range:l});n.editing.view.focus()}));return t}_getItemRenderer(e){const{itemRenderer:t}=this._mentionsConfigurations.get(e);return t}_requestFeed(e,t){this._lastRequested=t;const{feedCallback:n}=this._mentionsConfigurations.get(e);const i=n(t);const o=i instanceof Promise;if(!o){this.fire("requestFeed:response",{feed:i,marker:e,feedText:t});return}i.then((n=>{if(this._lastRequested==t){this.fire("requestFeed:response",{feed:n,marker:e,feedText:t})}else{this.fire("requestFeed:discarded",{feed:n,marker:e,feedText:t})}})).catch((t=>{this.fire("requestFeed:error",{error:t});z("mention-feed-callback-error",{marker:e})}))}_setupTextWatcher(e){const t=this.editor;const n=e.map((e=>({...e,pattern:sU(e.marker,e.minimumCharacters||0)})));const i=new mT(t.model,aU(n));i.on("matched",((e,i)=>{const o=rU(n,i.text);const r=t.model.document.selection;const s=r.focus;const a=t.model.createPositionAt(s.parent,o.position);if(dU(s)||uU(a)){this._hideUIAndRemoveMarker();return}const c=cU(o,i.text);const l=o.marker.length+c.length;const d=s.getShiftedBy(-l);const u=s.getShiftedBy(-c.length);const h=t.model.createRange(d,u);if(fU(t)){const e=t.model.markers.get("mention");t.model.change((t=>{t.updateMarker(e,{range:h})}))}else{t.model.change((e=>{e.addMarker("mention",{range:h,usingOperation:false,affectsData:false})}))}this._requestFeedDebounced(o.marker,c)}));i.on("unmatched",(()=>{this._hideUIAndRemoveMarker()}));const o=t.commands.get("mention");i.bind("isEnabled").to(o);return i}_handleFeedResponse(e){const{feed:t,marker:n}=e;if(!fU(this.editor)){return}this._items.clear();for(const e of t){const t=typeof e!="object"?{id:e,text:e}:e;this._items.add({item:t,marker:n})}const i=this.editor.model.markers.get("mention");if(this._items.length){this._showOrUpdateUI(i)}else{this._hideUIAndRemoveMarker()}}_showOrUpdateUI(e){if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position))}else{this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:true})}this._mentionsView.position=this._balloon.view.position;this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){if(this._balloon.hasView(this._mentionsView)){this._balloon.remove(this._mentionsView)}if(fU(this.editor)){this.editor.model.change((e=>e.removeMarker("mention")))}this._mentionsView.position=undefined}_renderItem(e,t){const n=this.editor;let i;let o=e.id;const r=this._getItemRenderer(t);if(r){const t=r(e);if(typeof t!="string"){i=new JH(n.locale,t)}else{o=t}}if(!i){const e=new yd(n.locale);e.label=o;e.withText=true;i=e}return i}_getBalloonPanelPositionData(e,t){const n=this.editor;const i=n.editing;const o=i.view.domConverter;const r=i.mapper;const s=n.locale.uiLanguageDirection;return{target:()=>{let t=e.getRange();if(t.start.root.rootName=="$graveyard"){t=n.model.document.selection.getFirstRange()}const i=r.toViewRange(t);const s=dc.getDomRangeRects(o.viewRangeToDom(i));return s.pop()},limiter:()=>{const e=this.editor.editing.view;const t=e.document;const n=t.selection.editableElement;if(n){return e.domConverter.mapViewToDom(n.root)}return null},positions:oU(t,s)}}}function oU(e,t){const n={caret_se:e=>({top:e.bottom+eU,left:e.right,name:"caret_se",config:{withArrow:false}}),caret_ne:(e,t)=>({top:e.top-t.height-eU,left:e.right,name:"caret_ne",config:{withArrow:false}}),caret_sw:(e,t)=>({top:e.bottom+eU,left:e.right-t.width,name:"caret_sw",config:{withArrow:false}}),caret_nw:(e,t)=>({top:e.top-t.height-eU,left:e.right-t.width,name:"caret_nw",config:{withArrow:false}})};if(Object.prototype.hasOwnProperty.call(n,e)){return[n[e]]}return t!=="rtl"?[n.caret_se,n.caret_sw,n.caret_ne,n.caret_nw]:[n.caret_sw,n.caret_se,n.caret_nw,n.caret_ne]}function rU(e,t){let n;for(const i of e){const e=t.lastIndexOf(i.marker);if(e>0&&!t.substring(e-1).match(i.pattern)){continue}if(!n||e>=n.position){n={marker:i.marker,position:e,minimumCharacters:i.minimumCharacters,pattern:i.pattern}}}return n}function sU(e,t){const n=t==0?"*":`{${t},}`;const i=a.features.isRegExpUnicodePropertySupported?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'";const o=".";const r=`(?:^|[ ${i}])([${e}])(${o}${n})$`;return new RegExp(r,"u")}function aU(e){const t=t=>{const n=rU(e,t);if(!n){return false}let i=0;if(n.position!==0){i=n.position-1}const o=t.substring(i);return n.pattern.test(o)};return t}function cU(e,t){let n=0;if(e.position!==0){n=e.position-1}const i=sU(e.marker,0);const o=t.substring(n);const r=o.match(i);return r[2]}function lU(e){return t=>{const n=e.filter((e=>{const n=typeof e=="string"?e:String(e.id);return n.toLowerCase().includes(t.toLowerCase())}));return n}}function dU(e){const t=e.textNode&&e.textNode.hasAttribute("mention");const n=e.nodeBefore;return t||n&&n.is("$text")&&n.hasAttribute("mention")}function uU(e){const t=e.nodeAfter;return t&&t.is("$text")&&t.hasAttribute("mention")}function hU(e){return e&&e.length==1}function fU(e){return e.model.markers.has("mention")}var gU=__webpack_require__(7583);var mU={injectType:"singletonStyleTag",attributes:{"data-cke":true}};mU.insert="head";mU.singleton=true;var pU=zl()(gU.Z,mU);const bU=gU.Z.locals||{};class kU extends yu{toMentionAttribute(e,t){return RH(e,t)}static get pluginName(){return"Mention"}static get requires(){return[LH,iU]}}function wU(e,t){if(!e.childCount){return}const n=new qA(e.document);const i=AU(e,n);if(!i.length){return}let o=null;let r=1;i.forEach(((e,s)=>{const a=IU(i[s-1],e);const c=a?null:i[s-1];const l=BU(c,e);if(a){o=null;r=1}if(!o||l!==0){const i=vU(e,t);if(!o){o=EU(i,e.element,n)}else if(e.indent>r){const e=o.getChild(o.childCount-1);const t=e.getChild(e.childCount-1);o=EU(i,t,n);r+=1}else if(e.indent<r){const t=r-e.indent;o=NU(o,t);r=e.indent}if(e.indent<=r){if(!o.is("element",i.type)){o=n.rename(i.type,o)}}}const d=DU(e.element,n);n.appendChild(d,o)}))}function _U(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("element","li")){const n=e.getChild(0);if(n&&n.is("element","p")){t.unwrapElement(n)}}}}function AU(e,t){const n=t.createRangeIn(e);const i=new Ju({name:/^p|h\d+$/,styles:{"mso-list":/.*/}});const o=[];for(const e of n){if(e.type==="elementStart"&&i.match(e.item)){const t=TU(e.item);o.push({element:e.item,id:t.id,order:t.order,indent:t.indent})}}return o}function vU(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi");const i=/mso-level-number-format:([^;]{0,100});/gi;const o=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi;const r=n.exec(t);let s="decimal";let a="ol";let c=null;if(r&&r[1]){const t=i.exec(r[1]);if(t&&t[1]){s=t[1].trim();a=s!=="bullet"&&s!=="image"?"ol":"ul"}if(s==="bullet"){const t=CU(e.element);if(t){s=t}}else{const e=o.exec(r[1]);if(e&&e[1]){c=parseInt(e[1])}}}return{type:a,startIndex:c,style:xU(s)}}function CU(e){const t=yU(e);if(!t){return null}const n=t._data;if(n==="o"){return"circle"}else if(n==="·"){return"disc"}else if(n==="§"){return"square"}return null}function yU(e){if(e.getChild(0).is("$text")){return null}for(const t of e.getChildren()){if(!t.is("element","span")){continue}const e=t.getChild(0);if(!e){continue}if(e.is("$text")){return e}return e.getChild(0)}return null}function xU(e){if(e.startsWith("arabic-leading-zero")){return"decimal-leading-zero"}switch(e){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}function EU(e,t,n){const i=t.parent;const o=n.createElement(e.type);const r=i.getChildIndex(t)+1;n.insertChild(r,o,i);if(e.style){n.setStyle("list-style-type",e.style,o)}if(e.startIndex&&e.startIndex>1){n.setAttribute("start",e.startIndex,o)}return o}function DU(e,t){MU(e,t);t.removeStyle("text-indent",e);return t.rename("li",e)}function TU(e){const t={};const n=e.getStyle("mso-list");if(n){const e=n.match(/(^|\s{1,100})l(\d+)/i);const i=n.match(/\s{0,100}lfo(\d+)/i);const o=n.match(/\s{0,100}level(\d+)/i);if(e&&i&&o){t.id=e[2];t.order=i[1];t.indent=parseInt(o[1])}}return t}function MU(e,t){const n=new Ju({name:"span",styles:{"mso-list":"Ignore"}});const i=t.createRangeIn(e);for(const e of i){if(e.type==="elementStart"&&n.match(e.item)){t.remove(e.item)}}}function IU(e,t){if(!e){return true}if(e.id!==t.id){if(t.indent-e.indent===1){return false}return true}const n=t.element.previousSibling;if(!n){return true}return!SU(n)}function SU(e){return e.is("element","ol")||e.is("element","ul")}function BU(e,t){return e?t.indent-e.indent:t.indent-1}function NU(e,t){const n=e.getAncestors({parentFirst:true});let i=null;let o=0;for(const e of n){if(e.is("element","ul")||e.is("element","ol")){o++}if(o===t){i=e;break}}return i}function zU(e,t){if(!e.childCount){return}const n=new qA(e.document);const i=LU(e,n);OU(i,e,n);jU(i,e,n);RU(e,n);const o=FU(e,n);if(o.length){HU(o,VU(t),n)}}function PU(e){return btoa(e.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join(""))}function LU(e,t){const n=t.createRangeIn(e);const i=new Ju({name:/v:(.+)/});const o=[];for(const e of n){if(e.type!="elementStart"){continue}const t=e.item;const n=t.previousSibling;const r=n&&n.is("element")?n.name:null;if(i.match(t)&&t.getAttribute("o:gfxdata")&&r!=="v:shapetype"){o.push(e.item.getAttribute("id"))}}return o}function OU(e,t,n){const i=n.createRangeIn(t);const o=new Ju({name:"img"});const r=[];for(const t of i){if(t.item.is("element")&&o.match(t.item)){const n=t.item;const i=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[];if(i.length&&i.every((t=>e.indexOf(t)>-1))){r.push(n)}else if(!n.getAttribute("src")){r.push(n)}}}for(const e of r){n.remove(e)}}function RU(e,t){const n=t.createRangeIn(e);const i=new Ju({name:/v:(.+)/});const o=[];for(const e of n){if(e.type=="elementStart"&&i.match(e.item)){o.push(e.item)}}for(const e of o){t.remove(e)}}function jU(e,t,n){const i=n.createRangeIn(t);const o=[];for(const t of i){if(t.type=="elementStart"&&t.item.is("element","v:shape")){const n=t.item.getAttribute("id");if(e.includes(n)){continue}if(!r(t.item.parent.getChildren(),n)){o.push(t.item)}}}for(const e of o){const t={src:s(e)};if(e.hasAttribute("alt")){t.alt=e.getAttribute("alt")}const i=n.createElement("img",t);n.insertChild(e.index+1,i,e.parent)}function r(e,t){for(const n of e){if(n.is("element")){if(n.name=="img"&&n.getAttribute("v:shapes")==t){return true}if(r(n.getChildren(),t)){return true}}}return false}function s(e){for(const t of e.getChildren()){if(t.is("element")&&t.getAttribute("src")){return t.getAttribute("src")}}}}function FU(e,t){const n=t.createRangeIn(e);const i=new Ju({name:"img"});const o=[];for(const e of n){if(e.item.is("element")&&i.match(e.item)){if(e.item.getAttribute("src").startsWith("file://")){o.push(e.item)}}}return o}function VU(e){if(!e){return[]}const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/;const n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g");const i=e.match(n);const o=[];if(i){for(const e of i){let n=false;if(e.includes("\\pngblip")){n="image/png"}else if(e.includes("\\jpegblip")){n="image/jpeg"}if(n){o.push({hex:e.replace(t,"").replace(/[^\da-fA-F]/g,""),type:n})}}}return o}function HU(e,t,n){if(e.length===t.length){for(let i=0;i<e.length;i++){const o=`data:${t[i].type};base64,${PU(t[i].hex)}`;n.setAttribute("src",o,e[i])}}}const UU=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i;const WU=/xmlns:o="urn:schemas-microsoft-com/i;class $U{constructor(e){this.document=e}isActive(e){return UU.test(e)||WU.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;wU(t,n);zU(t,e.dataTransfer.getData("text/rtf"));e.content=t}}function qU(e,t){for(const n of e.getChildren()){if(n.is("element","b")&&n.getStyle("font-weight")==="normal"){const i=e.getChildIndex(n);t.remove(n);t.insertChild(i,n.getChildren(),e)}}}function GU(e,t){const n=new _g(t.document.stylesProcessor);const i=new vm(n,{renderingMode:"data"});const o=i.blockElements;const r=i.inlineObjectElements;const s=[];for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("element","br")){const n=YU(e,"forward",t,{blockElements:o,inlineObjectElements:r});const i=YU(e,"backward",t,{blockElements:o,inlineObjectElements:r});const a=KU(n,o);const c=KU(i,o);if(c||a){s.push(e)}}}for(const e of s){if(e.hasClass("Apple-interchange-newline")){t.remove(e)}else{t.replace(e,t.createElement("p"))}}}function YU(e,t,n,{blockElements:i,inlineObjectElements:o}){let r=n.createPositionAt(e,t=="forward"?"after":"before");r=r.getLastMatchingPosition((({item:e})=>e.is("element")&&!i.includes(e.name)&&!o.includes(e.name)),{direction:t});return t=="forward"?r.nodeAfter:r.nodeBefore}function KU(e,t){return!!e&&e.is("element")&&t.includes(e.name)}const ZU=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class QU{constructor(e){this.document=e}isActive(e){return ZU.test(e)}execute(e){const t=new qA(this.document);const{body:n}=e._parsedData;qU(n,t);_U(n,t);GU(n,t);e.content=n}}function JU(e,t){for(const n of e.getChildren()){if(n.is("element","table")&&n.hasAttribute("xmlns")){t.removeAttribute("xmlns",n)}}}function XU(e,t){for(const n of e.getChildren()){if(n.is("element","google-sheets-html-origin")){const i=e.getChildIndex(n);t.remove(n);t.insertChild(i,n.getChildren(),e)}}}function eW(e,t){for(const n of e.getChildren()){if(n.is("element","table")&&n.getStyle("width")==="0px"){t.removeStyle("width",n)}}}function tW(e,t){for(const n of Array.from(e.getChildren())){if(n.is("element","style")){t.remove(n)}}}const nW=/<google-sheets-html-origin/i;class iW{constructor(e){this.document=e}isActive(e){return nW.test(e)}execute(e){const t=new qA(this.document);const{body:n}=e._parsedData;XU(n,t);JU(n,t);eW(n,t);tW(n,t);e.content=n}}function oW(e){return sW(sW(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function rW(e){e.querySelectorAll("span[style*=spacerun]").forEach((e=>{const t=e;const n=t.innerText.length||0;t.innerText=Array(n+1).join("  ").substr(0,n)}))}function sW(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length)))}function aW(e,t){const n=new DOMParser;e=e.replace(/<!--\[if gte vml 1]>/g,"");const i=oW(dW(e));const o=n.parseFromString(i,"text/html");rW(o);const r=o.body.innerHTML;const s=cW(o,t);const a=lW(o);return{body:s,bodyString:r,styles:a.styles,stylesString:a.stylesString}}function cW(e,t){const n=new _g(t);const i=new vm(n,{renderingMode:"data"});const o=e.createDocumentFragment();const r=e.body.childNodes;while(r.length>0){o.appendChild(r[0])}return i.domToView(o,{skipComments:true})}function lW(e){const t=[];const n=[];const i=Array.from(e.getElementsByTagName("style"));for(const e of i){if(e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length){t.push(e.sheet);n.push(e.innerHTML)}}return{styles:t,stylesString:n.join(" ")}}function dW(e){const t="</body>";const n="</html>";const i=e.indexOf(t);if(i<0){return e}const o=e.indexOf(n,i+t.length);return e.substring(0,i+t.length)+(o>=0?e.substring(o):"")}class uW extends yu{static get pluginName(){return"PasteFromOffice"}static get requires(){return[BS]}init(){const e=this.editor;const t=e.plugins.get("ClipboardPipeline");const n=e.editing.view.document;const i=[];i.push(new $U(n));i.push(new QU(n));i.push(new iW(n));t.on("inputTransformation",((t,o)=>{if(o._isTransformedWithPasteFromOffice){return}const r=e.model.document.selection.getFirstPosition().parent;if(r.is("element","codeBlock")){return}const s=o.dataTransfer.getData("text/html");const a=i.find((e=>e.isActive(s)));if(a){if(!o._parsedData){o._parsedData=aW(s,n.stylesProcessor)}a.execute(o);o._isTransformedWithPasteFromOffice=true}}),{priority:"high"})}}class hW extends yu{static get requires(){return[Rz,uz]}static get pluginName(){return"PictureEditing"}afterInit(){const e=this.editor;if(e.plugins.has("ImageBlockEditing")){e.model.schema.extend("imageBlock",{allowAttributes:["sources"]})}if(e.plugins.has("ImageInlineEditing")){e.model.schema.extend("imageInline",{allowAttributes:["sources"]})}this._setupConversion();this._setupImageUploadEditingIntegration()}_setupConversion(){const e=this.editor;const t=e.conversion;const n=e.plugins.get("ImageUtils");t.for("upcast").add(Sz(n));t.for("downcast").add(Nz(n))}_setupImageUploadEditingIntegration(){const e=this.editor;if(!e.plugins.has("ImageUploadEditing")){return}const t=e.plugins.get("ImageUploadEditing");this.listenTo(t,"uploadComplete",((t,{imageElement:n,data:i})=>{const o=i.sources;if(!o){return}e.model.change((e=>{e.setAttributes({sources:o},n)}))}))}}const fW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>';const gW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>';const mW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>';const pW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>';const bW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>';const kW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>';const wW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>';const _W='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>';const AW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>';const vW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>';const CW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';const yW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 19a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8.022a6.47 6.47 0 0 0-1.5-.709V2a.5.5 0 0 0-.5-.5H3a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h6.313c.173.534.412 1.037.709 1.5H3Z"/><path d="M9.174 14a6.489 6.489 0 0 0-.155 1H6v-1h3.174Z"/><path d="M10.022 12c-.202.316-.378.65-.524 1H4v-1h6.022Z"/><path d="M12.034 10c-.448.283-.86.62-1.224 1H6v-1h6.034Z"/><path d="M12 4v1H4V4h8Z"/><path d="M14 7V6H6v1h8Z"/><path d="M15 9V8H7v1h8Z"/><path clip-rule="evenodd" d="M20 15.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM15.5 13a.5.5 0 0 0-.5.5V15h-1.5a.5.5 0 0 0 0 1H15v1.5a.5.5 0 0 0 1 0V16h1.5a.5.5 0 0 0 0-1H16v-1.5a.5.5 0 0 0-.5-.5Z"/></svg>\n';const xW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';class EW extends yu{static get["pluginName"](){return"SlashCommandConfig"}constructor(e){super(e),this["_allowedCommands"]=null}["afterInit"](){const e=this["editor"]["config"]["get"]("slashCommand.removeCommands")||[],t=function(e){let t=["heading4","heading5","heading6"];if(e){const n=e["map"]((e=>e["model"]));t=["heading1","heading2","heading3","heading4","heading5","heading6"]["filter"]((e=>!n["includes"](e)))}return t}(this["editor"]["config"]["get"]("heading.options"));let n=this["getDefaultCommands"]()["filter"]((e=>!t["includes"](e["id"])))["filter"]((t=>!e["includes"](t["commandName"])));const i=this["editor"]["config"]["get"]("slashCommand.extraCommands");i&&i["length"]&&(n=n["concat"](i));const o=this["editor"]["config"]["get"]("template.definitions");o&&o["length"]&&(n=n["concat"](function(e){return e["map"]((e=>{const{title:t,icon:n,description:i,data:o}=e,r={id:TW(t,"template"),commandName:"insertTemplate",execute:e=>{e["execute"]("insertTemplate",o)},description:i,icon:n,title:t};return n&&(r["isIconColorInherited"]=!1),r}))}(o)));const r=this["editor"]["config"]["get"]("style.definitions");r&&r["length"]&&(n=n["concat"](function(e){return e["map"]((e=>({id:TW(e["name"],"style"),commandName:"style",execute:t=>{t["execute"]("style",{styleName:e["name"]})},isEnabled:t=>{const n=t["commands"]["get"]("style");return n["isEnabled"]&&n["enabledStyles"]["includes"](e["name"])},title:e["name"]})))}(r)));const s=n["filter"]((e=>!e["commandName"]||void 0!==this["editor"]["commands"]["get"](e["commandName"]))),a=[];for(const e of s)a["push"]({id:e["id"],commandName:e["commandName"],title:"function"==typeof e["title"]?e["title"](this["editor"]):e["title"],description:e["description"],icon:e["icon"],isIconColorInherited:e["isIconColorInherited"],aliases:e["aliases"],isEnabled:()=>this["_proxyIsEnabled"](e),execute:()=>this["_proxyExecute"](e)});this["_allowedCommands"]=a["sort"](DW)}["getAllowedCommands"](){return this["_allowedCommands"]}["getDefaultCommands"](){const e=this["editor"]["t"],t=this["editor"]["locale"]["t"];return[{id:"blockQuote",commandName:"blockQuote",icon:DC["quote"],title:t("Block quote"),description:e("Create a block quote")},{id:"bulletedList",commandName:"bulletedList",icon:KR,title:t("Bulleted list"),description:e("Create a bulleted list")},{id:"codeBlock",commandName:"codeBlock",icon:fW,title:t("Insert code block"),description:e("Create a code block")},{id:"ckbox",commandName:"ckbox",icon:NI,title:t("Open file manager"),description:e("Open file manager to insert an image or a file"),aliases:["ckfinder","filemanager","upload"]},{id:"ckfinder",commandName:"ckfinder",icon:gW,title:t("Insert image"),description:e("Open file browser to insert an image or a file"),aliases:["ckbox","filemanager","upload"]},{id:"heading1",commandName:"heading",icon:mW,title:t("Heading 1"),description:e("Create a heading level 1"),execute:e=>{e["execute"]("heading",{value:"heading1"})}},{id:"heading2",commandName:"heading",icon:pW,title:t("Heading 2"),description:e("Create a heading level 2"),execute:e=>{e["execute"]("heading",{value:"heading2"})}},{id:"heading3",commandName:"heading",icon:bW,title:t("Heading 3"),description:e("Create a heading level 3"),execute:e=>{e["execute"]("heading",{value:"heading3"})}},{id:"heading4",commandName:"heading",icon:kW,title:t("Heading 4"),description:e("Create a heading level 4"),execute:e=>{e["execute"]("heading",{value:"heading4"})}},{id:"heading5",commandName:"heading",icon:wW,title:t("Heading 5"),description:e("Create a heading level 5"),execute:e=>{e["execute"]("heading",{value:"heading5"})}},{id:"heading6",commandName:"heading",icon:_W,title:t("Heading 6"),description:e("Create a heading level 6"),execute:e=>{e["execute"]("heading",{value:"heading6"})}},{id:"horizontalLine",commandName:"horizontalLine",icon:AW,title:t("Horizontal line"),description:e("Insert a horizontal line")},{id:"htmlEmbed",commandName:"htmlEmbed",icon:vW,title:t("Insert HTML"),description:e("Insert an HTML snippet")},{id:"indent",commandName:"indent",icon:QL,title:t("Increase indent"),description:e("Increase the indentation")},{id:"insertMermaidCommand",commandName:"insertMermaidCommand",title:e("Insert Mermaid diagram"),description:e("Insert the Mermaid diagram")},{id:"insertTable",commandName:"insertTable",icon:CW,title:t("Insert table"),description:e("Create a table")},{id:"insertTableOfContents",commandName:"insertTableOfContents",icon:yW,title:t("Table of contents"),description:e("Insert table of contents"),aliases:["toc"]},{id:"numberedList",commandName:"numberedList",icon:YR,title:t("Numbered list"),description:e("Create a numbered list")},{id:"outdent",commandName:"outdent",icon:JL,title:t("Decrease indent"),description:e("Decrease the indentation")},{id:"paragraph",commandName:"paragraph",icon:DC["paragraph"],title:t("Paragraph"),description:e("Insert a paragraph")},{id:"todoList",commandName:"todoList",icon:xW,title:t("To-do list"),description:e("Create a to-do list")}]}["_proxyIsEnabled"](e){return e["isEnabled"]?e["isEnabled"](this["editor"]):!e["commandName"]||this["editor"]["commands"]["get"](e["commandName"])["isEnabled"]}["_proxyExecute"](e){if(e["execute"])e["execute"](this["editor"]);else{if(!e["commandName"])throw new N("slash-command-execute-missing",this["editor"],{commandDefinition:e});this["editor"]["execute"](e["commandName"])}}}function DW(e,t){return e["title"]<t["title"]?-1:e["title"]>t["title"]?1:0}function TW(e,t){return t+"-"+e["toLowerCase"]()["split"](" ")["join"]("-")}const MW=["push","editor","slash-command-invalid-license-key","getAllowedCommands","slashCommandLicenseKeyValid","some","_licenseKeyCheckInterval","slashCommandLicenseKeyTrialLimit:operations","SlashCommandConfig","licenseKey","getMatchingCommands","slashCommandLicenseKeyTrial","includes","filter","description","requires","info","SlashCommandEditing","get","slashCommandLicenseKeyInvalid","title","toLowerCase","pluginName"];(function(e,t){const n=function(t){while(--t){e["push"](e["shift"]())}};n(++t)})(MW,229);const IW=function(e,t){e=e-0;let n=MW[e];return n};class SW extends yu{static get[IW("0x0")](){return IW("0x12")}static get[IW("0x10")](){return[EW]}constructor(e){super(e),this[IW("0x7")]=null}["init"](){const e=this[IW("0x2")];this[IW("0xa")]=e["config"][IW("0x13")](IW("0xa"));const t=this["editor"];this[IW("0x7")]=setInterval((()=>{let e;for(const n in t){const i=n,o=t[i];if(IW("0xc")===o||IW("0x14")===o||IW("0x5")===o||"slashCommandLicenseKeyTrialLimit:operations"===o){delete t[i],e=o;break}}if(IW("0x14")===e)throw clearInterval(this["_licenseKeyCheckInterval"]),new N(IW("0x3"),null);if("slashCommandLicenseKeyTrial"===e&&console[IW("0x11")]("You are using the trial version of CKEditor 5 slash command plugin with limited usage. Make sure you will not use it in the production environment."),IW("0x8")===e)throw clearInterval(this["_licenseKeyCheckInterval"]),new N("slash-command-trial-license-key-reached-limit-changes",null);"slashCommandLicenseKeyValid"===e&&clearInterval(this[IW("0x7")])}),1e3)}["destroy"](){this[IW("0x7")]&&clearInterval(this["_licenseKeyCheckInterval"])}[IW("0xb")](e){const t=e&&e["toLowerCase"]();let n=this["editor"]["plugins"]["get"](IW("0x9"))[IW("0x4")]();if(n=n[IW("0xe")]((e=>e["isEnabled"]())),t){const e=[],i=[],o=[],r=[];for(const s of n)s["id"][IW("0x16")]()[IW("0xd")](t)?e["push"](s):s[IW("0x15")][IW("0x16")]()[IW("0xd")](t)?i[IW("0x1")](s):s["aliases"]&&s["aliases"][IW("0x6")]((e=>e["toLowerCase"]()[IW("0xd")](t)))?o[IW("0x1")](s):s[IW("0xf")]&&s[IW("0xf")][IW("0x16")]()["includes"](t)&&r[IW("0x1")](s);n=e["concat"](i,o,r)}return n}}const BW='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm3.45-9.872a1 1 0 0 1 0 1.744l-4.96 2.79A1 1 0 0 1 7 12.79V7.21a1 1 0 0 1 1.49-.872l4.96 2.79Z"/></svg>';const NW=["description","labelView","children","div","isColorInherited","isIconColorInherited","render","ck-slash-command-button","_createTextPartView","iconView","set","textPartView","setTemplate","ck-slash-command-button__text-part"];(function(e,t){const n=function(t){while(--t){e["push"](e["shift"]())}};n(++t)})(NW,273);const zW=function(e,t){e=e-0;let n=NW[e];return n};class PW extends yd{constructor(e,t){super(e),this["textPartView"]=this[zW("0x1")](e,t),void 0!==t[zW("0xc")]&&(this[zW("0x2")][zW("0xb")]=t[zW("0xc")]),this[zW("0x3")]({icon:t["icon"]||BW,withText:!0,label:t["title"],class:zW("0x0")})}[zW("0xd")](){super[zW("0xd")](),this[zW("0x9")]["add"](this[zW("0x4")])}["_createTextPartView"](e,t){const n=new jl(e);return n[zW("0x5")]({tag:zW("0xa"),attributes:{class:["ck",zW("0x6")]},children:t[zW("0x7")]?[this[zW("0x8")],{tag:"span",attributes:{class:["ck","ck-slash-command-button__description"]},children:[{text:t[zW("0x7")]}]}]:[this[zW("0x8")]]}),n}}var LW=__webpack_require__(651);var OW={injectType:"singletonStyleTag",attributes:{"data-cke":true}};OW.insert="head";OW.singleton=true;var RW=zl()(LW.Z,OW);const jW=LW.Z.locals||{};const FW=["getMatchingCommands","commands","_setupMentionConfiguration","init","fromCharCode","once","locale","range","render","change","mention","plugins","map","slashCommand.dropdownLimit","context","_overrideMentionExecuteListener","join","editor","remove","afterInit","marker","bind","then","high","SlashCommandUI","config","pluginName","_customItemRenderer","getRevision","execute","element","SlashCommandEditing","get","isNaN","model","stop"];(function(e,t){const n=function(t){while(--t){e["push"](e["shift"]())}};n(++t)})(FW,338);const VW=function(e,t){e=e-0;let n=FW[e];return n};class HW extends yu{static get[VW("0xc")](){return VW("0xa")}constructor(e){super(e),this[VW("0x18")]()}[VW("0x19")](){this["editor"][VW("0x1b")]("ready",this[VW("0x1")][VW("0x7")](this))}[VW("0x5")](){!function(e){function t(e,t,i){const o={};o[n([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},o[n([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],o[n([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],o[n([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],o[n([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],o[n([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],o[n([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],o[n([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],o[n([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],o[n([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],o[n([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const r=new Uint8Array(16);for(let e=15;e>=0;--e)r[e]=i%256,i=parseInt(i/256);let s=null,a=16;const c=new Uint8Array(t),l=[],d=[];g();for(let t=0;t<e[n([108,101,110,103,116,104])];t++)16===a&&(s=f(r),a=0,h(r)),e[t]^=s[a++];return e;function u(e){const t=[];for(let i=0;i<e[n([108,101,110,103,116,104])];i+=4)t[n([112,117,115,104])](e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]);return t}function h(e){for(let t=15;t>=0;t--){if(255!==e[t]){e[t]++;break}e[t]=0}}function f(e){const t=l[n([108,101,110,103,116,104])]-1,i=[0,0,0,0];let r=u(e);for(let e=0;e<4;e++)r[e]^=l[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)i[t]=o[n([84,49])][r[t]>>24&255]^o[n([84,50])][r[(t+1)%4]>>16&255]^o[n([84,51])][r[(t+2)%4]>>8&255]^o[n([84,52])][255&r[(t+3)%4]]^l[e][t];r=i[n([115,108,105,99,101])]()}const s=new Uint8Array(16);let a;for(let e=0;e<4;e++)a=l[t][e],s[4*e]=255&(o[n([83])][r[e]>>24&255]^a>>24),s[4*e+1]=255&(o[n([83])][r[(e+1)%4]>>16&255]^a>>16),s[4*e+2]=255&(o[n([83])][r[(e+2)%4]>>8&255]^a>>8),s[4*e+3]=255&(o[n([83])][255&r[(e+3)%4]]^a);return s}function g(){const e=o[n([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][c[n([108,101,110,103,116,104])]];for(let t=0;t<=e;t++)l[n([112,117,115,104])]([0,0,0,0]),d[n([112,117,115,104])]([0,0,0,0]);const t=4*(e+1),i=c[n([108,101,110,103,116,104])]/4,r=u(c);let s;for(let t=0;t<i;t++)s=t>>2,l[s][t%4]=r[t],d[e-s][t%4]=r[t];let a,h=0,f=i;for(;f<t;){a=r[i-1],r[0]^=o[n([83])][a>>16&255]<<24^o[n([83])][a>>8&255]<<16^o[n([83])][255&a]<<8^o[n([83])][a>>24&255]^o[n([114,99,111,110])][h]<<24,h+=1;for(let e=1;e<i/2;e++)r[e]^=r[e-1];a=r[i/2-1],r[i/2]^=o[n([83])][255&a]^o[n([83])][a>>8&255]<<8^o[n([83])][a>>16&255]<<16^o[n([83])][a>>24&255]<<24;for(let e=i/2+1;e<i;e++)r[e]^=r[e-1];let s,c,u=0;for(;u<i&&f<t;)s=f>>2,c=f%4,l[s][c]=r[u],d[e-s][c]=r[u++],f++}for(let t=1;t<e;t++)for(let e=0;e<4;e++)a=d[t][e],d[t][e]=o[n([85,49])][a>>24&255]^o[n([85,50])][a>>16&255]^o[n([85,51])][a>>8&255]^o[n([85,52])][255&a]}}function n(e){return e[VW("0x22")]((e=>String[VW("0x1a")](e)))[VW("0x2")]("")}(e=>{function i(){const e=[{[n([105,100])]:1,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([67,111,109,109,101,110,116,115]),[n([112,108,117,103,105,110,78,97,109,101])]:n([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([108,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101]),[n([99,104,101,99,107,65,108,115,111])]:[{[n([105,100])]:2,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([84,114,97,99,107,32,67,104,97,110,103,101,115]),[n([112,108,117,103,105,110,78,97,109,101])]:n([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([108,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101,70,111,114,84,114,97,99,107,67,104,97,110,103,101,115]),[n([111,112,116,105,111,110,115])]:{[n([97,105,119,115,103,105,99])]:!0,[n([97,105,116,99,100,103,105,108])]:!0,[n([97,105,114,118,105,105,108])]:!0}}],[n([111,112,116,105,111,110,115])]:{[n([97,105,119,115,103,105,99])]:!0,[n([97,105,116,99,100,103,105,108])]:!0,[n([97,105,114,118,105,105,108])]:!0}},{[n([105,100])]:3,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([80,97,103,105,110,97,116,105,111,110]),[n([112,108,117,103,105,110,78,97,109,101])]:n([80,97,103,105,110,97,116,105,111,110,76,111,111,107,117,112]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([112,97,103,105,110,97,116,105,111,110,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])},{[n([105,100])]:4,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([82,101,118,105,115,105,111,110,32,72,105,115,116,111,114,121]),[n([112,108,117,103,105,110,78,97,109,101])]:n([82,101,118,105,115,105,111,110,115,82,101,112,111,115,105,116,111,114,121]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([108,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101,70,111,114,82,101,118,105,115,105,111,110,72,105,115,116,111,114,121]),[n([111,112,116,105,111,110,115])]:{[n([97,105,119,115,103,105,99])]:!0,[n([97,105,116,99,100,103,105,108])]:!0,[n([97,105,114,118,105,105,108])]:!0}},{[n([105,100])]:5,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([68,111,99,117,109,101,110,116,32,79,117,116,108,105,110,101]),[n([112,108,117,103,105,110,78,97,109,101])]:n([68,111,99,117,109,101,110,116,79,117,116,108,105,110,101,85,73]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([100,111,99,117,109,101,110,116,79,117,116,108,105,110,101,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])},{[n([105,100])]:6,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([70,111,114,109,97,116,32,80,97,105,110,116,101,114]),[n([112,108,117,103,105,110,78,97,109,101])]:n([70,111,114,109,97,116,80,97,105,110,116,101,114,85,73]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([102,111,114,109,97,116,80,97,105,110,116,101,114,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])},{[n([105,100])]:7,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([83,108,97,115,104,32,67,111,109,109,97,110,100]),[n([112,108,117,103,105,110,78,97,109,101])]:n([83,108,97,115,104,67,111,109,109,97,110,100,85,73]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([115,108,97,115,104,67,111,109,109,97,110,100,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])},{[n([105,100])]:8,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([84,97,98,108,101,32,111,102,32,67,111,110,116,101,110,116,115]),[n([112,108,117,103,105,110,78,97,109,101])]:n([84,97,98,108,101,79,102,67,111,110,116,101,110,116,115,69,100,105,116,105,110,103]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([116,97,98,108,101,79,102,67,111,110,116,101,110,116,115,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])},{[n([105,100])]:9,[n([102,101,97,116,117,114,101,78,97,109,101])]:n([84,101,109,112,108,97,116,101]),[n([112,108,117,103,105,110,78,97,109,101])]:n([84,101,109,112,108,97,116,101,85,73]),[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]:n([116,101,109,112,108,97,116,101,76,105,99,101,110,115,101,75,101,121]),[n([104,97,110,100,108,101,114])]:n([99,104,101,99,107,76,105,99,101,110,115,101])}];return i(e),e;function t(e){return 1<<e-1}function i(e){e[n([102,111,114,69,97,99,104])]((e=>{e[n([112,101,114,109,105,115,115,105,111,110,77,97,115,107])]=t(e[n([105,100])]),e[n([99,104,101,99,107,65,108,115,111])]&&i(e[n([99,104,101,99,107,65,108,115,111])])}))}}const o=[1,85,78,115,198,255,50,112,83,87,161],r=[127,34,6,211,167,86,146,199,132,160,18];function s(e){const t=[29,221,175,90,231,133,239,240,75,180];return a(e,new Uint8Array([...o,...t,...r]))}function a(e,i){const o=c(e),r=Array[n([102,114,111,109])](z(o)),s=r[n([112,111,112])](),a=r[n([112,111,112])]();return N(t(r,i,a+256*s))}function c(e){const t=atob(e),[i,o]=t[n([115,112,108,105,116])](n([45]));try{if(atob(o))return atob(i)}catch(e){}return t}const l=i(),d={[n([99,104,101,99,107,76,105,99,101,110,115,101])]:w,[n([99,104,101,99,107,76,105,99,101,110,115,101,70,111,114,84,114,97,99,107,67,104,97,110,103,101,115])]:_,[n([99,104,101,99,107,76,105,99,101,110,115,101,70,111,114,82,101,118,105,115,105,111,110,72,105,115,116,111,114,121])]:A},u=e[n([99,111,110,115,116,114,117,99,116,111,114])][n([112,108,117,103,105,110,78,97,109,101])],h=n([99,111,110,116,101,120,116])in e?e[VW("0x0")]:e[VW("0x3")],f=n([52,48,52,54,49,50,53,54]),g=n([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57]),m=h[VW("0xb")]["get"](n([108,105,99,101,110,115,101,75,101,121])),p=l[n([102,105,110,100])]((e=>e[n([112,108,117,103,105,110,78,97,109,101])]===u));function b(e,t){d[t[n([104,97,110,100,108,101,114])]](e,t),t[n([99,104,101,99,107,65,108,115,111])]&&t[n([99,104,101,99,107,65,108,115,111])][n([102,105,108,116,101,114])]((e=>S(h,e[n([112,108,117,103,105,110,78,97,109,101])])))[n([102,111,114,69,97,99,104])]((t=>b(e,t)))}function k(e){try{const t=s(e),i=JSON[n([112,97,114,115,101])](t),o=parseInt(i[n([49])]),r=parseInt(i[n([51])]),a=parseInt(i[n([52])])||0,c=parseInt(i[n([53])])||0;return{[n([97,108,108,111,119,101,100,80,108,117,103,105,110,115])]:a,[n([101,120,112,105,114,97,116,105,111,110,68,97,116,101])]:o,[n([105,115,84,114,105,97,108])]:r,[n([105,115,73,110,116,101,114,110,97,108])]:c}}catch(e){return null}}function w(e,t){C(v(e,t),t)}function _(e,t){function i(e,t){try{if(S(h,n([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))&&e){const i=B(h,n([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))[n([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])];if(parseInt(i)/2>e[n([101,120,112,105,114,97,116,105,111,110,68,97,116,101])])return y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))}return v(e,t)}catch(e){return y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))}}C(i(e,t),t)}function A(e,t){const i=r[0]*o[1],s=r[0]*o[2],a=r[2]*o[2];S(h,n([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&B(h,n([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[n([115,116,97,116,101])]==n([99,111,110,110,101,99,116,101,100])&&(window[x()]=a);function c(e,t){try{return u()?y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([86,97,108,105,100])):v(e,t)}catch(e){return y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))}}function l(e,t){const i=7;if(e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))m();else{if(e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108])){const e=d();e&&f(e,t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]);const o=g();window[n([115,101,116,84,105,109,101,111,117,116])]((()=>{f(n([116,105,109,101]),t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])])}),o);const r=B(h,n([82,101,118,105,115,105,111,110,115,82,101,112,111,115,105,116,111,114,121]))[n([95,114,101,118,105,115,105,111,110,115])];r[n([108,101,110,103,116,104])]>=i?f(n([114,101,118,105,115,105,111,110,115]),t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]):r["on"](n([97,100,100]),(()=>{r[n([108,101,110,103,116,104])]>=i&&f(n([114,101,118,105,115,105,111,110,115]),t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])])}))}}}function d(){if(!S(h,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114])))return!1;for(const e in window)if(Number[VW("0x13")](Number(e))){if(window[e]===i)return n([116,105,109,101]);if(window[e]===s)return n([114,101,118,105,115,105,111,110,115])}return!1}function u(){if(!S(h,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114])))return!1;for(const e in window)if(Number[VW("0x13")](Number(e))&&window[e]===a)return!0;return!1}function f(e,t){m(),y(t+n([84,114,105,97,108,76,105,109,105,116,58])+e),window[x()]=e===n([116,105,109,101])?i:s}function g(){let e=r[6]*o[8]*o[6];return S(h,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))&&(e/=10),e}function m(){const e=h;function t(){S(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))&&(B(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[n([117,110,98,105,110,100])](n([105,115,69,110,97,98,108,101,100])),B(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[n([105,115,69,110,97,98,108,101,100])]=!1,B(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[n([117,112,100,97,116,101])]=T,B(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))[n([115,97,118,101,82,101,118,105,115,105,111,110])]=T,e[n([109,111,100,101,108])][n([99,104,97,110,103,101])]=T,e[n([109,111,100,101,108])][n([101,110,113,117,101,117,101,67,104,97,110,103,101])]=T,e[n([101,110,97,98,108,101,82,101,97,100,79,110,108,121,77,111,100,101])](n([109,111,100,101,108]))),S(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))&&(B(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[n([117,110,98,105,110,100])](n([105,115,69,110,97,98,108,101,100])),B(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[n([105,115,69,110,97,98,108,101,100])]=!1,B(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[n([99,111,109,112,97,114,101])]=T,B(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[n([95,103,101,116,68,105,102,102])]=T)}e[n([115,116,97,116,101])]==n([114,101,97,100,121])?t():e[n([111,110,99,101])](n([114,101,97,100,121]),(()=>{if(S(e,n([82,101,118,105,115,105,111,110,84,114,97,99,107,101,114]))&&t(),S(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))){const i=B(e,n([82,101,118,105,115,105,111,110,115,82,101,112,111,115,105,116,111,114,121])),o=i[VW("0xe")](0),r=i["getEarlierVisibleRevision"](o[n([105,100])]);B(e,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114]))[n([99,111,109,112,97,114,101])](o[n([105,100])],r?r[n([105,100])]:null,1)[VW("0x8")]((()=>t()))}}))}l(c(e,t),t)}function v(e,t){try{return I(t)?y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([86,97,108,105,100])):e&&M(e[n([97,108,108,111,119,101,100,80,108,117,103,105,110,115])],t)?e[n([105,115,73,110,116,101,114,110,97,108])]&&!window[n([111,112,101,110])][n([99,108,111,115,101,100])]||parseInt(f)/2>e[n([101,120,112,105,114,97,116,105,111,110,68,97,116,101])]?y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100])):e[n([105,115,84,114,105,97,108])]?y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108])):y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([86,97,108,105,100])):y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))}catch(e){return y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100]))}}function C(e,t){if(h instanceof Iu){const i=h;e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100])?E(i):e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108])&&window[n([115,101,116,84,105,109,101,111,117,116])]((()=>{E(i),y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108,76,105,109,105,116,58,116,105,109,101]))}),r[6]*o[8]*o[6]),i[n([101,100,105,116,111,114,115])][n([111,110])](n([97,100,100]),((i,o)=>{e!=t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100])&&e!=t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108,76,105,109,105,116,58,116,105,109,101])&&e!=t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108,76,105,109,105,116,58,111,112,101,114,97,116,105,111,110,115])||D(o)}))}else{const i=h;e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([73,110,118,97,108,105,100])?D(i):e==t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108])&&i[n([111,110])](n([114,101,97,100,121]),(()=>{let e=0;i[n([109,111,100,101,108])][n([111,110])](n([97,112,112,108,121,79,112,101,114,97,116,105,111,110]),((o,r)=>{r[0][n([105,115,68,111,99,117,109,101,110,116,79,112,101,114,97,116,105,111,110])]&&e++,504===e&&(D(i),y(t[n([108,105,99,101,110,115,101,83,116,97,116,117,115,80,114,101,102,105,120])]+n([84,114,105,97,108,76,105,109,105,116,58,111,112,101,114,97,116,105,111,110,115])),o[n([111,102,102])]())}),{priority:n([104,105,103,104,101,115,116])})}))}}function y(e){const t=x();return h[t]=e,e}function x(){const e=String(window[n([112,101,114,102,111,114,109,97,110,99,101])][n([110,111,119])]())[n([114,101,112,108,97,99,101])](n([46]),"");let t="";for(let i=0;i<e[n([108,101,110,103,116,104])];i+=2){let o=parseInt(e[n([115,117,98,115,116,114,105,110,103])](i,i+2));o>=g[n([108,101,110,103,116,104])]&&(o-=g[n([108,101,110,103,116,104])]),t+=g[o]}return t}function E(e){for(const t of e[n([101,100,105,116,111,114,115])])D(t);B(e,n([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[n([115,119,105,116,99,104,82,101,97,100,79,110,108,121])](!0),B(e,n([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[n([115,119,105,116,99,104,82,101,97,100,79,110,108,121])]=T}function D(e){function t(){e[n([109,111,100,101,108])][n([99,104,97,110,103,101])]=T,e[n([109,111,100,101,108])][n([101,110,113,117,101,117,101,67,104,97,110,103,101])]=T,e[n([101,110,97,98,108,101,82,101,97,100,79,110,108,121,77,111,100,101])](n([109,111,100,101,108]))}e[n([115,116,97,116,101])]==n([114,101,97,100,121])?t():e[n([111,110,99,101])](n([114,101,97,100,121]),(()=>t()))}function T(){return null}function M(e,t){return!!(e&t[n([112,101,114,109,105,115,115,105,111,110,77,97,115,107])])}function I(e){if(!S(h,e[n([112,108,117,103,105,110,78,97,109,101])]))return!0;const t=e[n([111,112,116,105,111,110,115])]||{},i=t[n([97,105,119,115,103,105,99])]||!1,o=t[n([97,105,116,99,100,103,105,108])]||!1,r=t[n([97,105,114,118,105,105,108])]||!1;if(S(h,n([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&B(h,n([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[n([115,116,97,116,101])]==n([99,111,110,110,101,99,116,101,100])&&i)return!0;if(S(h,n([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))&&B(h,n([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))[n([114,101,115,117,108,116])]==n([101,110,100])&&o)return!0;return!(!S(h,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114,73,110,116,101,103,114,97,116,105,111,110]))||B(h,n([82,101,118,105,115,105,111,110,86,105,101,119,101,114,73,110,116,101,103,114,97,116,105,111,110]))[n([114,101,115,117,108,116])]!=n([101,110,100])||!r)}function S(e,t){return e[n([112,108,117,103,105,110,115])][n([104,97,115])](t)}function B(e,t){return e[n([112,108,117,103,105,110,115])][n([103,101,116])](t)}function N(e){let t="";for(const i of e)t+=String[n([102,114,111,109,67,104,97,114,67,111,100,101])](i);return t}function z(e){const t=new Uint8Array(e[n([108,101,110,103,116,104])]);for(let i=0;i<e[n([108,101,110,103,116,104])];i++)t[i]=e[n([99,104,97,114,67,111,100,101,65,116])](i);return t}p&&b(k(m),p)})(e)}(this)}[VW("0x18")](){const e=this[VW("0x3")],t=this[VW("0x3")][VW("0x21")][VW("0x12")](VW("0x11")),n=e["config"]["get"]("mention.feeds");n["push"]({marker:"/",feed:e=>t[VW("0x16")](e),itemRenderer:this[VW("0xd")][VW("0x7")](this),dropdownLimit:e["config"][VW("0x12")](VW("0x23"))||1/0}),e[VW("0xb")]["set"]("mention.feeds",n)}["_overrideMentionExecuteListener"](){const e=this[VW("0x3")];e[VW("0x17")]["get"](VW("0x20"))["on"]("execute",((t,n)=>{const i=n[0],o=e[VW("0x14")];"/"===i[VW("0x6")]&&o[VW("0x1f")]((e=>{e[VW("0x4")](i[VW("0x1d")]),i[VW("0x20")][VW("0xf")](),t[VW("0x15")]()}))}),{priority:VW("0x9")})}[VW("0xd")](e){const t=this[VW("0x3")][VW("0x1c")],n=new PW(t,e);return n[VW("0x1e")](),n[VW("0x10")]}}var UW=["requires","pluginName","Mention"];(function(e,t){var n=function(t){while(--t){e["push"](e["shift"]())}};n(++t)})(UW,333);var WW=function(e,t){e=e-0;var n=UW[e];return n};class $W extends yu{static get[WW("0x0")](){return[WW("0x2"),SW,HW]}static get[WW("0x1")](){return"SlashCommand"}}function qW(e,t){const{modelAttribute:n,styleName:i,viewElement:o,defaultValue:r,reduceBoxSides:s=false,shouldUpcast:a=(()=>true)}=t;e.for("upcast").attributeToAttribute({view:{name:o,styles:{[i]:/[\s\S]+/}},model:{key:n,value:e=>{if(!a(e)){return}const t=e.getNormalizedStyle(i);const n=s?ZW(t):t;if(r!==n){return n}}}})}function GW(e,t,n,i){e.for("upcast").add((e=>e.on("element:"+t,((e,t,o)=>{if(!t.modelRange){return}const r=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter((e=>t.viewItem.hasStyle(e)));if(!r.length){return}const s={styles:r};if(!o.consumable.test(t.viewItem,s)){return}const a=[...t.modelRange.getItems({shallow:true})].pop();o.consumable.consume(t.viewItem,s);const c={style:t.viewItem.getNormalizedStyle("border-style"),color:t.viewItem.getNormalizedStyle("border-color"),width:t.viewItem.getNormalizedStyle("border-width")};const l={style:ZW(c.style),color:ZW(c.color),width:ZW(c.width)};if(l.style!==i.style){o.writer.setAttribute(n.style,l.style,a)}if(l.color!==i.color){o.writer.setAttribute(n.color,l.color,a)}if(l.width!==i.width){o.writer.setAttribute(n.width,l.width,a)}}))))}function YW(e,t){const{modelElement:n,modelAttribute:i,styleName:o}=t;e.for("downcast").attributeToAttribute({model:{name:n,key:i},view:e=>({key:"style",value:{[o]:e}})})}function KW(e,t){const{modelAttribute:n,styleName:i}=t;e.for("downcast").add((e=>e.on(`attribute:${n}:table`,((e,t,n)=>{const{item:o,attributeNewValue:r}=t;const{mapper:s,writer:a}=n;if(!n.consumable.consume(t.item,e.name)){return}const c=[...s.toViewElement(o).getChildren()].find((e=>e.is("element","table")));if(r){a.setStyle(i,r,c)}else{a.removeStyle(i,c)}}))))}function ZW(e){if(!e){return}const t=["top","right","bottom","left"];const n=t.every((t=>e[t]));if(!n){return e}const i=e.top;const o=t.every((t=>e[t]===i));if(!o){return e}return i}function QW(e,t,n,i,o=1){if(t!==undefined&&t!==null&&o!==undefined&&o!==null&&t>o){i.setAttribute(e,t,n)}else{i.removeAttribute(e,n)}}function JW(e,t,n={}){const i=e.createElement("tableCell",n);e.insertElement("paragraph",i);e.insert(i,t);return i}function XW(e,t){const n=t.parent.parent;const i=parseInt(n.getAttribute("headingColumns")||"0");const{column:o}=e.getCellLocation(t);return!!i&&o<i}function e$(e,t,n){const{modelAttribute:i}=n;e.extend("tableCell",{allowAttributes:[i]});qW(t,{viewElement:/^(td|th)$/,...n});YW(t,{modelElement:"tableCell",...n})}function t$(){return e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:true,classes:"table"})){return}const i=r$(t.viewItem);if(!i||!n.consumable.test(i,{name:true})){return}n.consumable.consume(t.viewItem,{name:true,classes:"table"});const o=n.convertItem(i,t.modelCursor);const r=gl(o.modelRange.getItems());if(!r){n.consumable.revert(t.viewItem,{name:true,classes:"table"});return}n.convertChildren(t.viewItem,n.writer.createPositionAt(r,"end"));n.updateConversionResult(r,t)}))}}function n$(){return e=>{e.on("element:table",((e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:true})){return}const{rows:o,headingRows:r,headingColumns:s}=s$(i);const a={};if(s){a.headingColumns=s}if(r){a.headingRows=r}const c=n.writer.createElement("table",a);if(!n.safeInsert(c,t.modelCursor)){return}n.consumable.consume(i,{name:true});o.forEach((e=>n.convertItem(e,n.writer.createPositionAt(c,"end"))));n.convertChildren(i,n.writer.createPositionAt(c,"end"));if(c.isEmpty){const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(c,"end"));JW(n.writer,n.writer.createPositionAt(e,"end"))}n.updateConversionResult(c,t)}))}}function i$(){return e=>{e.on("element:tr",((e,t)=>{if(t.viewItem.isEmpty&&t.modelCursor.index==0){e.stop()}}),{priority:"high"})}}function o$(e){return t=>{t.on(`element:${e}`,((e,t,{writer:n})=>{if(!t.modelRange){return}const i=t.modelRange.start.nodeAfter;const o=n.createPositionAt(i,0);if(t.viewItem.isEmpty){n.insertElement("paragraph",o);return}const r=Array.from(i.getChildren());if(r.every((e=>e.is("element","$marker")))){const e=n.createElement("paragraph");n.insert(e,n.createPositionAt(i,0));for(const t of r){n.move(n.createRangeOn(t),n.createPositionAt(e,"end"))}}}),{priority:"low"})}}function r$(e){for(const t of e.getChildren()){if(t.is("element","table")){return t}}}function s$(e){let t=0;let n=undefined;const i=[];const o=[];let r;for(const s of Array.from(e.getChildren())){if(s.name!=="tbody"&&s.name!=="thead"&&s.name!=="tfoot"){continue}if(s.name==="thead"&&!r){r=s}const e=Array.from(s.getChildren()).filter((e=>e.is("element","tr")));for(const a of e){if(r&&s===r||s.name==="tbody"&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((e=>e.is("element","th")))){t++;i.push(a)}else{o.push(a);const e=a$(a);if(!n||e<n){n=e}}}}return{headingRows:t,headingColumns:n||0,rows:[...i,...o]}}function a$(e){let t=0;let n=0;const i=Array.from(e.getChildren()).filter((e=>e.name==="th"||e.name==="td"));while(n<i.length&&i[n].name==="th"){const e=i[n];const o=parseInt(e.getAttribute("colspan")||"1");t=t+o;n++}return t}class c${constructor(e,t={}){this._table=e;this._startRow=t.row!==undefined?t.row:t.startRow||0;this._endRow=t.row!==undefined?t.row:t.endRow;this._startColumn=t.column!==undefined?t.column:t.startColumn||0;this._endColumn=t.column!==undefined?t.column:t.endColumn;this._includeAllSlots=!!t.includeAllSlots;this._skipRows=new Set;this._row=0;this._rowIndex=0;this._column=0;this._cellIndex=0;this._spannedCells=new Map;this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow()){return{done:true,value:undefined}}if(!e.is("element","tableRow")){this._rowIndex++;return this.next()}if(this._isOverEndColumn()){return this._advanceToNextRow()}let t=null;const n=this._getSpanned();if(n){if(this._includeAllSlots&&!this._shouldSkipSlot()){t=this._formatOutValue(n.cell,n.row,n.column)}}else{const n=e.getChild(this._cellIndex);if(!n){return this._advanceToNextRow()}const i=parseInt(n.getAttribute("colspan")||"1");const o=parseInt(n.getAttribute("rowspan")||"1");if(i>1||o>1){this._recordSpans(n,o,i)}if(!this._shouldSkipSlot()){t=this._formatOutValue(n)}this._nextCellAtColumn=this._column+i}this._column++;if(this._column==this._nextCellAtColumn){this._cellIndex++}return t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){this._row++;this._rowIndex++;this._column=0;this._cellIndex=0;this._nextCellAtColumn=-1;return this.next()}_isOverEndRow(){return this._endRow!==undefined&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==undefined&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:false,value:new l$(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row);const t=this._row<this._startRow;const n=this._column<this._startColumn;const i=this._endColumn!==undefined&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);if(!e){return null}return e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let e=this._row;e<this._row+t;e++){for(let t=this._column;t<this._column+n;t++){if(e!=this._row||t!=this._column){this._markSpannedCell(e,t,i)}}}}_markSpannedCell(e,t,n){if(!this._spannedCells.has(e)){this._spannedCells.set(e,new Map)}const i=this._spannedCells.get(e);i.set(t,n)}}class l${constructor(e,t,n,i){this.cell=t;this.row=e._row;this.column=e._column;this.cellAnchorRow=n;this.cellAnchorColumn=i;this._cellIndex=e._cellIndex;this._rowIndex=e._rowIndex;this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){const e=this._table.root.document.model;return e.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function d$(e,t){return(n,{writer:i})=>{const o=n.getAttribute("headingRows")||0;const r=i.createContainerElement("table",null,[]);const s=i.createContainerElement("figure",{class:"table"},r);if(o>0){i.insert(i.createPositionAt(r,"end"),i.createContainerElement("thead",null,i.createSlot((e=>e.is("element","tableRow")&&e.index<o))))}if(o<e.getRows(n)){i.insert(i.createPositionAt(r,"end"),i.createContainerElement("tbody",null,i.createSlot((e=>e.is("element","tableRow")&&e.index>=o))))}for(const{positionOffset:e,filter:n}of t.additionalSlots){i.insert(i.createPositionAt(r,e),i.createSlot(n))}i.insert(i.createPositionAt(r,"after"),i.createSlot((e=>{if(e.is("element","tableRow")){return false}return!t.additionalSlots.some((({filter:t})=>t(e)))})));return t.asWidget?m$(s,i):s}}function u$(){return(e,{writer:t})=>e.isEmpty?t.createEmptyElement("tr"):t.createContainerElement("tr")}function h$(e={}){return(t,{writer:n})=>{const i=t.parent;const o=i.parent;const r=o.getChildIndex(i);const s=new c$(o,{row:r});const a=o.getAttribute("headingRows")||0;const c=o.getAttribute("headingColumns")||0;let l=null;for(const i of s){if(i.cell==t){const t=i.row<a||i.column<c;const o=t?"th":"td";l=e.asWidget?GS(n.createEditableElement(o),n):n.createContainerElement(o);break}}return l}}function f$(e={}){return(t,{writer:n})=>{if(!t.parent.is("element","tableCell")){return null}if(!g$(t)){return null}if(e.asWidget){return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"})}else{const e=n.createContainerElement("p");n.setCustomProperty("dataPipeline:transparentRendering",true,e);return e}}}function g$(e){const t=e.parent;const n=t.childCount==1;return n&&!p$(e)}function m$(e,t){t.setCustomProperty("table",true,e);return VS(e,t,{hasSelectionHandle:true})}function p$(e){const t=e.getAttributeKeys().next();return!t.done}class b$ extends Eu{refresh(){const e=this.editor.model;const t=e.document.selection;const n=e.schema;this.isEnabled=k$(t,n)}execute(e={}){const t=this.editor;const n=t.model;const i=t.plugins.get("TableUtils");const o=t.config.get("table.defaultHeadings.rows");const r=t.config.get("table.defaultHeadings.columns");if(e.headingRows===undefined&&o){e.headingRows=o}if(e.headingColumns===undefined&&r){e.headingColumns=r}n.change((t=>{const o=i.createTable(t,e);n.insertObject(o,null,null,{findOptimalPosition:"auto"});t.setSelection(t.createPositionAt(o.getNodeByPath([0,0,0]),0))}))}}function k$(e,t){const n=e.getFirstPosition().parent;const i=n===n.root?n:n.parent;return t.checkChild(i,"table")}class w$ extends Eu{constructor(e,t={}){super(e);this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection;const t=this.editor.plugins.get("TableUtils");const n=!!t.getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor;const t=e.model.document.selection;const n=e.plugins.get("TableUtils");const i=this.order==="above";const o=n.getSelectionAffectedTableCells(t);const r=n.getRowIndexes(o);const s=i?r.first:r.last;const a=o[0].findAncestor("table");n.insertRows(a,{at:i?s:s+1,copyStructureFromAbove:!i})}}class _$ extends Eu{constructor(e,t={}){super(e);this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection;const t=this.editor.plugins.get("TableUtils");const n=!!t.getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor;const t=e.model.document.selection;const n=e.plugins.get("TableUtils");const i=this.order==="left";const o=n.getSelectionAffectedTableCells(t);const r=n.getColumnIndexes(o);const s=i?r.first:r.last;const a=o[0].findAncestor("table");n.insertColumns(a,{columns:1,at:i?s:s+1})}}class A$ extends Eu{constructor(e,t={}){super(e);this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];const n=this.direction==="horizontally";if(n){e.splitCellHorizontally(t,2)}else{e.splitCellVertically(t,2)}}}function v$(e,t,n){const{startRow:i,startColumn:o,endRow:r,endColumn:s}=t;const a=n.createElement("table");const c=r-i+1;for(let e=0;e<c;e++){n.insertElement("tableRow",a,"end")}const l=[...new c$(e,{startRow:i,endRow:r,startColumn:o,endColumn:s,includeAllSlots:true})];for(const{row:e,column:t,cell:c,isAnchor:d,cellAnchorRow:u,cellAnchorColumn:h}of l){const l=e-i;const f=a.getChild(l);if(!d){if(u<i||h<o){JW(n,n.createPositionAt(f,"end"))}}else{const i=n.cloneElement(c);n.append(i,f);D$(i,e,t,r,s,n)}}T$(a,e,i,o,n);return a}function C$(e,t,n=0){const i=[];const o=new c$(e,{startRow:n,endRow:t-1});for(const e of o){const{row:n,cellHeight:o}=e;const r=n+o-1;if(n<t&&t<=r){i.push(e)}}return i}function y$(e,t,n){const i=e.parent;const o=i.parent;const r=i.index;const s=parseInt(e.getAttribute("rowspan"));const a=t-r;const c={};const l=s-a;if(l>1){c.rowspan=l}const d=parseInt(e.getAttribute("colspan")||"1");if(d>1){c.colspan=d}const u=r;const h=u+a;const f=[...new c$(o,{startRow:u,endRow:h,includeAllSlots:true})];let g=null;let m;for(const t of f){const{row:i,column:o,cell:r}=t;if(r===e&&m===undefined){m=o}if(m!==undefined&&m===o&&i===h){g=JW(n,t.getPositionBefore(),c)}}QW("rowspan",a,e,n);return g}function x$(e,t){const n=[];const i=new c$(e);for(const e of i){const{column:i,cellWidth:o}=e;const r=i+o-1;if(i<t&&t<=r){n.push(e)}}return n}function E$(e,t,n,i){const o=parseInt(e.getAttribute("colspan"));const r=n-t;const s={};const a=o-r;if(a>1){s.colspan=a}const c=parseInt(e.getAttribute("rowspan")||"1");if(c>1){s.rowspan=c}const l=JW(i,i.createPositionAfter(e),s);QW("colspan",r,e,i);return l}function D$(e,t,n,i,o,r){const s=parseInt(e.getAttribute("colspan")||"1");const a=parseInt(e.getAttribute("rowspan")||"1");const c=n+s-1;if(c>o){const t=o-n+1;QW("colspan",t,e,r,1)}const l=t+a-1;if(l>i){const n=i-t+1;QW("rowspan",n,e,r,1)}}function T$(e,t,n,i,o){const r=parseInt(t.getAttribute("headingRows")||"0");if(r>0){const t=r-n;QW("headingRows",t,e,o,0)}const s=parseInt(t.getAttribute("headingColumns")||"0");if(s>0){const t=s-i;QW("headingColumns",t,e,o,0)}}function M$(e,t){const n=t.getColumns(e);const i=new Array(n).fill(0);for(const{column:t}of new c$(e)){i[t]++}const o=i.reduce(((e,t,n)=>t?e:[...e,n]),[]);if(o.length>0){const n=o[o.length-1];t.removeColumns(e,{at:n});return true}return false}function I$(e,t){const n=[];const i=t.getRows(e);for(let t=0;t<i;t++){const i=e.getChild(t);if(i.isEmpty){n.push(t)}}if(n.length>0){const i=n[n.length-1];t.removeRows(e,{at:i});return true}return false}function S$(e,t){const n=M$(e,t);if(!n){I$(e,t)}}function B$(e,t){const n=Array.from(new c$(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));const i=n.every((({cellHeight:e})=>e===1));if(i){return t.lastRow}const o=n[0].cellHeight-1;return t.lastRow+o}function N$(e,t){const n=Array.from(new c$(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));const i=n.every((({cellWidth:e})=>e===1));if(i){return t.lastColumn}const o=n[0].cellWidth-1;return t.lastColumn+o}class z$ extends Eu{constructor(e,t){super(e);this.direction=t.direction;this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e;this.isEnabled=!!e}execute(){const e=this.editor.model;const t=e.document;const n=this.editor.plugins.get("TableUtils");const i=n.getTableCellsContainingSelection(t.selection)[0];const o=this.value;const r=this.direction;e.change((e=>{const t=r=="right"||r=="down";const n=t?i:o;const s=t?o:i;const a=s.parent;O$(s,n,e);const c=this.isHorizontal?"colspan":"rowspan";const l=parseInt(i.getAttribute(c)||"1");const d=parseInt(o.getAttribute(c)||"1");e.setAttribute(c,l+d,n);e.setSelection(e.createRangeIn(n));const u=this.editor.plugins.get("TableUtils");const h=a.findAncestor("table");S$(h,u)}))}_getMergeableCell(){const e=this.editor.model;const t=e.document;const n=this.editor.plugins.get("TableUtils");const i=n.getTableCellsContainingSelection(t.selection)[0];if(!i){return}const o=this.isHorizontal?P$(i,this.direction,n):L$(i,this.direction,n);if(!o){return}const r=this.isHorizontal?"rowspan":"colspan";const s=parseInt(i.getAttribute(r)||"1");const a=parseInt(o.getAttribute(r)||"1");if(a===s){return o}}}function P$(e,t,n){const i=e.parent;const o=i.parent;const r=t=="right"?e.nextSibling:e.previousSibling;const s=(o.getAttribute("headingColumns")||0)>0;if(!r){return}const a=t=="right"?e:r;const c=t=="right"?r:e;const{column:l}=n.getCellLocation(a);const{column:d}=n.getCellLocation(c);const u=parseInt(a.getAttribute("colspan")||"1");const h=XW(n,a);const f=XW(n,c);if(s&&h!=f){return}const g=l+u===d;return g?r:undefined}function L$(e,t,n){const i=e.parent;const o=i.parent;const r=o.getChildIndex(i);if(t=="down"&&r===n.getRows(o)-1||t=="up"&&r===0){return null}const s=parseInt(e.getAttribute("rowspan")||"1");const a=o.getAttribute("headingRows")||0;const c=t=="down"&&r+s===a;const l=t=="up"&&r===a;if(a&&(c||l)){return null}const d=parseInt(e.getAttribute("rowspan")||"1");const u=t=="down"?r+d:r;const h=[...new c$(o,{endRow:u})];const f=h.find((t=>t.cell===e));const g=f.column;const m=h.find((({row:e,cellHeight:n,column:i})=>{if(i!==g){return false}if(t=="down"){return e===u}else{return u===e+n}}));return m&&m.cell?m.cell:null}function O$(e,t,n){if(!R$(e)){if(R$(t)){n.remove(n.createRangeIn(t))}n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))}n.remove(e)}function R$(e){const t=e.getChild(0);return e.childCount==1&&t.is("element","paragraph")&&t.isEmpty}class j$ extends Eu{refresh(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection);const n=t[0];if(n){const i=n.findAncestor("table");const o=e.getRows(i);const r=o-1;const s=e.getRowIndexes(t);const a=s.first===0&&s.last===r;this.isEnabled=!a}else{this.isEnabled=false}}execute(){const e=this.editor.model;const t=this.editor.plugins.get("TableUtils");const n=t.getSelectionAffectedTableCells(e.document.selection);const i=t.getRowIndexes(n);const o=n[0];const r=o.findAncestor("table");const s=t.getCellLocation(o).column;e.change((e=>{const n=i.last-i.first+1;t.removeRows(r,{at:i.first,rows:n});const o=F$(r,i.first,s,t.getRows(r));e.setSelection(e.createPositionAt(o,0))}))}}function F$(e,t,n,i){const o=e.getChild(Math.min(t,i-1));let r=o.getChild(0);let s=0;for(const e of o.getChildren()){if(s>n){return r}r=e;s+=parseInt(e.getAttribute("colspan")||"1")}return r}class V$ extends Eu{refresh(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection);const n=t[0];if(n){const i=n.findAncestor("table");const o=e.getColumns(i);const{first:r,last:s}=e.getColumnIndexes(t);this.isEnabled=s-r<o-1}else{this.isEnabled=false}}execute(){const e=this.editor.plugins.get("TableUtils");const[t,n]=U$(this.editor.model.document.selection,e);const i=t.parent.parent;const o=[...new c$(i)];const r={first:o.find((e=>e.cell===t)).column,last:o.find((e=>e.cell===n)).column};const s=H$(o,t,n,r);this.editor.model.change((t=>{const n=r.last-r.first+1;e.removeColumns(i,{at:r.first,columns:n});t.setSelection(t.createPositionAt(s,0))}))}}function H$(e,t,n,i){const o=parseInt(n.getAttribute("colspan")||"1");if(o>1){return n}else if(t.previousSibling||n.nextSibling){return n.nextSibling||t.previousSibling}else{if(i.first){return e.reverse().find((({column:e})=>e<i.first)).cell}else{return e.reverse().find((({column:e})=>e>i.last)).cell}}}function U$(e,t){const n=t.getSelectionAffectedTableCells(e);const i=n[0];const o=n.pop();const r=[i,o];return i.isBefore(o)?r:r.reverse()}class W$ extends Eu{refresh(){const e=this.editor.plugins.get("TableUtils");const t=this.editor.model;const n=e.getSelectionAffectedTableCells(t.document.selection);const i=n.length>0;this.isEnabled=i;this.value=i&&n.every((e=>this._isInHeading(e,e.parent.parent)))}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.plugins.get("TableUtils");const n=this.editor.model;const i=t.getSelectionAffectedTableCells(n.document.selection);const o=i[0].findAncestor("table");const{first:r,last:s}=t.getRowIndexes(i);const a=this.value?r:s+1;const c=o.getAttribute("headingRows")||0;n.change((e=>{if(a){const t=a>c?c:0;const n=C$(o,a,t);for(const{cell:t}of n){y$(t,a,e)}}QW("headingRows",a,o,e,0)}))}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class $$ extends Eu{refresh(){const e=this.editor.model;const t=this.editor.plugins.get("TableUtils");const n=t.getSelectionAffectedTableCells(e.document.selection);const i=n.length>0;this.isEnabled=i;this.value=i&&n.every((e=>XW(t,e)))}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.plugins.get("TableUtils");const n=this.editor.model;const i=t.getSelectionAffectedTableCells(n.document.selection);const o=i[0].findAncestor("table");const{first:r,last:s}=t.getColumnIndexes(i);const a=this.value?r:s+1;n.change((e=>{if(a){const t=x$(o,a);for(const{cell:n,column:i}of t){E$(n,i,a,e)}}QW("headingColumns",a,o,e,0)}))}}class q$ extends yu{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns");this.decorate("insertRows")}getCellLocation(e){const t=e.parent;const n=t.parent;const i=n.getChildIndex(t);const o=new c$(n,{row:i});for(const{cell:t,row:n,column:i}of o){if(t===e){return{row:n,column:i}}}return undefined}createTable(e,t){const n=e.createElement("table");const i=t.rows||2;const o=t.columns||2;G$(e,n,0,i,o);if(t.headingRows){QW("headingRows",Math.min(t.headingRows,i),n,e,0)}if(t.headingColumns){QW("headingColumns",Math.min(t.headingColumns,o),n,e,0)}return n}insertRows(e,t={}){const n=this.editor.model;const i=t.at||0;const o=t.rows||1;const r=t.copyStructureFromAbove!==undefined;const s=t.copyStructureFromAbove?i-1:i;const a=this.getRows(e);const c=this.getColumns(e);if(i>a){throw new N("tableutils-insertrows-insert-out-of-range",this,{options:t})}n.change((t=>{const n=e.getAttribute("headingRows")||0;if(n>i){QW("headingRows",n+o,e,t,0)}if(!r&&(i===0||i===a)){G$(t,e,i,o,c);return}const l=r?Math.max(i,s):i;const d=new c$(e,{endRow:l});const u=new Array(c).fill(1);for(const{row:e,column:n,cellHeight:a,cellWidth:c,cell:l}of d){const d=e+a-1;const h=e<i&&i<=d;const f=e<=s&&s<=d;if(h){t.setAttribute("rowspan",a+o,l);u[n]=-c}else if(r&&f){u[n]=c}}for(let n=0;n<o;n++){const n=t.createElement("tableRow");t.insert(n,e,i);for(let e=0;e<u.length;e++){const i=u[e];const o=t.createPositionAt(n,"end");if(i>0){JW(t,o,i>1?{colspan:i}:undefined)}e+=Math.abs(i)-1}}}))}insertColumns(e,t={}){const n=this.editor.model;const i=t.at||0;const o=t.columns||1;n.change((t=>{const n=e.getAttribute("headingColumns");if(i<n){t.setAttribute("headingColumns",n+o,e)}const r=this.getColumns(e);if(i===0||r===i){for(const n of e.getChildren()){if(!n.is("element","tableRow")){continue}Y$(o,t,t.createPositionAt(n,i?"end":0))}return}const s=new c$(e,{column:i,includeAllSlots:true});for(const e of s){const{row:n,cell:r,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:d}=e;if(a<i){t.setAttribute("colspan",l+o,r);const e=c+d-1;for(let t=n;t<=e;t++){s.skipRow(t)}}else{Y$(o,t,e.getPositionBefore())}}}))}removeRows(e,t){const n=this.editor.model;const i=t.rows||1;const o=this.getRows(e);const r=t.at;const s=r+i-1;if(s>o-1){throw new N("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t})}n.change((t=>{const n={first:r,last:s};const{cellsToMove:i,cellsToTrim:o}=J$(e,n);if(i.size){const n=s+1;X$(e,n,i,t)}for(let n=s;n>=r;n--){t.remove(e.getChild(n))}for(const{rowspan:e,cell:n}of o){QW("rowspan",e,n,t)}Q$(e,n,t);if(!M$(e,this)){I$(e,this)}}))}removeColumns(e,t){const n=this.editor.model;const i=t.at;const o=t.columns||1;const r=t.at+o-1;n.change((t=>{Z$(e,{first:i,last:r},t);for(let n=r;n>=i;n--){for(const{cell:i,column:o,cellWidth:r}of[...new c$(e)]){if(o<=n&&r>1&&o+r>n){QW("colspan",r-1,i,t)}else if(o===n){t.remove(i)}}}if(!I$(e,this)){M$(e,this)}}))}splitCellVertically(e,t=2){const n=this.editor.model;const i=e.parent;const o=i.parent;const r=parseInt(e.getAttribute("rowspan")||"1");const s=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const{newCellsSpan:i,updatedSpan:o}=K$(s,t);QW("colspan",o,e,n);const a={};if(i>1){a.colspan=i}if(r>1){a.rowspan=r}const c=s>t?t-1:s-1;Y$(c,n,n.createPositionAfter(e),a)}if(s<t){const i=t-s;const a=[...new c$(o)];const{column:c}=a.find((({cell:t})=>t===e));const l=a.filter((({cell:t,cellWidth:n,column:i})=>{const o=t!==e&&i===c;const r=i<c&&i+n>c;return o||r}));for(const{cell:e,cellWidth:t}of l){n.setAttribute("colspan",t+i,e)}const d={};if(r>1){d.rowspan=r}Y$(i,n,n.createPositionAfter(e),d);const u=o.getAttribute("headingColumns")||0;if(u>c){QW("headingColumns",u+i,o,n)}}}))}splitCellHorizontally(e,t=2){const n=this.editor.model;const i=e.parent;const o=i.parent;const r=o.getChildIndex(i);const s=parseInt(e.getAttribute("rowspan")||"1");const a=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const i=[...new c$(o,{startRow:r,endRow:r+s-1,includeAllSlots:true})];const{newCellsSpan:c,updatedSpan:l}=K$(s,t);QW("rowspan",l,e,n);const{column:d}=i.find((({cell:t})=>t===e));const u={};if(c>1){u.rowspan=c}if(a>1){u.colspan=a}for(const e of i){const{column:t,row:i}=e;const o=i>=r+l;const s=t===d;const a=(i+r+l)%c===0;if(o&&s&&a){Y$(1,n,e.getPositionBefore(),u)}}}if(s<t){const i=t-s;const c=[...new c$(o,{startRow:0,endRow:r})];for(const{cell:t,cellHeight:o,row:s}of c){if(t!==e&&s+o>r){const e=o+i;n.setAttribute("rowspan",e,t)}}const l={};if(a>1){l.colspan=a}G$(n,o,r+1,i,1,l);const d=o.getAttribute("headingRows")||0;if(d>r){QW("headingRows",d+i,o,n)}}}))}getColumns(e){const t=e.getChild(0);return[...t.getChildren()].reduce(((e,t)=>{const n=parseInt(t.getAttribute("colspan")||"1");return e+n}),0)}getRows(e){return Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0)}createTableWalker(e,t={}){return new c$(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const e=n.getContainedElement();if(e&&e.is("element","tableCell")){t.push(e)}}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor("tableCell");if(e){t.push(e)}}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);if(t.length){return t}return this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map((e=>e.parent.index));return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table");const n=[...new c$(t)];const i=n.filter((t=>e.includes(t.cell))).map((e=>e.column));return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e)){return false}const t=new Set;const n=new Set;let i=0;for(const o of e){const{row:e,column:r}=this.getCellLocation(o);const s=parseInt(o.getAttribute("rowspan"))||1;const a=parseInt(o.getAttribute("colspan"))||1;t.add(e);n.add(r);if(s>1){t.add(e+s-1)}if(a>1){n.add(r+a-1)}i+=s*a}const o=tq(t,n);return o==i}sortRanges(e){return Array.from(e).sort(eq)}_getFirstLastIndexesObject(e){const t=e.sort(((e,t)=>e-t));const n=t[0];const i=t[t.length-1];return{first:n,last:i}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table");const n=this.getRowIndexes(e);const i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i)){return false}const o=this.getColumnIndexes(e);const r=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(o,r)}_areIndexesInSameSection({first:e,last:t},n){const i=e<n;const o=t<n;return i===o}}function G$(e,t,n,i,o,r={}){for(let s=0;s<i;s++){const i=e.createElement("tableRow");e.insert(i,t,n);Y$(o,e,e.createPositionAt(i,"end"),r)}}function Y$(e,t,n,i={}){for(let o=0;o<e;o++){JW(t,n,i)}}function K$(e,t){if(e<t){return{newCellsSpan:1,updatedSpan:1}}const n=Math.floor(e/t);const i=e-n*t+n;return{newCellsSpan:n,updatedSpan:i}}function Z$(e,t,n){const i=e.getAttribute("headingColumns")||0;if(i&&t.first<i){const o=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-o,e)}}function Q$(e,{first:t,last:n},i){const o=e.getAttribute("headingRows")||0;if(t<o){const r=n<o?o-(n-t+1):t;QW("headingRows",r,e,i,0)}}function J$(e,{first:t,last:n}){const i=new Map;const o=[];for(const{row:r,column:s,cellHeight:a,cell:c}of new c$(e,{endRow:n})){const e=r+a-1;const l=r>=t&&r<=n&&e>n;if(l){const e=n-r+1;const t=a-e;i.set(s,{cell:c,rowspan:t})}const d=r<t&&e>=t;if(d){let i;if(e>=n){i=n-t+1}else{i=e-t+1}o.push({cell:c,rowspan:a-i})}}return{cellsToMove:i,cellsToTrim:o}}function X$(e,t,n,i){const o=new c$(e,{includeAllSlots:true,row:t});const r=[...o];const s=e.getChild(t);let a;for(const{column:e,cell:t,isAnchor:o}of r){if(n.has(e)){const{cell:t,rowspan:o}=n.get(e);const r=a?i.createPositionAfter(a):i.createPositionAt(s,0);i.move(i.createRangeOn(t),r);QW("rowspan",o,t,i);a=t}else if(o){a=t}}}function eq(e,t){const n=e.start;const i=t.start;return n.isBefore(i)?-1:1}function tq(e,t){const n=Array.from(e.values());const i=Array.from(t.values());const o=Math.max(...n);const r=Math.min(...n);const s=Math.max(...i);const a=Math.min(...i);return(o-r+1)*(s-a+1)}class nq extends Eu{refresh(){const e=this.editor.plugins.get(q$);const t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model;const t=this.editor.plugins.get(q$);e.change((n=>{const i=t.getSelectedTableCells(e.document.selection);const o=i.shift();const{mergeWidth:r,mergeHeight:s}=rq(o,i,t);QW("colspan",r,o,n);QW("rowspan",s,o,n);for(const e of i){iq(e,o,n)}const a=o.findAncestor("table");S$(a,t);n.setSelection(o,"in")}))}}function iq(e,t,n){if(!oq(e)){if(oq(t)){n.remove(n.createRangeIn(t))}n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))}n.remove(e)}function oq(e){const t=e.getChild(0);return e.childCount==1&&t.is("element","paragraph")&&t.isEmpty}function rq(e,t,n){let i=0;let o=0;for(const e of t){const{row:t,column:r}=n.getCellLocation(e);i=sq(e,r,i,"colspan");o=sq(e,t,o,"rowspan")}const{row:r,column:s}=n.getCellLocation(e);const a=i-s;const c=o-r;return{mergeWidth:a,mergeHeight:c}}function sq(e,t,n,i){const o=parseInt(e.getAttribute(i)||"1");return Math.max(n,t+o)}class aq extends Eu{constructor(e){super(e);this.affectsData=false}refresh(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model;const t=this.editor.plugins.get("TableUtils");const n=t.getSelectionAffectedTableCells(e.document.selection);const i=t.getRowIndexes(n);const o=n[0].findAncestor("table");const r=[];for(let t=i.first;t<=i.last;t++){for(const n of o.getChild(t).getChildren()){r.push(e.createRangeOn(n))}}e.change((e=>{e.setSelection(r)}))}}class cq extends Eu{constructor(e){super(e);this.affectsData=false}refresh(){const e=this.editor.plugins.get("TableUtils");const t=e.getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils");const t=this.editor.model;const n=e.getSelectionAffectedTableCells(t.document.selection);const i=n[0];const o=n.pop();const r=i.findAncestor("table");const s=e.getCellLocation(i);const a=e.getCellLocation(o);const c=Math.min(s.column,a.column);const l=Math.max(s.column,a.column);const d=[];for(const e of new c$(r,{startColumn:c,endColumn:l})){d.push(t.createRangeOn(e.cell))}t.change((e=>{e.setSelection(d)}))}}function lq(e){e.document.registerPostFixer((t=>dq(t,e)))}function dq(e,t){const n=t.document.differ.getChanges();let i=false;const o=new Set;for(const t of n){let n=null;if(t.type=="insert"&&t.name=="table"){n=t.position.nodeAfter}if((t.type=="insert"||t.type=="remove")&&(t.name=="tableRow"||t.name=="tableCell")){n=t.position.findAncestor("table")}if(mq(t)){n=t.range.start.findAncestor("table")}if(n&&!o.has(n)){i=uq(n,e)||i;i=hq(n,e)||i;o.add(n)}}return i}function uq(e,t){let n=false;const i=fq(e);if(i.length){n=true;for(const e of i){QW("rowspan",e.rowspan,e.cell,t,1)}}return n}function hq(e,t){let n=false;const i=gq(e);const o=[];for(const[t,n]of i.entries()){if(!n&&e.getChild(t).is("element","tableRow")){o.push(t)}}if(o.length){n=true;for(const n of o.reverse()){t.remove(e.getChild(n));i.splice(n,1)}}const r=i.filter(((t,n)=>e.getChild(n).is("element","tableRow")));const s=r[0];const a=r.every((e=>e===s));if(!a){const i=r.reduce(((e,t)=>t>e?t:e),0);for(const[o,s]of r.entries()){const r=i-s;if(r){for(let n=0;n<r;n++){JW(t,t.createPositionAt(e.getChild(o),"end"))}n=true}}}return n}function fq(e){const t=parseInt(e.getAttribute("headingRows")||"0");const n=Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0);const i=[];for(const{row:o,cell:r,cellHeight:s}of new c$(e)){if(s<2){continue}const e=o<t;const a=e?t:n;if(o+s>a){const e=a-o;i.push({cell:r,rowspan:e})}}return i}function gq(e){const t=new Array(e.childCount).fill(0);for(const{rowIndex:n}of new c$(e,{includeAllSlots:true})){t[n]++}return t}function mq(e){if(e.type!=="attribute"){return false}const t=e.attributeKey;return t==="headingRows"||t==="colspan"||t==="rowspan"}function pq(e){e.document.registerPostFixer((t=>bq(t,e)))}function bq(e,t){const n=t.document.differ.getChanges();let i=false;for(const t of n){if(t.type=="insert"&&t.name=="table"){i=kq(t.position.nodeAfter,e)||i}if(t.type=="insert"&&t.name=="tableRow"){i=wq(t.position.nodeAfter,e)||i}if(t.type=="insert"&&t.name=="tableCell"){i=_q(t.position.nodeAfter,e)||i}if((t.type=="remove"||t.type=="insert")&&Aq(t)){i=_q(t.position.parent,e)||i}}return i}function kq(e,t){let n=false;for(const i of e.getChildren()){if(i.is("element","tableRow")){n=wq(i,t)||n}}return n}function wq(e,t){let n=false;for(const i of e.getChildren()){n=_q(i,t)||n}return n}function _q(e,t){if(e.childCount==0){t.insertElement("paragraph",e);return true}const n=Array.from(e.getChildren()).filter((e=>e.is("$text")));for(const e of n){t.wrap(t.createRangeOn(e),"paragraph")}return!!n.length}function Aq(e){if(!e.position.parent.is("element","tableCell")){return false}return e.type=="insert"&&e.name=="$text"||e.type=="remove"}function vq(e,t){const n=e.document.differ;for(const e of n.getChanges()){let n;let i=false;if(e.type=="attribute"){const t=e.range.start.nodeAfter;if(!t||!t.is("element","table")){continue}if(e.attributeKey!="headingRows"&&e.attributeKey!="headingColumns"){continue}n=t;i=e.attributeKey=="headingRows"}else if(e.name=="tableRow"||e.name=="tableCell"){n=e.position.findAncestor("table");i=e.name=="tableRow"}if(!n){continue}const o=n.getAttribute("headingRows")||0;const r=n.getAttribute("headingColumns")||0;const s=new c$(n);for(const e of s){const n=e.row<o||e.column<r;const s=n?"th":"td";const a=t.mapper.toViewElement(e.cell);if(a&&a.is("element")&&a.name!=s){t.reconvertItem(i?e.cell.parent:e.cell)}}}}function Cq(e,t){const n=e.document.differ;const i=new Set;for(const e of n.getChanges()){const t=e.type=="attribute"?e.range.start.parent:e.position.parent;if(t.is("element","tableCell")){i.add(t)}}for(const e of i.values()){const n=Array.from(e.getChildren()).filter((e=>yq(e,t.mapper)));for(const e of n){t.reconvertItem(e)}}}function yq(e,t){if(!e.is("element","paragraph")){return false}const n=t.toViewElement(e);if(!n){return false}return g$(e)!==n.is("element","span")}var xq=__webpack_require__(4777);var Eq={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Eq.insert="head";Eq.singleton=true;var Dq=zl()(xq.Z,Eq);const Tq=xq.Z.locals||{};class Mq extends yu{static get pluginName(){return"TableEditing"}static get requires(){return[q$]}constructor(e){super(e);this._additionalSlots=[]}init(){const e=this.editor;const t=e.model;const n=t.schema;const i=e.conversion;const o=e.plugins.get(q$);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]});n.register("tableRow",{allowIn:"table",isLimit:true});n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:true,isSelectable:true});i.for("upcast").add(t$());i.for("upcast").add(n$());i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:d$(o,{asWidget:true,additionalSlots:this._additionalSlots})});i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:d$(o,{additionalSlots:this._additionalSlots})});i.for("upcast").elementToElement({model:"tableRow",view:"tr"});i.for("upcast").add(i$());i.for("downcast").elementToElement({model:"tableRow",view:u$()});i.for("upcast").elementToElement({model:"tableCell",view:"td"});i.for("upcast").elementToElement({model:"tableCell",view:"th"});i.for("upcast").add(o$("td"));i.for("upcast").add(o$("th"));i.for("editingDowncast").elementToElement({model:"tableCell",view:h$({asWidget:true})});i.for("dataDowncast").elementToElement({model:"tableCell",view:h$()});i.for("editingDowncast").elementToElement({model:"paragraph",view:f$({asWidget:true}),converterPriority:"high"});i.for("dataDowncast").elementToElement({model:"paragraph",view:f$(),converterPriority:"high"});i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"});i.for("upcast").attributeToAttribute({model:{key:"colspan",value:Iq("colspan")},view:"colspan"});i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"});i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Iq("rowspan")},view:"rowspan"});e.config.define("table.defaultHeadings.rows",0);e.config.define("table.defaultHeadings.columns",0);e.commands.add("insertTable",new b$(e));e.commands.add("insertTableRowAbove",new w$(e,{order:"above"}));e.commands.add("insertTableRowBelow",new w$(e,{order:"below"}));e.commands.add("insertTableColumnLeft",new _$(e,{order:"left"}));e.commands.add("insertTableColumnRight",new _$(e,{order:"right"}));e.commands.add("removeTableRow",new j$(e));e.commands.add("removeTableColumn",new V$(e));e.commands.add("splitTableCellVertically",new A$(e,{direction:"vertically"}));e.commands.add("splitTableCellHorizontally",new A$(e,{direction:"horizontally"}));e.commands.add("mergeTableCells",new nq(e));e.commands.add("mergeTableCellRight",new z$(e,{direction:"right"}));e.commands.add("mergeTableCellLeft",new z$(e,{direction:"left"}));e.commands.add("mergeTableCellDown",new z$(e,{direction:"down"}));e.commands.add("mergeTableCellUp",new z$(e,{direction:"up"}));e.commands.add("setTableColumnHeader",new $$(e));e.commands.add("setTableRowHeader",new W$(e));e.commands.add("selectTableRow",new aq(e));e.commands.add("selectTableColumn",new cq(e));lq(t);pq(t);this.listenTo(t.document,"change:data",(()=>{vq(t,e.editing);Cq(t,e.editing)}))}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function Iq(e){return t=>{const n=parseInt(t.getAttribute(e));if(Number.isNaN(n)||n<=0){return null}return n}}var Sq=__webpack_require__(8085);var Bq={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Bq.insert="head";Bq.singleton=true;var Nq=zl()(Sq.Z,Bq);const zq=Sq.Z.locals||{};class Pq extends jl{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection();this.keystrokes=new pl;this.focusTracker=new ml;this.set("rows",0);this.set("columns",0);this.bind("label").to(this,"columns",this,"rows",((e,t)=>`${t} × ${e}`));this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":true},children:[{text:t.to("label")}]}],on:{mousedown:t.to((e=>{e.preventDefault()})),click:t.to((()=>{this.fire("execute")}))}});this.on("boxover",((e,t)=>{const{row:n,column:i}=t.target.dataset;this.items.get((parseInt(n,10)-1)*10+(parseInt(i,10)-1)).focus()}));this.focusTracker.on("change:focusedElement",((e,t,n)=>{if(!n){return}const{row:i,column:o}=n.dataset;this.set({rows:parseInt(i),columns:parseInt(o)})}));this.on("change:columns",(()=>this._highlightGridBoxes()));this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render();i({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items){this.focusTracker.add(e.element)}this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows;const t=this.columns;this.items.map(((n,i)=>{const o=Math.floor(i/10);const r=i%10;const s=o<e&&r<t;n.set("isOn",s)}))}_createGridButton(e,t,n,i){const o=new yd(e);o.set({label:i,class:"ck-insert-table-dropdown-grid-box"});o.extendTemplate({attributes:{"data-row":t,"data-column":n}});return o}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10);const i=t%10;const o=`${n+1} × ${i+1}`;e.push(this._createGridButton(this.locale,n+1,i+1,o))}return this.createCollection(e)}}const Lq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';const Oq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';const Rq='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class jq extends yu{static get pluginName(){return"TableUI"}init(){const e=this.editor;const t=this.editor.t;const n=e.locale.contentLanguageDirection;const i=n==="ltr";e.ui.componentFactory.add("insertTable",(n=>{const i=e.commands.get("insertTable");const o=oy(n);o.bind("isEnabled").to(i);o.buttonView.set({icon:CW,label:t("Insert table"),tooltip:true});let r;o.on("change:isOpen",(()=>{if(r){return}r=new Pq(n);o.panelView.children.add(r);r.delegate("execute").to(o);o.on("execute",(()=>{e.execute("insertTable",{rows:r.rows,columns:r.columns});e.editing.view.focus()}))}));return o}));e.ui.componentFactory.add("tableColumn",(e=>{const n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),Lq,n,e)}));e.ui.componentFactory.add("tableRow",(e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),Oq,n,e)}));e.ui.componentFactory.add("mergeTableCells",(e=>{const n=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),Rq,n,e)}))}_prepareDropdown(e,t,n,i){const o=this.editor;const r=oy(i);const s=this._fillDropdownWithListOptions(r,n);r.buttonView.set({label:e,icon:t,tooltip:true});r.bind("isEnabled").toMany(s,"isEnabled",((...e)=>e.some((e=>e))));this.listenTo(r,"execute",(e=>{o.execute(e.source.commandName);if(!(e.source instanceof Md)){o.editing.view.focus()}}));return r}_prepareMergeSplitButtonDropdown(e,t,n,i){const o=this.editor;const r=oy(i,KC);const s="mergeTableCells";const a=o.commands.get(s);const c=this._fillDropdownWithListOptions(r,n);r.buttonView.set({label:e,icon:t,tooltip:true,isEnabled:true});r.bind("isEnabled").toMany([a,...c],"isEnabled",((...e)=>e.some((e=>e))));this.listenTo(r.buttonView,"execute",(()=>{o.execute(s);o.editing.view.focus()}));this.listenTo(r,"execute",(e=>{o.execute(e.source.commandName);o.editing.view.focus()}));return r}_fillDropdownWithListOptions(e,t){const n=this.editor;const i=[];const o=new fl;for(const e of t){Fq(e,n,i,o)}ay(e,o);return i}}function Fq(e,t,n,i){if(e.type==="button"||e.type==="switchbutton"){const i=e.model=new BE(e.model);const{commandName:o,bindIsOn:r}=e.model;const s=t.commands.get(o);n.push(s);i.set({commandName:o});i.bind("isEnabled").to(s);if(r){i.bind("isOn").to(s,"value")}i.set({withText:true})}i.add(e)}var Vq=__webpack_require__(5593);var Hq={injectType:"singletonStyleTag",attributes:{"data-cke":true}};Hq.insert="head";Hq.singleton=true;var Uq=zl()(Vq.Z,Hq);const Wq=Vq.Z.locals||{};class $q extends yu{static get pluginName(){return"TableSelection"}static get requires(){return[q$,q$]}init(){const e=this.editor;const t=e.model;const n=e.editing.view;this.listenTo(t,"deleteContent",((e,t)=>this._handleDeleteContent(e,t)),{priority:"high"});this.listenTo(n.document,"insertText",((e,t)=>this._handleInsertTextEvent(e,t)),{priority:"high"});this._defineSelectionConverter();this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(q$);const t=this.editor.model.document.selection;const n=e.getSelectedTableCells(t);if(n.length==0){return null}return n}getSelectionAsFragment(){const e=this.editor.plugins.get(q$);const t=this.getSelectedTableCells();if(!t){return null}return this.editor.model.change((n=>{const i=n.createDocumentFragment();const{first:o,last:r}=e.getColumnIndexes(t);const{first:s,last:a}=e.getRowIndexes(t);const c=t[0].findAncestor("table");let l=a;let d=r;if(e.isSelectionRectangular(t)){const e={firstColumn:o,lastColumn:r,firstRow:s,lastRow:a};l=B$(c,e);d=N$(c,e)}const u={startRow:s,startColumn:o,endRow:l,endColumn:d};const h=v$(c,u,n);n.insert(h,i,0);return i}))}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change((e=>{e.setSelection(n.cells.map((t=>e.createRangeOn(t))),{backward:n.backward})}))}getFocusCell(){const e=this.editor.model.document.selection;const t=[...e.getRanges()].pop();const n=t.getContainedElement();if(n&&n.is("element","tableCell")){return n}return null}getAnchorCell(){const e=this.editor.model.document.selection;const t=gl(e.getRanges());const n=t.getContainedElement();if(n&&n.is("element","tableCell")){return n}return null}_defineSelectionConverter(){const e=this.editor;const t=new Set;e.conversion.for("editingDowncast").add((e=>e.on("selection",((e,i,o)=>{const r=o.writer;n(r);const s=this.getSelectedTableCells();if(!s){return}for(const e of s){const n=o.mapper.toViewElement(e);r.addClass("ck-editor__editable_selected",n);t.add(n)}const a=o.mapper.toViewElement(s[s.length-1]);r.setSelection(a,0)}),{priority:"lowest"})));function n(e){for(const n of t){e.removeClass("ck-editor__editable_selected",n)}t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t){return}e.model.change((n=>{const i=n.createPositionAt(t[0],0);const o=e.model.schema.getNearestSelectionRange(i);n.setSelection(o)}))}}))}_handleDeleteContent(e,t){const n=this.editor.plugins.get(q$);const i=t[0];const o=t[1];const r=this.editor.model;const s=!o||o.direction=="backward";const a=n.getSelectedTableCells(i);if(!a.length){return}e.stop();r.change((e=>{const t=a[s?a.length-1:0];r.change((e=>{for(const t of a){r.deleteContent(e.createSelection(t,"in"))}}));const n=r.schema.getNearestSelectionRange(e.createPositionAt(t,0));if(i.is("documentSelection")){e.setSelection(n)}else{i.setTo(n)}}))}_handleInsertTextEvent(e,t){const n=this.editor;const i=this.getSelectedTableCells();if(!i){return}const o=n.editing.view;const r=n.editing.mapper;const s=i.map((e=>o.createRangeOn(r.toViewElement(e))));t.selection=o.createSelection(s)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils");const i=n.getCellLocation(e);const o=n.getCellLocation(t);const r=Math.min(i.row,o.row);const s=Math.max(i.row,o.row);const a=Math.min(i.column,o.column);const c=Math.max(i.column,o.column);const l=new Array(s-r+1).fill(null).map((()=>[]));const d={startRow:r,endRow:s,startColumn:a,endColumn:c};for(const{row:t,cell:n}of new c$(e.findAncestor("table"),d)){l[t-r].push(n)}const u=o.row<i.row;const h=o.column<i.column;if(u){l.reverse()}if(h){l.forEach((e=>e.reverse()))}return{cells:l.flat(),backward:u||h}}}class qq extends yu{static get pluginName(){return"TableClipboard"}static get requires(){return[$q,q$]}init(){const e=this.editor;const t=e.editing.view.document;this.listenTo(t,"copy",((e,t)=>this._onCopyCut(e,t)));this.listenTo(t,"cut",((e,t)=>this._onCopyCut(e,t)));this.listenTo(e.model,"insertContent",((e,[t,n])=>this._onInsertContent(e,t,n)),{priority:"high"});this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.plugins.get($q);if(!n.getSelectedTableCells()){return}if(e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)){return}t.preventDefault();e.stop();const i=this.editor.data;const o=this.editor.editing.view.document;const r=i.toView(n.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:r,method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection")){return}const i=this.editor.model;const o=this.editor.plugins.get(q$);let r=this.getTableIfOnlyTableInContent(t,i);if(!r){return}const s=o.getSelectionAffectedTableCells(i.document.selection);if(!s.length){S$(r,o);return}e.stop();i.change((e=>{const t={width:o.getColumns(r),height:o.getRows(r)};const n=Gq(s,t,e,o);const i=n.lastRow-n.firstRow+1;const a=n.lastColumn-n.firstColumn+1;const c={startRow:0,startColumn:0,endRow:Math.min(i,t.height)-1,endColumn:Math.min(a,t.width)-1};r=v$(r,c,e);const l=s[0].findAncestor("table");const d=this._replaceSelectedCellsWithPasted(r,t,l,n,e);if(this.editor.plugins.get("TableSelection").isEnabled){const t=o.sortRanges(d.map((t=>e.createRangeOn(t))));e.setSelection(t)}else{e.setSelection(d[0],0)}}))}_replaceSelectedCellsWithPasted(e,t,n,i,o){const{width:r,height:s}=t;const a=Kq(e,r,s);const c=[...new c$(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:true})];const l=[];let d;for(const e of c){const{row:t,column:n}=e;if(n===i.firstColumn){d=e.getPositionBefore()}const c=t-i.firstRow;const u=n-i.firstColumn;const h=a[c%s][u%r];const f=h?o.cloneElement(h):null;const g=this._replaceTableSlotCell(e,f,d,o);if(!g){continue}D$(g,t,n,i.lastRow,i.lastColumn,o);l.push(g);d=o.createPositionAfter(g)}const u=parseInt(n.getAttribute("headingRows")||"0");const h=parseInt(n.getAttribute("headingColumns")||"0");const f=i.firstRow<u&&u<=i.lastRow;const g=i.firstColumn<h&&h<=i.lastColumn;if(f){const e={first:i.firstColumn,last:i.lastColumn};const t=Qq(n,u,e,o,i.firstRow);l.push(...t)}if(g){const e={first:i.firstRow,last:i.lastRow};const t=Jq(n,h,e,o);l.push(...t)}return l}_replaceTableSlotCell(e,t,n,i){const{cell:o,isAnchor:r}=e;if(r){i.remove(o)}if(!t){return null}i.insert(t,n);return t}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element")){return null}if(e.is("element","table")){return e}if(e.childCount==1&&e.getChild(0).is("element","table")){return e.getChild(0)}const n=t.createRangeIn(e);for(const e of n.getItems()){if(e.is("element","table")){const i=t.createRange(n.start,t.createPositionBefore(e));if(t.hasContent(i,{ignoreWhitespaces:true})){return null}const o=t.createRange(t.createPositionAfter(e),n.end);if(t.hasContent(o,{ignoreWhitespaces:true})){return null}return e}}return null}}function Gq(e,t,n,i){const o=e[0].findAncestor("table");const r=i.getColumnIndexes(e);const s=i.getRowIndexes(e);const a={firstColumn:r.first,lastColumn:r.last,firstRow:s.first,lastRow:s.last};const c=e.length===1;if(c){a.lastRow+=t.height-1;a.lastColumn+=t.width-1;Yq(o,a.lastRow+1,a.lastColumn+1,i)}if(c||!i.isSelectionRectangular(e)){Zq(o,a,n)}else{a.lastRow=B$(o,a);a.lastColumn=N$(o,a)}return a}function Yq(e,t,n,i){const o=i.getColumns(e);const r=i.getRows(e);if(n>o){i.insertColumns(e,{at:o,columns:n-o})}if(t>r){i.insertRows(e,{at:r,rows:t-r})}}function Kq(e,t,n){const i=new Array(n).fill(null).map((()=>new Array(t).fill(null)));for(const{column:t,row:n,cell:o}of new c$(e)){i[n][t]=o}return i}function Zq(e,t,n){const{firstRow:i,lastRow:o,firstColumn:r,lastColumn:s}=t;const a={first:i,last:o};const c={first:r,last:s};Jq(e,r,a,n);Jq(e,s+1,a,n);Qq(e,i,c,n);Qq(e,o+1,c,n,i)}function Qq(e,t,n,i,o=0){if(t<1){return}const r=C$(e,t,o);const s=r.filter((({column:e,cellWidth:t})=>Xq(e,t,n)));return s.map((({cell:e})=>y$(e,t,i)))}function Jq(e,t,n,i){if(t<1){return}const o=x$(e,t);const r=o.filter((({row:e,cellHeight:t})=>Xq(e,t,n)));return r.map((({cell:e,column:n})=>E$(e,n,t,i)))}function Xq(e,t,n){const i=e+t-1;const{first:o,last:r}=n;const s=e>=o&&e<=r;const a=e<o&&i>=o;return s||a}class eG extends yu{static get pluginName(){return"TableKeyboard"}static get requires(){return[$q,q$]}init(){const e=this.editor.editing.view;const t=e.document;this.listenTo(t,"arrowKey",((...e)=>this._onArrowKey(...e)),{context:"table"});this.listenTo(t,"tab",((...e)=>this._handleTabOnSelectedTable(...e)),{context:"figure"});this.listenTo(t,"tab",((...e)=>this._handleTab(...e)),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const n=this.editor;const i=n.model.document.selection;const o=i.getSelectedElement();if(!o||!o.is("element","table")){return}t.preventDefault();t.stopPropagation();e.stop();n.model.change((e=>{e.setSelection(e.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor;const i=this.editor.plugins.get(q$);const o=this.editor.plugins.get("TableSelection");const r=n.model.document.selection;const s=!t.shiftKey;let a=i.getTableCellsContainingSelection(r)[0];if(!a){a=o.getFocusCell()}if(!a){return}t.preventDefault();t.stopPropagation();e.stop();const c=a.parent;const l=c.parent;const d=l.getChildIndex(c);const u=c.getChildIndex(a);const h=u===0;if(!s&&h&&d===0){n.model.change((e=>{e.setSelection(e.createRangeOn(l))}));return}const f=u===c.childCount-1;const g=d===i.getRows(l)-1;if(s&&g&&f){n.execute("insertTableRowBelow");if(d===i.getRows(l)-1){n.model.change((e=>{e.setSelection(e.createRangeOn(l))}));return}}let m;if(s&&f){const e=l.getChild(d+1);m=e.getChild(0)}else if(!s&&h){const e=l.getChild(d-1);m=e.getChild(e.childCount-1)}else{m=c.getChild(u+(s?1:-1))}n.model.change((e=>{e.setSelection(e.createRangeIn(m))}))}_onArrowKey(e,t){const n=this.editor;const i=t.keyCode;const o=Jc(i,n.locale.contentLanguageDirection);const r=this._handleArrowKeys(o,t.shiftKey);if(r){t.preventDefault();t.stopPropagation();e.stop()}}_handleArrowKeys(e,t){const n=this.editor.plugins.get(q$);const i=this.editor.plugins.get("TableSelection");const o=this.editor.model;const r=o.document.selection;const s=["right","down"].includes(e);const a=n.getSelectedTableCells(r);if(a.length){let n;if(t){n=i.getFocusCell()}else{n=s?a[a.length-1]:a[0]}this._navigateFromCellInDirection(n,e,t);return true}const c=r.focus.findAncestor("tableCell");if(!c){return false}if(!r.isCollapsed){if(t){if(r.isBackward==s&&!r.containsEntireContent(c)){return false}}else{const e=r.getSelectedElement();if(!e||!o.schema.isObject(e)){return false}}}if(this._isSelectionAtCellEdge(r,c,s)){this._navigateFromCellInDirection(c,e,t);return true}return false}_isSelectionAtCellEdge(e,t,n){const i=this.editor.model;const o=this.editor.model.schema;const r=n?e.getLastPosition():e.getFirstPosition();if(!o.getLimitElement(r).is("element","tableCell")){const e=i.createPositionAt(t,n?"end":0);return e.isTouching(r)}const s=i.createSelection(r);i.modifySelection(s,{direction:n?"forward":"backward"});return r.isEqual(s.focus)}_navigateFromCellInDirection(e,t,n=false){const i=this.editor.model;const o=e.findAncestor("table");const r=[...new c$(o,{includeAllSlots:true})];const{row:s,column:a}=r[r.length-1];const c=r.find((({cell:t})=>t==e));let{row:l,column:d}=c;switch(t){case"left":d--;break;case"up":l--;break;case"right":d+=c.cellWidth;break;case"down":l+=c.cellHeight;break}const u=l<0||l>s;const h=d<0&&l<=0;const f=d>a&&l>=s;if(u||h||f){i.change((e=>{e.setSelection(e.createRangeOn(o))}));return}if(d<0){d=n?0:a;l--}else if(d>a){d=n?a:0;l++}const g=r.find((e=>e.row==l&&e.column==d)).cell;const m=["right","down"].includes(t);const p=this.editor.plugins.get("TableSelection");if(n&&p.isEnabled){const t=p.getAnchorCell()||e;p.setCellSelection(t,g)}else{const e=i.createPositionAt(g,m?0:"end");i.change((t=>{t.setSelection(e)}))}}}class tG extends Bm{constructor(){super(...arguments);this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class nG extends yu{static get pluginName(){return"TableMouse"}static get requires(){return[$q,q$]}init(){const e=this.editor;e.editing.view.addObserver(tG);this._enableShiftClickSelection();this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor;const t=e.plugins.get(q$);let n=false;const i=e.plugins.get($q);this.listenTo(e.editing.view.document,"mousedown",((o,r)=>{const s=e.model.document.selection;if(!this.isEnabled||!i.isEnabled){return}if(!r.domEvent.shiftKey){return}const a=i.getAnchorCell()||t.getTableCellsContainingSelection(s)[0];if(!a){return}const c=this._getModelTableCellFromDomEvent(r);if(c&&iG(a,c)){n=true;i.setCellSelection(a,c);r.preventDefault()}}));this.listenTo(e.editing.view.document,"mouseup",(()=>{n=false}));this.listenTo(e.editing.view.document,"selectionChange",(e=>{if(n){e.stop()}}),{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n;let i=false;let o=false;const r=e.plugins.get($q);this.listenTo(e.editing.view.document,"mousedown",((e,n)=>{if(!this.isEnabled||!r.isEnabled){return}if(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey){return}t=this._getModelTableCellFromDomEvent(n)}));this.listenTo(e.editing.view.document,"mousemove",((e,s)=>{if(!s.domEvent.buttons){return}if(!t){return}const a=this._getModelTableCellFromDomEvent(s);if(a&&iG(t,a)){n=a;if(!i&&n!=t){i=true}}if(!i){return}o=true;r.setCellSelection(t,n);s.preventDefault()}));this.listenTo(e.editing.view.document,"mouseup",(()=>{i=false;o=false;t=null;n=null}));this.listenTo(e.editing.view.document,"selectionChange",(e=>{if(o){e.stop()}}),{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target;const n=this.editor.editing.view.createPositionAt(t,0);const i=this.editor.editing.mapper.toModelPosition(n);const o=i.parent;return o.findAncestor("tableCell",{includeSelf:true})}}function iG(e,t){return e.parent.parent==t.parent.parent}var oG=__webpack_require__(4104);var rG={injectType:"singletonStyleTag",attributes:{"data-cke":true}};rG.insert="head";rG.singleton=true;var sG=zl()(oG.Z,rG);const aG=oG.Z.locals||{};class cG extends yu{static get requires(){return[Mq,jq,$q,nG,eG,qq,DB]}static get pluginName(){return"Table"}}const lG=5;const dG=40;const uG=2;function hG(e){const t=new Set;for(const n of e.document.differ.getChanges()){let i=null;switch(n.type){case"insert":i=["table","tableRow","tableCell"].includes(n.name)?n.position:null;break;case"remove":i=["tableRow","tableCell"].includes(n.name)?n.position:null;break;case"attribute":if(n.range.start.nodeAfter){i=["table","tableRow","tableCell"].includes(n.range.start.nodeAfter.name)?n.range.start:null}break}if(!i){continue}const o=i.nodeAfter&&i.nodeAfter.is("element","table")?i.nodeAfter:i.findAncestor("table");for(const n of e.createRangeOn(o).getItems()){if(!n.is("element","table")){continue}if(!EG(n)){continue}t.add(n)}}return t}function fG(e,t){return dG*100/gG(e,t)}function gG(e,t){const n=mG(e,"tbody",t)||mG(e,"thead",t);const i=t.editing.view.domConverter.mapViewToDom(n);return pG(i)}function mG(e,t,n){const i=n.editing.mapper.toViewElement(e);const o=[...i.getChildren()].find((e=>e.is("element","table")));return[...o.getChildren()].find((e=>e.is("element",t)))}function pG(e){const t=nc.window.getComputedStyle(e);if(t.boxSizing==="border-box"){return parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{return parseFloat(t.width)}}function bG(e,t){const n=t.getCellLocation(e).column;const i=e.getAttribute("colspan")||1;return{leftEdge:n,rightEdge:n+i-1}}function kG(e){const t=Math.pow(10,uG);const n=typeof e==="number"?e:parseFloat(e);return Math.round(n*t)/t}function wG(e,t,n){if(e<=t){return kG(t)}if(e>=n){return kG(n)}return kG(e)}function _G(e,t){return Array(e).fill(t)}function AG(e){return e.map((e=>typeof e==="number"?e:parseFloat(e))).filter((e=>!Number.isNaN(e))).reduce(((e,t)=>e+t),0)}function vG(e){const t=e.map((e=>{if(e==="auto"){return e}return parseFloat(e.replace("%",""))}));let n=CG(t);const i=AG(n);if(i!==100){n=n.map((e=>kG(e*100/i))).map(((e,t,n)=>{const i=t===n.length-1;if(!i){return e}const o=AG(n);return kG(e+100-o)}))}return n.map((e=>e+"%"))}function CG(e){const t=e.filter((e=>e==="auto")).length;if(t===0){return e.map((e=>kG(e)))}const n=AG(e);const i=Math.max((100-n)/t,lG);return e.map((e=>e==="auto"?i:e)).map((e=>kG(e)))}function yG(e){const t=nc.window.getComputedStyle(e);if(t.boxSizing==="border-box"){return parseInt(t.width)}else{return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}}function xG(e,t,n,i){for(let o=0;o<Math.max(n.length,e.length);o++){const r=e[o];const s=n[o];if(!s){i.remove(r)}else if(!r){i.appendElement("tableColumn",{columnWidth:s},t)}else{i.setAttribute("columnWidth",s,r)}}}function EG(e){if(e.is("element","tableColumnGroup")){return e}const t=e.getChildren();return Array.from(t).find((e=>e.is("element","tableColumnGroup")))}function DG(e){return Array.from(EG(e).getChildren())}function TG(e){return DG(e).map((e=>e.getAttribute("columnWidth")))}class MG extends Eu{refresh(){this.isEnabled=true}execute(e={}){const{model:t,plugins:n}=this.editor;let{table:i=t.document.selection.getSelectedElement(),columnWidths:o,tableWidth:r}=e;if(o){o=Array.isArray(o)?o:o.split(",")}t.change((e=>{if(r){e.setAttribute("tableWidth",r,i)}else{e.removeAttribute("tableWidth",i)}const t=n.get("TableColumnResizeEditing").getColumnGroupElement(i);if(!o&&!t){return}if(!o){return e.remove(t)}const s=vG(o);if(!t){const t=e.createElement("tableColumnGroup");s.forEach((n=>e.appendElement("tableColumn",{columnWidth:n},t)));e.append(t,i)}else{Array.from(t.getChildren()).forEach(((t,n)=>e.setAttribute("columnWidth",s[n],t)))}}))}}function IG(e){return t=>t.on("element:colgroup",((t,n,i)=>{const o=n.modelCursor.findAncestor("table");const r=EG(o);if(!r){return}const s=DG(r);let a=TG(r);const c=e.getColumns(o);a=Array.from({length:c},((e,t)=>a[t]||"auto"));if(a.length!=s.length||a.includes("auto")){xG(s,r,vG(a),i.writer)}}),{priority:"low"})}function SG(){return e=>e.on("insert:table",((e,t,n)=>{const i=n.writer;const o=t.item;const r=n.mapper.toViewElement(o);const s=r.is("element","table")?r:Array.from(r.getChildren()).find((e=>e.is("element","table")));const a=EG(o);if(a){i.addClass("ck-table-resized",s)}else{i.removeClass("ck-table-resized",s)}}),{priority:"low"})}class BG extends yu{static get requires(){return[Mq,q$]}static get pluginName(){return"TableColumnResizeEditing"}constructor(e){super(e);this._isResizingActive=false;this.set("_isResizingAllowed",true);this._resizingData=null;this._domEmitter=new(Qa());this._tableUtilsPlugin=e.plugins.get("TableUtils");this.on("change:_isResizingAllowed",((t,n,i)=>{const o=i?"removeClass":"addClass";e.editing.view.change((t=>{for(const n of e.editing.view.document.roots){t[o]("ck-column-resize_disabled",e.editing.view.document.getRoot(n.rootName))}}))}))}init(){this._extendSchema();this._registerPostFixer();this._registerConverters();this._registerResizingListeners();this._registerResizerInserter();const e=this.editor;const t=e.plugins.get("TableColumnResize");const n=e.plugins.get("TableEditing");n.registerAdditionalSlot({filter:e=>e.is("element","tableColumnGroup"),positionOffset:0});const i=new MG(e);e.commands.add("resizeTableWidth",i);e.commands.add("resizeColumnWidths",i);this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",i,"isEnabled",((e,t,n)=>!e&&t&&n))}destroy(){this._domEmitter.stopListening();super.destroy()}getColumnGroupElement(e){return EG(e)}getTableColumnElements(e){return DG(e)}getTableColumnsWidths(e){return TG(e)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]});this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:true});this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth"],isLimit:true})}_registerPostFixer(){const e=this.editor;const t=e.model;t.document.registerPostFixer((e=>{let i=false;for(const o of hG(t)){const t=this.getColumnGroupElement(o);const r=this.getTableColumnElements(t);const s=this.getTableColumnsWidths(t);let a=vG(s);a=n(a,o,this);if(A_(s,a)){continue}xG(r,t,a,e);i=true}return i}));function n(e,t,n){const o=n._tableUtilsPlugin.getColumns(t);const r=o-e.length;if(r===0){return e}const s=e.map((e=>Number(e.replace("%",""))));const a=i(n.editor.model.document.differ,t);for(const e of a){const i=o-s.length;if(i===0){continue}const r=i>0;const a=n._tableUtilsPlugin.getCellLocation(e).column;if(r){const e=fG(t,n.editor);const o=_G(i,e);s.splice(a,0,...o)}else{const e=s.splice(a,Math.abs(i));s[a]+=AG(e)}}return s.map((e=>e+"%"))}function i(e,t){const n=new Set;for(const i of e.getChanges()){if(i.type=="insert"&&i.position.nodeAfter&&i.position.nodeAfter.name=="tableCell"&&i.position.nodeAfter.getAncestors().includes(t)){n.add(i.position.nodeAfter)}else if(i.type=="remove"){const e=i.position.nodeBefore||i.position.nodeAfter;if(e.name=="tableCell"&&e.getAncestors().includes(t)){n.add(e)}}}return n}}_registerConverters(){const e=this.editor;const t=e.conversion;t.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:e=>e.getStyle("width")}});t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:e=>({name:"figure",key:"style",value:{width:e}})});t.elementToElement({model:"tableColumnGroup",view:"colgroup"});t.elementToElement({model:"tableColumn",view:"col"});t.for("downcast").add(SG());t.for("upcast").add(IG(this._tableUtilsPlugin));t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:e=>{const t=e.getStyle("width");if(!t||!t.endsWith("%")){return"auto"}return t}}});t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:e=>({key:"style",value:{width:e}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(tG);e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"});this._domEmitter.listenTo(nc.window.document,"mousemove",eE(this._onMouseMoveHandler.bind(this),50));this._domEmitter.listenTo(nc.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(e,t){const n=t.target;if(!n.hasClass("ck-table-column-resizer")){return}if(!this._isResizingAllowed){return}const i=this.editor;const o=i.editing.mapper.toModelElement(n.findAncestor("figure"));if(!i.model.canEditAt(o)){return}t.preventDefault();e.stop();const r=c(o,this._tableUtilsPlugin,i);const s=n.findAncestor("table");const a=i.editing.view;if(!Array.from(s.getChildren()).find((e=>e.is("element","colgroup")))){a.change((e=>{l(e,r,s)}))}this._isResizingActive=true;this._resizingData=this._getResizingData(t,r);a.change((e=>d(e,s,this._resizingData)));function c(e,t,n){const i=Array(t.getColumns(e));const o=new c$(e);for(const e of o){const t=n.editing.mapper.toViewElement(e.cell);const o=n.editing.view.domConverter.mapViewToDom(t);const r=yG(o);if(!i[e.column]||r<i[e.column]){i[e.column]=kG(r)}}return i}function l(e,t,n){const i=e.createContainerElement("colgroup");for(let n=0;n<t.length;n++){const o=e.createEmptyElement("col");const r=`${kG(t[n]/AG(t)*100)}%`;e.setStyle("width",r,o);e.insert(e.createPositionAt(i,"end"),o)}e.insert(e.createPositionAt(n,0),i)}function d(e,t,n){const i=n.widths.viewFigureWidth/n.widths.viewFigureParentWidth;e.addClass("ck-table-resized",t);e.addClass("ck-table-column-resizer__active",n.elements.viewResizer);e.setStyle("width",`${kG(i*100)}%`,t.findAncestor("figure"))}}_onMouseMoveHandler(e,t){if(!this._isResizingActive){return}if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:n,flags:{isRightEdge:i,isTableCentered:o,isLtrContent:r},elements:{viewFigure:s,viewLeftColumn:a,viewRightColumn:c},widths:{viewFigureParentWidth:l,tableWidth:d,leftColumnWidth:u,rightColumnWidth:h}}=this._resizingData;const f=-u+dG;const g=i?l-d:h-dG;const m=(r?1:-1)*(i&&o?2:1);const p=wG((t.clientX-n)*m,Math.min(f,0),Math.max(g,0));if(p===0){return}this.editor.editing.view.change((e=>{const t=kG((u+p)*100/d);e.setStyle("width",`${t}%`,a);if(i){const t=kG((d+p)*100/l);e.setStyle("width",`${t}%`,s)}else{const t=kG((h-p)*100/d);e.setStyle("width",`${t}%`,c)}}))}_onMouseUpHandler(){if(!this._isResizingActive){return}const{viewResizer:e,modelTable:t,viewFigure:n,viewColgroup:i}=this._resizingData.elements;const o=this.editor;const r=o.editing.view;const s=this.getColumnGroupElement(t);const a=Array.from(i.getChildren()).filter((e=>e.is("view:element")));const c=s?this.getTableColumnsWidths(s):null;const l=a.map((e=>e.getStyle("width")));const d=!A_(c,l);const u=t.getAttribute("tableWidth");const h=n.getStyle("width");const f=u!==h;if(d||f){if(this._isResizingAllowed){o.execute("resizeTableWidth",{table:t,tableWidth:`${kG(h)}%`,columnWidths:l})}else{r.change((e=>{if(c){for(const t of a){e.setStyle("width",c.shift(),t)}}else{e.remove(i)}if(f){if(u){e.setStyle("width",u,n)}else{e.removeStyle("width",n)}}if(!c&&!u){e.removeClass("ck-table-resized",[...n.getChildren()].find((e=>e.name==="table")))}}))}}r.change((t=>{t.removeClass("ck-table-column-resizer__active",e)}));this._isResizingActive=false;this._resizingData=null}_getResizingData(e,t){const n=this.editor;const i=e.domEvent.clientX;const o=e.target;const r=o.findAncestor("td")||o.findAncestor("th");const s=n.editing.mapper.toModelElement(r);const a=s.findAncestor("table");const c=bG(s,this._tableUtilsPlugin).rightEdge;const l=this._tableUtilsPlugin.getColumns(a)-1;const d=c===l;const u=!a.hasAttribute("tableAlignment");const h=n.locale.contentLanguageDirection!=="rtl";const f=r.findAncestor("table");const g=f.findAncestor("figure");const m=[...f.getChildren()].find((e=>e.is("element","colgroup")));const p=m.getChild(c);const b=d?undefined:m.getChild(c+1);const k=pG(n.editing.view.domConverter.mapViewToDom(g.parent));const w=pG(n.editing.view.domConverter.mapViewToDom(g));const _=gG(a,n);const A=t[c];const v=d?undefined:t[c+1];return{columnPosition:i,flags:{isRightEdge:d,isTableCentered:u,isLtrContent:h},elements:{viewResizer:o,modelTable:a,viewFigure:g,viewColgroup:m,viewLeftColumn:p,viewRightColumn:b},widths:{viewFigureParentWidth:k,viewFigureWidth:w,tableWidth:_,leftColumnWidth:A,rightColumnWidth:v}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add((e=>{e.on("insert:tableCell",((e,t,n)=>{const i=t.item;const o=n.mapper.toViewElement(i);const r=n.writer;r.insert(r.createPositionAt(o,"end"),r.createUIElement("div",{class:"ck-table-column-resizer"}))}),{priority:"lowest"})}))}}class NG extends Eu{constructor(e,t,n){super(e);this.attributeName=t;this._defaultValue=n}refresh(){const e=this.editor;const t=this.editor.plugins.get("TableUtils");const n=t.getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!n.length;this.value=this._getSingleValue(n)}execute(e={}){const{value:t,batch:n}=e;const i=this.editor.model;const o=this.editor.plugins.get("TableUtils");const r=o.getSelectionAffectedTableCells(i.document.selection);const s=this._getValueToSet(t);i.enqueueChange(n,(e=>{if(s){r.forEach((t=>e.setAttribute(this.attributeName,s,t)))}else{r.forEach((t=>e.removeAttribute(this.attributeName,t)))}}))}_getAttribute(e){if(!e){return}const t=e.getAttribute(this.attributeName);if(t===this._defaultValue){return}return t}_getValueToSet(e){if(e===this._defaultValue){return}return e}_getSingleValue(e){const t=this._getAttribute(e[0]);const n=e.every((e=>this._getAttribute(e)===t));return n?t:undefined}}function zG(e){if(!e||!isObject(e)){return e}const{top:t,right:n,bottom:i,left:o}=e;if(t==n&&n==i&&i==o){return t}}function PG(e,t){const n=parseFloat(e);if(Number.isNaN(n)){return e}if(String(n)!==String(e)){return e}return`${n}${t}`}function LG(e,t={}){const n={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...e};if(t.includeAlignmentProperty&&!n.alignment){n.alignment="center"}if(t.includePaddingProperty&&!n.padding){n.padding=""}if(t.includeVerticalAlignmentProperty&&!n.verticalAlignment){n.verticalAlignment="middle"}if(t.includeHorizontalAlignmentProperty&&!n.horizontalAlignment){n.horizontalAlignment=t.isRightToLeftContent?"right":"left"}return n}class OG extends NG{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){e=PG(e,"px");if(e===this._defaultValue){return}return e}}class RG extends yu{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Mq]}init(){const e=this.editor;const t=LG(e.config.get("table.tableCellProperties.defaultProperties"));e$(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:t.width});e.commands.add("tableCellWidth",new OG(e,t.width))}}var jG=__webpack_require__(728);var FG={injectType:"singletonStyleTag",attributes:{"data-cke":true}};FG.insert="head";FG.singleton=true;var VG=zl()(jG.Z,FG);const HG=jG.Z.locals||{};class UG extends yu{static get requires(){return[BG,RG]}static get pluginName(){return"TableColumnResize"}}function WG(e){const t=e.getSelectedElement();if(t&&qG(t)){return t}return null}function $G(e){const t=e.getFirstPosition();if(!t){return null}let n=t.parent;while(n){if(n.is("element")&&qG(n)){return n}n=n.parent}return null}function qG(e){return!!e.getCustomProperty("table")&&FS(e)}class GG extends yu{static get requires(){return[IB]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor;const t=e.t;const n=e.plugins.get(IB);const i=e.config.get("table.contentToolbar");const o=e.config.get("table.tableToolbar");if(i){n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:$G})}if(o){n.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:WG})}}}class YG extends ID{}YG.builtinPlugins=[YD,UT,JM,iI,EI,BI,gS,xS,HN,rz,Yz,iP,tL,mL,GL,YL,FP,eO,sO,hO,qO,iR,QR,eV,eH,zH,kU,qN,uW,hW,$W,cG,UG,GG,MT];YG.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const KG=YG})();__webpack_exports__=__webpack_exports__["default"];return __webpack_exports__})()));
//# sourceMappingURL=ckeditor.js.map