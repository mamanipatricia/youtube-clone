/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2c35=['pluginName','add','attributes','getChanges','registerPostFixer','extend','view','heading1','nodeAfter','forEach','HeadingId','hasAttribute','consumable','string','editor','setAttribute','insert','_registerHeadingIdAttributePostfixer','afterInit','writer','delete','low','consume','change','schema','getContainedElement','_customDataDowncastHeadingsConversion','set','has','position','type','toViewElement','downcast','clear','remove','headingId.modelAttributeName','viewItem','getAttribute','get','headingId','differ','paragraph','document','mapper','_customUpcastHeadingsConversion','name','conversion','match','removeAttribute','modelRange','item','model','attribute:headingId:','for'];(function(_0x36541b,_0x2c35cb){const _0x361702=function(_0x2feadd){while(--_0x2feadd){_0x36541b['push'](_0x36541b['shift']());}};_0x361702(++_0x2c35cb);}(_0x2c35,0x72));const _0x3617=function(_0x36541b,_0x2c35cb){_0x36541b=_0x36541b-0x0;let _0x361702=_0x2c35[_0x36541b];return _0x361702;};import{Plugin as _0x41c8d4}from'ckeditor5/src/core';import{uid as _0x564a1c,priorities as _0x141232}from'ckeditor5/src/utils';export default class A extends _0x41c8d4{static get[_0x3617('0x30')](){return _0x3617('0x4');}[_0x3617('0xc')](){const _0x58d954=this[_0x3617('0x8')];if(_0x58d954['config'][_0x3617('0x20')](_0x3617('0x1d')))return;(function(_0x305e09){const _0x51aaa3=new Map();if(_0x305e09)return _0x305e09[_0x3617('0x3')](_0x47fb81=>{_0x3617('0x23')!==_0x47fb81[_0x3617('0x2d')]&&_0x51aaa3[_0x3617('0x15')](_0x47fb81[_0x3617('0x0')],_0x47fb81[_0x3617('0x2d')]);}),_0x51aaa3[_0x3617('0x20')]('h1')||_0x51aaa3['set']('h1',_0x3617('0x1')),_0x51aaa3;return _0x51aaa3;}(this[_0x3617('0x8')]['config'][_0x3617('0x20')]('heading.options'))['forEach']((_0xaafb71,_0x2163e1)=>{this[_0x3617('0x26')](_0x2163e1),this['_customDataDowncastHeadingsConversion'](_0xaafb71),_0x58d954['model'][_0x3617('0x12')]['isRegistered'](_0xaafb71)&&_0x58d954['model'][_0x3617('0x12')][_0x3617('0x35')](_0xaafb71,{'allowAttributes':_0x3617('0x21')});}),this[_0x3617('0xb')]());}['_customUpcastHeadingsConversion'](_0x28586d){this[_0x3617('0x8')]['data']['upcastDispatcher']['on']('element:'+_0x28586d,(_0xd72867,_0x1bc394,_0x417dce)=>{const {consumable:_0x45fa87,writer:_0x5e46e2}=_0x417dce,_0x432581=_0x1bc394[_0x3617('0x1e')][_0x3617('0x1f')]('id'),_0x375983=_0x1bc394[_0x3617('0x2b')][_0x3617('0x13')]();if(!(_0x432581&&_0x432581['length']||_0x375983[_0x3617('0x5')](_0x3617('0x21'))))return _0x45fa87[_0x3617('0x10')](_0x1bc394['viewItem'],{'attributes':['id']}),void _0x5e46e2[_0x3617('0x9')]('headingId',_0x564a1c(),_0x375983);_0x45fa87['consume'](_0x1bc394[_0x3617('0x1e')],{'attributes':['id']})&&_0x5e46e2['setAttribute'](_0x3617('0x21'),_0x432581,_0x375983);},{'priority':_0x141232[_0x3617('0x20')](_0x3617('0xf'))+0.5});}[_0x3617('0x14')](_0x4dd241){this[_0x3617('0x8')][_0x3617('0x28')][_0x3617('0x2f')](_0x3617('0x1a'))[_0x3617('0x31')](_0x408775=>_0x408775['on'](_0x3617('0x2e')+_0x4dd241,(_0x23713b,_0x2dfb90,_0x40c83e)=>{if(!_0x40c83e[_0x3617('0x6')]['consume'](_0x2dfb90[_0x3617('0x2c')],_0x23713b[_0x3617('0x27')]))return;const _0x412b2b=_0x2dfb90[_0x3617('0x2c')][_0x3617('0x1f')](_0x3617('0x21')),_0x40aecd=_0x40c83e[_0x3617('0x25')][_0x3617('0x19')](_0x2dfb90[_0x3617('0x2c')]);_0x40c83e[_0x3617('0xd')][_0x3617('0x9')]('id',_0x412b2b,_0x40aecd);}));}['_registerHeadingIdAttributePostfixer'](){const _0x54311d=this[_0x3617('0x8')],_0x2874c4=new Set(),_0x10e991=new Set();function _0x10196b(_0x55fa57,_0x169c2a){const _0x2f1d85=_0x564a1c();return _0x10e991[_0x3617('0x31')](_0x2f1d85),_0x55fa57[_0x3617('0x9')](_0x3617('0x21'),_0x2f1d85,_0x169c2a),_0x2f1d85;}function _0x3af315(_0x43fc68,_0x5b76d8){_0x43fc68[_0x3617('0x2a')](_0x3617('0x21'),_0x5b76d8);}_0x54311d['model'][_0x3617('0x24')][_0x3617('0x34')](_0xcf9e9=>{const _0x164c99=_0x54311d['model']['document'][_0x3617('0x22')][_0x3617('0x33')]();let _0x143f70=!0x1;for(const _0x19cd5e of _0x164c99)if(_0x3617('0xa')==_0x19cd5e[_0x3617('0x18')]&&_0x19cd5e[_0x3617('0x27')]){if(_0x19cd5e[_0x3617('0x27')][_0x3617('0x29')](/heading\d/)){const _0x724395=_0x19cd5e[_0x3617('0x32')]['get'](_0x3617('0x21'));_0x3617('0x7')==typeof _0x724395?_0x2874c4[_0x3617('0x16')](_0x724395)?(_0x10196b(_0xcf9e9,_0x19cd5e['position'][_0x3617('0x2')]),_0x143f70=!0x0):_0x10e991['add'](_0x724395):(_0x10196b(_0xcf9e9,_0x19cd5e[_0x3617('0x17')][_0x3617('0x2')]),_0x143f70=!0x0);}else _0x3617('0x7')==typeof _0x19cd5e[_0x3617('0x32')]['get'](_0x3617('0x21'))&&(_0x3af315(_0xcf9e9,_0x19cd5e['position'][_0x3617('0x2')]),_0x143f70=!0x0);}else{if(_0x3617('0x1c')==_0x19cd5e[_0x3617('0x18')]){const _0x23cdef=_0x19cd5e[_0x3617('0x32')][_0x3617('0x20')](_0x3617('0x21'));_0x3617('0x7')==typeof _0x23cdef&&_0x2874c4[_0x3617('0xe')](_0x23cdef);}}return _0x143f70;}),_0x54311d[_0x3617('0x2d')][_0x3617('0x24')]['on'](_0x3617('0x11'),()=>{_0x10e991[_0x3617('0x3')](_0x49d7d2=>_0x2874c4[_0x3617('0x31')](_0x49d7d2)),_0x10e991[_0x3617('0x1b')]();});}}