/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ButtonView as _0x41eb27}from'ckeditor5/src/ui';import{CKEditorError as _0x39927c}from'ckeditor5/src/utils';import{Plugin as _0x5c0dfb}from'ckeditor5/src/core';import _0x35b8b0 from'../../theme/icons/table-of-contents.svg';export default class s extends _0x5c0dfb{static get['pluginName'](){return'TableOfContentsUI';}constructor(_0x493106){super(_0x493106),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x85c255=this['editor'],t=_0x85c255['t'];_0x85c255['ui']['componentFactory']['add']('tableOfContents',_0x2a2bf2=>{const _0xb04ac4=_0x85c255['commands']['get']('insertTableOfContents'),_0x507e99=new _0x41eb27(_0x2a2bf2);return _0x507e99['set']({'label':t('Table\x20of\x20contents'),'icon':_0x35b8b0,'tooltip':!0x0}),_0x507e99['bind']('isEnabled')['to'](_0xb04ac4,'isEnabled'),this['listenTo'](_0x507e99,'execute',()=>_0x85c255['execute']('insertTableOfContents')),_0x507e99;}),this['licenseKey']=_0x85c255['config']['get']('licenseKey');const _0x22ca37=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x364b1b;for(const _0x5d2307 in _0x22ca37){const _0x1e0b51=_0x5d2307,_0x1ada26=_0x22ca37[_0x1e0b51];if('tableOfContentsLicenseKeyTrial'===_0x1ada26||'tableOfContentsLicenseKeyInvalid'===_0x1ada26||'tableOfContentsLicenseKeyValid'===_0x1ada26||'tableOfContentsLicenseKeyTrialLimit:operations'===_0x1ada26){delete _0x22ca37[_0x1e0b51],_0x364b1b=_0x1ada26;break;}}if('tableOfContentsLicenseKeyInvalid'===_0x364b1b)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x39927c('table-of-contents-invalid-license-key',null);if('tableOfContentsLicenseKeyTrial'===_0x364b1b&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20table\x20of\x20contents\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'tableOfContentsLicenseKeyTrialLimit:operations'===_0x364b1b)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x39927c('table-of-contents-trial-license-key-reached-limit-changes',null);'tableOfContentsLicenseKeyValid'===_0x364b1b&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}['destroy'](){this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}